!function(){var a={1788:function(e,t,a){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){for(var t=e,a=t.lib.BlockCipher,o=t.algo,l=[],i=[],n=[],r=[],d=[],s=[],c=[],u=[],m=[],p=[],b=[],f=0;f<256;f++)b[f]=f<128?f<<1:f<<1^283;for(var h=0,g=0,f=0;f<256;f++){var v=g^g<<1^g<<2^g<<3^g<<4,x=(l[h]=v=v>>>8^255&v^99,b[i[v]=h]),y=b[x],w=b[y],_=257*b[v]^16843008*v;n[h]=_<<24|_>>>8,r[h]=_<<16|_>>>16,d[h]=_<<8|_>>>24,s[h]=_,c[v]=(_=16843009*w^65537*y^257*x^16843008*h)<<24|_>>>8,u[v]=_<<16|_>>>16,m[v]=_<<8|_>>>24,p[v]=_,h?(h=x^b[b[b[w^x]]],g^=b[b[g]]):h=g=1}var E=[0,1,2,4,8,16,32,64,128,27,54],o=o.AES=a.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,a=e.sigBytes/4,o=4*(1+(this._nRounds=6+a)),i=this._keySchedule=[],n=0;n<o;n++)n<a?i[n]=t[n]:(s=i[n-1],n%a?6<a&&n%a==4&&(s=l[s>>>24]<<24|l[s>>>16&255]<<16|l[s>>>8&255]<<8|l[255&s]):(s=l[(s=s<<8|s>>>24)>>>24]<<24|l[s>>>16&255]<<16|l[s>>>8&255]<<8|l[255&s],s^=E[n/a|0]<<24),i[n]=i[n-a]^s);for(var r=this._invKeySchedule=[],d=0;d<o;d++){var s,n=o-d;s=d%4?i[n]:i[n-4],r[d]=d<4||n<=4?s:c[l[s>>>24]]^u[l[s>>>16&255]]^m[l[s>>>8&255]]^p[l[255&s]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,n,r,d,s,l)},decryptBlock:function(e,t){var a=e[t+1],a=(e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,c,u,m,p,i),e[t+1]);e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,o,i,n,r,d){for(var s=this._nRounds,l=e[t]^a[0],c=e[t+1]^a[1],u=e[t+2]^a[2],m=e[t+3]^a[3],p=4,b=1;b<s;b++)var f=o[l>>>24]^i[c>>>16&255]^n[u>>>8&255]^r[255&m]^a[p++],h=o[c>>>24]^i[u>>>16&255]^n[m>>>8&255]^r[255&l]^a[p++],g=o[u>>>24]^i[m>>>16&255]^n[l>>>8&255]^r[255&c]^a[p++],v=o[m>>>24]^i[l>>>16&255]^n[c>>>8&255]^r[255&u]^a[p++],l=f,c=h,u=g,m=v;f=(d[l>>>24]<<24|d[c>>>16&255]<<16|d[u>>>8&255]<<8|d[255&m])^a[p++],h=(d[c>>>24]<<24|d[u>>>16&255]<<16|d[m>>>8&255]<<8|d[255&l])^a[p++],g=(d[u>>>24]<<24|d[m>>>16&255]<<16|d[l>>>8&255]<<8|d[255&c])^a[p++],v=(d[m>>>24]<<24|d[l>>>16&255]<<16|d[c>>>8&255]<<8|d[255&u])^a[p++];e[t]=f,e[t+1]=h,e[t+2]=g,e[t+3]=v},keySize:8});return t.AES=a._createHelper(o),e.AES},"object"===i(t)?e.exports=t=o(a(1656),a(2963),a(2624),a(1915),a(7632)):(a=[a(1656),a(2963),a(2624),a(1915),a(7632)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},7632:function(e,t,a){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){function i(e){return"string"==typeof e?b:p}function n(e,t,a){var o,i=this._iv;i?(o=i,this._iv=void 0):o=this._prevBlock;for(var n=0;n<a;n++)e[t+n]^=o[n]}var t,a,r,o,d,s,l,c,u,m,p,b;e.lib.Cipher||(t=(e=e).lib,a=t.Base,r=t.WordArray,o=t.BufferedBlockAlgorithm,(d=e.enc).Utf8,s=d.Base64,l=e.algo.EvpKDF,c=t.Cipher=o.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(o){return{encrypt:function(e,t,a){return i(t).encrypt(o,e,t,a)},decrypt:function(e,t,a){return i(t).decrypt(o,e,t,a)}}}}),t.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=e.mode={},u=t.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=d.CBC=((d=u.extend()).Encryptor=d.extend({processBlock:function(e,t){var a=this._cipher,o=a.blockSize;n.call(this,e,t,o),a.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),d.Decryptor=d.extend({processBlock:function(e,t){var a=this._cipher,o=a.blockSize,i=e.slice(t,t+o);a.decryptBlock(e,t),n.call(this,e,t,o),this._prevBlock=i}}),d),d=(e.pad={}).Pkcs7={pad:function(e,t){for(var t=4*t,a=t-e.sigBytes%t,o=a<<24|a<<16|a<<8|a,i=[],n=0;n<a;n+=4)i.push(o);t=r.create(i,a);e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.BlockCipher=c.extend({cfg:c.cfg.extend({mode:u,padding:d}),reset:function(){c.reset.call(this);var e,t=this.cfg,a=t.iv,t=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=t.createEncryptor:(e=t.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,a&&a.words):(this._mode=e.call(t,this,a&&a.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),m=t.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,e=e.salt,e=e?r.create([1398893684,1701076831]).concat(e).concat(t):t;return e.toString(s)},parse:function(e){var t,e=s.parse(e),a=e.words;return 1398893684==a[0]&&1701076831==a[1]&&(t=r.create(a.slice(2,4)),a.splice(0,4),e.sigBytes-=16),m.create({ciphertext:e,salt:t})}},p=t.SerializableCipher=a.extend({cfg:a.extend({format:u}),encrypt:function(e,t,a,o){o=this.cfg.extend(o);var i=e.createEncryptor(a,o),t=i.finalize(t),i=i.cfg;return m.create({ciphertext:t,key:a,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,a,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(a,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),d=(e.kdf={}).OpenSSL={execute:function(e,t,a,o,i){o=o||r.random(8),i=(i?l.create({keySize:t+a,hasher:i}):l.create({keySize:t+a})).compute(e,o);e=r.create(i.words.slice(t),4*a);return i.sigBytes=4*t,m.create({key:i,iv:e,salt:o})}},b=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,a,o){a=(o=this.cfg.extend(o)).kdf.execute(a,e.keySize,e.ivSize,o.salt,o.hasher),o.iv=a.iv,e=p.encrypt.call(this,e,t,a.key,o);return e.mixIn(a),e},decrypt:function(e,t,a,o){o=this.cfg.extend(o),t=this._parse(t,o.format);a=o.kdf.execute(a,e.keySize,e.ivSize,t.salt,o.hasher);return o.iv=a.iv,p.decrypt.call(this,e,t,a.key,o)}}))},"object"===i(t)?e.exports=t=o(a(1656),a(1915)):(a=[a(1656),a(1915)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},1656:function(e,t,b){var a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){var o,l=Math;if("undefined"!=typeof window&&window.crypto&&(o=window.crypto),"undefined"!=typeof self&&self.crypto&&(o=self.crypto),!(o=!(o=!(o="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:o)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:o)&&void 0!==b.g&&b.g.crypto?b.g.crypto:o))try{o=b(2480)}catch(e){}var a=Object.create||function(e){return t.prototype=e,e=new t,t.prototype=null,e};function t(){}var e={},i=e.lib={},n=i.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,a=e.words,o=this.sigBytes,i=e.sigBytes;if(this.clamp(),o%4)for(var n=0;n<i;n++){var r=a[n>>>2]>>>24-n%4*8&255;t[o+n>>>2]|=r<<24-(o+n)%4*8}else for(var d=0;d<i;d+=4)t[o+d>>>2]=a[d>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=l.ceil(t/4)},clone:function(){var e;return(e=n.clone.call(this)).words=this.words.slice(0),e},random:function(e){for(var t=[],a=0;a<e;a+=4)t.push(function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new c.init(t,e)}}),r=e.enc={},d=r.Hex={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],i=0;i<a;i++){var n=t[i>>>2]>>>24-i%4*8&255;o.push((n>>>4).toString(16)),o.push((15&n).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o+=2)a[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new c.init(a,t/2)}},s=r.Latin1={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],i=0;i<a;i++){var n=t[i>>>2]>>>24-i%4*8&255;o.push(String.fromCharCode(n))}return o.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o++)a[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new c.init(a,t)}},u=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},m=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,a=this._data,o=a.words,i=a.sigBytes,n=this.blockSize,r=i/(4*n),d=(r=e?l.ceil(r):l.max((0|r)-this._minBufferSize,0))*n,e=l.min(4*d,i);if(d){for(var s=0;s<d;s+=n)this._doProcessBlock(o,s);t=o.splice(0,d),a.sigBytes-=e}return new c.init(t,e)},clone:function(){var e;return(e=n.clone.call(this))._data=this._data.clone(),e},_minBufferSize:0}),p=(i.Hasher=m.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(e,t){return new a.init(t).finalize(e)}},_createHmacHelper:function(a){return function(e,t){return new p.HMAC.init(a,t).finalize(e)}}}),e.algo={});return e},"object"===o(t)?e.exports=t=a():void 0!==(t="function"==typeof(a=a)?a.apply(t,[]):a)&&(e.exports=t)},2963:function(e,t,a){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var b;return b=e.lib.WordArray,e.enc.Base64={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=this._map,i=(e.clamp(),[]),n=0;n<a;n+=3)for(var r=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,d=0;d<4&&n+.75*d<a;d++)i.push(o.charAt(r>>>6*(3-d)&63));var s=o.charAt(64);if(s)for(;i.length%4;)i.push(s);return i.join("")},parse:function(e){var t=e.length,a=this._map;if(!(o=this._reverseMap))for(var o=this._reverseMap=[],i=0;i<a.length;i++)o[a.charCodeAt(i)]=i;for(var n,r,d=a.charAt(64),s=(!d||-1!==(d=e.indexOf(d))&&(t=d),e),l=t,c=o,u=[],m=0,p=0;p<l;p++)p%4&&(r=c[s.charCodeAt(p-1)]<<p%4*2,n=c[s.charCodeAt(p)]>>>6-p%4*2,r=r|n,u[m>>>2]|=r<<24-m%4*8,m++);return b.create(u,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"===i(t)?e.exports=t=o(a(1656)):(a=[a(1656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},8623:function(e,t,a){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return e.enc.Utf8},"object"===i(t)?e.exports=t=o(a(1656)):(a=[a(1656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},1915:function(e,t,a){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,a,o,c,i,n;return a=(t=e).lib,o=a.Base,c=a.WordArray,a=t.algo,i=a.MD5,n=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:i,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a,o=this.cfg,i=o.hasher.create(),n=c.create(),r=n.words,d=o.keySize,s=o.iterations;r.length<d;){a&&i.update(a),a=i.update(e).finalize(t),i.reset();for(var l=1;l<s;l++)a=i.finalize(a),i.reset();n.concat(a)}return n.sigBytes=4*d,n}}),t.EvpKDF=function(e,t,a){return n.create(a).compute(e,t)},e.EvpKDF},"object"===i(t)?e.exports=t=o(a(1656),a(1272),a(2260)):(a=[a(1656),a(1272),a(2260)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},2260:function(e,t,a){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,d;t=e.lib.Base,d=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=d.parse(t));for(var a=e.blockSize,o=4*a,e=((t=t.sigBytes>o?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),i=e.words,n=t.words,r=0;r<a;r++)i[r]^=1549556828,n[r]^=909522486;e.sigBytes=t.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})},"object"===i(t)?e.exports=t=o(a(1656)):(a=[a(1656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},2624:function(e,t,a){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){for(var s=Math,t=e,a=(i=t.lib).WordArray,o=i.Hasher,i=t.algo,T=[],n=0;n<64;n++)T[n]=4294967296*s.abs(s.sin(n+1))|0;function M(e,t,a,o,i,n,r){e=e+(t&a|~t&o)+i+r;return(e<<n|e>>>32-n)+t}function P(e,t,a,o,i,n,r){e=e+(t&o|a&~o)+i+r;return(e<<n|e>>>32-n)+t}function k(e,t,a,o,i,n,r){e=e+(t^a^o)+i+r;return(e<<n|e>>>32-n)+t}function S(e,t,a,o,i,n,r){e=e+(a^(t|~o))+i+r;return(e<<n|e>>>32-n)+t}return i=i.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var o=t+a,i=e[o];e[o]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var n=this._hash.words,r=e[t+0],d=e[t+1],s=e[t+2],l=e[t+3],c=e[t+4],u=e[t+5],m=e[t+6],p=e[t+7],b=e[t+8],f=e[t+9],h=e[t+10],g=e[t+11],v=e[t+12],x=e[t+13],y=e[t+14],w=e[t+15],_=M(n[0],D=n[1],A=n[2],E=n[3],r,7,T[0]),E=M(E,_,D,A,d,12,T[1]),A=M(A,E,_,D,s,17,T[2]),D=M(D,A,E,_,l,22,T[3]);_=M(_,D,A,E,c,7,T[4]),E=M(E,_,D,A,u,12,T[5]),A=M(A,E,_,D,m,17,T[6]),D=M(D,A,E,_,p,22,T[7]),_=M(_,D,A,E,b,7,T[8]),E=M(E,_,D,A,f,12,T[9]),A=M(A,E,_,D,h,17,T[10]),D=M(D,A,E,_,g,22,T[11]),_=M(_,D,A,E,v,7,T[12]),E=M(E,_,D,A,x,12,T[13]),A=M(A,E,_,D,y,17,T[14]),_=P(_,D=M(D,A,E,_,w,22,T[15]),A,E,d,5,T[16]),E=P(E,_,D,A,m,9,T[17]),A=P(A,E,_,D,g,14,T[18]),D=P(D,A,E,_,r,20,T[19]),_=P(_,D,A,E,u,5,T[20]),E=P(E,_,D,A,h,9,T[21]),A=P(A,E,_,D,w,14,T[22]),D=P(D,A,E,_,c,20,T[23]),_=P(_,D,A,E,f,5,T[24]),E=P(E,_,D,A,y,9,T[25]),A=P(A,E,_,D,l,14,T[26]),D=P(D,A,E,_,b,20,T[27]),_=P(_,D,A,E,x,5,T[28]),E=P(E,_,D,A,s,9,T[29]),A=P(A,E,_,D,p,14,T[30]),_=k(_,D=P(D,A,E,_,v,20,T[31]),A,E,u,4,T[32]),E=k(E,_,D,A,b,11,T[33]),A=k(A,E,_,D,g,16,T[34]),D=k(D,A,E,_,y,23,T[35]),_=k(_,D,A,E,d,4,T[36]),E=k(E,_,D,A,c,11,T[37]),A=k(A,E,_,D,p,16,T[38]),D=k(D,A,E,_,h,23,T[39]),_=k(_,D,A,E,x,4,T[40]),E=k(E,_,D,A,r,11,T[41]),A=k(A,E,_,D,l,16,T[42]),D=k(D,A,E,_,m,23,T[43]),_=k(_,D,A,E,f,4,T[44]),E=k(E,_,D,A,v,11,T[45]),A=k(A,E,_,D,w,16,T[46]),_=S(_,D=k(D,A,E,_,s,23,T[47]),A,E,r,6,T[48]),E=S(E,_,D,A,p,10,T[49]),A=S(A,E,_,D,y,15,T[50]),D=S(D,A,E,_,u,21,T[51]),_=S(_,D,A,E,v,6,T[52]),E=S(E,_,D,A,l,10,T[53]),A=S(A,E,_,D,h,15,T[54]),D=S(D,A,E,_,d,21,T[55]),_=S(_,D,A,E,b,6,T[56]),E=S(E,_,D,A,w,10,T[57]),A=S(A,E,_,D,m,15,T[58]),D=S(D,A,E,_,x,21,T[59]),_=S(_,D,A,E,c,6,T[60]),E=S(E,_,D,A,g,10,T[61]),A=S(A,E,_,D,s,15,T[62]),D=S(D,A,E,_,f,21,T[63]),n[0]=n[0]+_|0,n[1]=n[1]+D|0,n[2]=n[2]+A|0,n[3]=n[3]+E|0},_doFinalize:function(){for(var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes,i=(t[o>>>5]|=128<<24-o%32,s.floor(a/4294967296)),i=(t[15+(64+o>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(64+o>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),n=i.words,r=0;r<4;r++){var d=n[r];n[r]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return i},clone:function(){var e;return(e=o.clone.call(this))._hash=this._hash.clone(),e}}),t.MD5=o._createHelper(i),t.HmacMD5=o._createHmacHelper(i),e.MD5},"object"===i(t)?e.exports=t=o(a(1656)):(a=[a(1656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},1272:function(e,t,a){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,a,o,i,c;return a=(t=e).lib,o=a.WordArray,i=a.Hasher,a=t.algo,c=[],a=a.SHA1=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=this._hash.words,o=a[0],i=a[1],n=a[2],r=a[3],d=a[4],s=0;s<80;s++){s<16?c[s]=0|e[t+s]:(l=c[s-3]^c[s-8]^c[s-14]^c[s-16],c[s]=l<<1|l>>>31);var l=(o<<5|o>>>27)+d+c[s];l+=s<20?1518500249+(i&n|~i&r):s<40?1859775393+(i^n^r):s<60?(i&n|i&r|n&r)-1894007588:(i^n^r)-899497514,d=r,r=n,n=i<<30|i>>>2,i=o,o=l}a[0]=a[0]+o|0,a[1]=a[1]+i|0,a[2]=a[2]+n|0,a[3]=a[3]+r|0,a[4]=a[4]+d|0},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(64+o>>>9<<4)]=Math.floor(a/4294967296),t[15+(64+o>>>9<<4)]=a,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e;return(e=i.clone.call(this))._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a),e.SHA1},"object"===i(t)?e.exports=t=o(a(1656)):(a=[a(1656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},9761:function(e){"use strict";var p={single_source_shortest_paths:function(e,t,a){var o,i,n,r,d,s,l,c={},u={},m=(u[t]=0,p.PriorityQueue.make());for(m.push(t,0);!m.empty();)for(n in i=(o=m.pop()).value,r=o.cost,d=e[i]||{})d.hasOwnProperty(n)&&(s=r+d[n],l=u[n],(void 0===u[n]||s<l)&&(u[n]=s,m.push(n,s),c[n]=i));if(void 0!==a&&void 0===u[a])throw t=["Could not find a path from ",t," to ",a,"."].join(""),new Error(t);return c},extract_shortest_path_from_predecessor_list:function(e,t){for(var a=[],o=t;o;)a.push(o),e[o],o=e[o];return a.reverse(),a},find_path:function(e,t,a){e=p.single_source_shortest_paths(e,t,a);return p.extract_shortest_path_from_predecessor_list(e,a)},PriorityQueue:{make:function(e){var t,a=p.PriorityQueue,o={};for(t in e=e||{},a)a.hasOwnProperty(t)&&(o[t]=a[t]);return o.queue=[],o.sorter=e.sorter||a.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=p},1179:function(e){"use strict";e.exports=function(e){for(var t=[],a=e.length,o=0;o<a;o++){var i,n=e.charCodeAt(o);55296<=n&&n<=56319&&o+1<a&&(56320<=(i=e.charCodeAt(o+1))&&i<=57343&&(n=1024*(n-55296)+i-56320+65536,o+=1)),n<128?t.push(n):n<2048?(t.push(n>>6|192),t.push(63&n|128)):n<55296||57344<=n&&n<65536?(t.push(n>>12|224),t.push(n>>6&63|128),t.push(63&n|128)):65536<=n&&n<=1114111?(t.push(n>>18|240),t.push(n>>12&63|128),t.push(n>>6&63|128),t.push(63&n|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},9344:function(e,t,a){function o(t,e){var a,o=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,a)),o}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){p(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function p(e,t,a){(t=function(e){e=function(e,t){if("object"!==n(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===n(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function b(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=a.nmd(e),a=function(){"use strict";function a(e,t){return!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?b(JSON.stringify(e)).map(function(e){return String.fromCharCode(e.charCodeAt(0)+t)}).join(""):JSON.parse(b(e).map(function(e){return String.fromCharCode(e.charCodeAt(0)-t)}).join(""))}function e(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];l();for(var t=0,a=Object.keys(r);t<a.length;t++){var o=a[t],i=r.getItem(o),n=void 0;try{n=JSON.parse(i||"")}catch(e){continue}s(n)&&c in n&&(Date.now()>n.ttl||e)&&r.removeItem(o)}}var o,r,i={d:function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={},d=(i.d(t,{default:function(){return n}}),function(){}),s=function(e){return null!==e&&"Object"===(null==e?void 0:e.constructor.name)},l=function(){if(!o){o=!0;try{(r=u.storage||localStorage).getItem("")}catch(e){r=a={__proto__:t={getItem:function(e){return a[e]||null},setItem:function(e,t){a[e]=t},removeItem:function(e){a[e]=void 0},clear:function(){a={__proto__:t}}}}}e()}var t,a},c=String.fromCharCode(0),u={ttl:null,encrypt:!1,encrypter:a,decrypter:function(e,t){return a(e,t,!1)},secret:75,storage:void 0},n=(Object.seal(u),{config:u,set:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=(l(),m(m(m({},u),a),{},{encrypt:!1!==a.encrypt&&(a.encrypt||u.encrypt),ttl:null===a.ttl?null:a.ttl||u.ttl}));try{var o,i=a.ttl&&!isNaN(a.ttl)&&0<a.ttl,n=i?(p(o={},c,t),p(o,"ttl",Date.now()+1e3*a.ttl),o):t;a.encrypt&&(i?n[c]=(a.encrypter||d)(n[c],a.secret):n=(a.encrypter||d)(n,a.secret)),r.setItem(e,JSON.stringify(n))}catch(e){return!1}},get:function(e){var t,a,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=(l(),r.getItem(e)),o=m(m(m({},u),o),{},{encrypt:!1!==o.encrypt&&(o.encrypt||u.encrypt),ttl:null===o.ttl?null:o.ttl||u.ttl});try{t=JSON.parse(i||""),a=s(t)&&c in t,(o.decrypt||o.encrypt)&&(a?t[c]=(o.decrypter||d)(t[c],o.secret):t=(o.decrypter||d)(t,o.secret))}catch(e){}return a?Date.now()>t.ttl?(r.removeItem(e),null):t[c]:void 0!==t?t:i},flush:e,clear:function(){l(),r.clear()},remove:function(e){l(),r.removeItem(e)}});return t.default},"object"==n(t)&&"object"==n(e)?e.exports=a():void 0!==(t="function"==typeof(a=a)?a.apply(t,[]):a)&&(e.exports=t)},6036:function(e,t,a){"use strict";var s=a(8300);e.exports=function(o,e,t){var i=[],a=!1,n=-1;function r(){for(n=0;n<i.length;n+=2)try{o(i[n],s(i[n+1]),d)}catch(e){t.error(e)}n=-1}function d(){a||(a=!0,e(function(){a=!1,r()}))}return d.sync=r,{mount:function(e,t){if(null!=t&&null==t.view&&"function"!=typeof t)throw new TypeError("m.mount expects a component, not a vnode.");var a=i.indexOf(e);0<=a&&(i.splice(a,2),a<=n&&(n-=2),o(e,[])),null!=t&&(i.push(e,t),o(e,s(t),d))},redraw:d}}},8741:function(e,t,a){"use strict";function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=a(8300),E=a(3963),A=a(3064),D=a(2050),T=a(2660),M=a(8792),P=a(9319),k=a(7195),S={};function C(t){try{return decodeURIComponent(t)}catch(e){return t}}e.exports=function(i,l){var c,u,m,p,b,f,e=null==i?null:"function"==typeof i.setImmediate?i.setImmediate:i.setTimeout,h=A.resolve(),t=!1,n=!1,g=0,v=S,r={onbeforeupdate:function(){return!(!(g=g?2:1)||S===v)},onremove:function(){i.removeEventListener("popstate",s,!1),i.removeEventListener("hashchange",d,!1)},view:function(){var e;if(g&&S!==v)return e=[o(m,p.key,p)],v?v.render(e[0]):e}},x=w.SKIP={};function d(){t=!1;var e=i.location.hash,r=("#"!==w.prefix[0]&&(e=i.location.search+e,"?"!==w.prefix[0]&&"/"!==(e=i.location.pathname+e)[0]&&(e="/"+e)),e.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,C).slice(w.prefix.length)),d=T(r);function s(e){console.error(e),y(u,null,{replace:!0})}P(d.params,i.history.state),function t(a){for(;a<c.length;a++){var o,e,i,n;if(c[a].check(d))return o=c[a].component,e=c[a].route,n=f=function(e){if(n===f){if(e===x)return t(a+1);m=null==e||"function"!=typeof e.view&&"function"!=typeof e?"div":e,p=d.params,b=r,f=null,v=o.render?o:null,2===g?l.redraw():(g=2,l.redraw.sync())}},void((i=o).view||"function"==typeof o?(o={},n(i)):o.onmatch?h.then(function(){return o.onmatch(d.params,r,e)}).then(n,r===u?null:s):n("div"))}if(r===u)throw new Error("Could not resolve default route "+u+".");y(u,null,{replace:!0})}(0)}function s(){t||(t=!0,e(d))}function y(e,t,a){var o;e=D(e,t),n?(s(),t=a?a.state:null,o=a?a.title:null,a&&a.replace?i.history.replaceState(t,o,w.prefix+e):i.history.pushState(t,o,w.prefix+e)):i.location.href=w.prefix+e}function w(e,t,a){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(a).map(function(e){if("/"!==e[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:e,component:a[e],check:M(e)}}),null!=(u=t)){var o=T(t);if(!c.some(function(e){return e.check(o)}))throw new ReferenceError("Default route doesn't match any known routes.")}"function"==typeof i.history.pushState?i.addEventListener("popstate",s,!1):"#"===w.prefix[0]&&i.addEventListener("hashchange",d,!1),n=!0,l.mount(e,r),d()}return w.set=function(e,t,a){null!=f&&((a=a||{}).replace=!0),f=null,y(e,t,a)},w.get=function(){return b},w.prefix="#!",w.Link={view:function(e){var a,o,i,t=E(e.attrs.selector||"a",k(e.attrs,["options","params","selector","onclick"]),e.children);return(t.attrs.disabled=Boolean(t.attrs.disabled))?(t.attrs.href=null,t.attrs["aria-disabled"]="true"):(a=e.attrs.options,o=e.attrs.onclick,i=D(t.attrs.href,e.attrs.params),t.attrs.href=w.prefix+i,t.attrs.onclick=function(e){var t;"function"==typeof o?t=o.call(e.currentTarget,e):null!=o&&"object"===_(o)&&"function"==typeof o.handleEvent&&o.handleEvent(e),!1===t||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,w.set(i,null,a))}),t}},w.param=function(e){return p&&null!=e?p[e]:p},w}},2632:function(e,t,a){"use strict";var o=a(3963);o.trust=a(158),o.fragment=a(1613),e.exports=o},1360:function(e,t,a){"use strict";function o(){return i.apply(this,arguments)}var i=a(2632),n=a(1924),r=a(7945);o.m=i,o.trust=i.trust,o.fragment=i.fragment,o.Fragment="[",o.mount=r.mount,o.route=a(8208),o.render=a(8754),o.redraw=r.redraw,o.request=n.request,o.jsonp=n.jsonp,o.parseQueryString=a(2256),o.buildQueryString=a(1019),o.parsePathname=a(2660),o.buildPathname=a(2050),o.vnode=a(8300),o.PromisePolyfill=a(2121),o.censor=a(7195),e.exports=o},7945:function(e,t,a){"use strict";var o=a(8754);e.exports=a(6036)(o,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},2050:function(e,t,a){"use strict";var u=a(1019),m=a(9319);e.exports=function(e,o){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==o)return e;var t=e.indexOf("?"),a=e.indexOf("#"),i=a<0?e.length:a,n=e.slice(0,t<0?i:t),r={},n=(m(r,o),n.replace(/:([^\/\.-]+)(\.{3})?/g,function(e,t,a){return delete r[t],null==o[t]?e:a?o[t]:encodeURIComponent(String(o[t]))})),d=n.indexOf("?"),s=n.indexOf("#"),l=s<0?n.length:s,c=n.slice(0,d<0?l:d),i=(0<=t&&(c+=e.slice(t,i)),0<=d&&(c+=(t<0?"?":"&")+n.slice(d,l)),u(r));return i&&(c+=(t<0&&d<0?"?":"&")+i),0<=a&&(c+=e.slice(a)),0<=s&&(c+=(a<0?"":"&")+n.slice(s)),c}},8792:function(e,t,a){"use strict";var d=a(2660);e.exports=function(e){var o=d(e),i=Object.keys(o.params),n=[],r=new RegExp("^"+o.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(e,t,a){return null==t?"\\"+e:(n.push({k:t,r:"..."===a}),"..."===a?"(.*)":"."===a?"([^/]+)\\.":"([^/]+)"+(a||""))})+"$");return function(e){for(var t=0;t<i.length;t++)if(o.params[i[t]]!==e.params[i[t]])return!1;if(!n.length)return r.test(e.path);var a=r.exec(e.path);if(null==a)return!1;for(t=0;t<n.length;t++)e.params[n[t].k]=n[t].r?a[t+1]:decodeURIComponent(a[t+1]);return!0}}},2660:function(e,t,a){"use strict";var i=a(2256);e.exports=function(e){var t=e.indexOf("?"),a=e.indexOf("#"),a=a<0?e.length:a,o=e.slice(0,t<0?a:t).replace(/\/{2,}/g,"/");return o?1<(o="/"!==o[0]?"/"+o:o).length&&"/"===o[o.length-1]&&(o=o.slice(0,-1)):o="/",{path:o,params:t<0?{}:i(e.slice(t+1,a))}}},2121:function(e){"use strict";function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){if(!(this instanceof p))throw new Error("Promise must be called with 'new'.");if("function"!=typeof e)throw new TypeError("executor must be a function.");var n=this,r=[],d=[],i=t(r,!0),s=t(d,!1),l=n._instance={resolvers:r,rejectors:d},c="function"==typeof setImmediate?setImmediate:setTimeout;function t(o,i){return function t(a){var e;try{if(!i||null==a||"object"!==m(a)&&"function"!=typeof a||"function"!=typeof(e=a.then))c(function(){i||0!==o.length||console.error("Possible unhandled promise rejection:",a);for(var e=0;e<o.length;e++)o[e](a);r.length=0,d.length=0,l.state=i,l.retry=function(){t(a)}});else{if(a===n)throw new TypeError("Promise can't be resolved with itself.");u(e.bind(a))}}catch(e){s(e)}}}function u(e){var a=0;function t(t){return function(e){0<a++||t(e)}}var o=t(s);try{e(t(i),o)}catch(e){o(e)}}u(e)}p.prototype.then=function(e,t){var i,n,r=this._instance;function a(t,e,a,o){e.push(function(e){if("function"!=typeof t)a(e);else try{i(t(e))}catch(e){n&&n(e)}}),"function"==typeof r.retry&&o===r.state&&r.retry()}var o=new p(function(e,t){i=e,n=t});return a(e,r.resolvers,i,!0),a(t,r.rejectors,n,!1),o},p.prototype.catch=function(e){return this.then(null,e)},p.prototype.finally=function(t){return this.then(function(e){return p.resolve(t()).then(function(){return e})},function(e){return p.resolve(t()).then(function(){return p.reject(e)})})},p.resolve=function(t){return t instanceof p?t:new p(function(e){e(t)})},p.reject=function(a){return new p(function(e,t){t(a)})},p.all=function(d){return new p(function(a,o){var i=d.length,n=0,r=[];if(0===d.length)a([]);else for(var e=0;e<d.length;e++)!function(t){function e(e){n++,r[t]=e,n===i&&a(r)}null==d[t]||"object"!==m(d[t])&&"function"!=typeof d[t]||"function"!=typeof d[t].then?e(d[t]):d[t].then(e,o)}(e)})},p.race=function(o){return new p(function(e,t){for(var a=0;a<o.length;a++)o[a].then(e,t)})},e.exports=p},3064:function(e,t,a){"use strict";var o=a(2121);"undefined"!=typeof window?(void 0===window.Promise?window.Promise=o:window.Promise.prototype.finally||(window.Promise.prototype.finally=o.prototype.finally),e.exports=window.Promise):void 0!==a.g?(void 0===a.g.Promise?a.g.Promise=o:a.g.Promise.prototype.finally||(a.g.Promise.prototype.finally=o.prototype.finally),e.exports=a.g.Promise):e.exports=o},1019:function(e){"use strict";e.exports=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t,i=[];for(t in e)!function e(t,a){if(Array.isArray(a))for(var o=0;o<a.length;o++)e(t+"["+o+"]",a[o]);else if("[object Object]"===Object.prototype.toString.call(a))for(var o in a)e(t+"["+o+"]",a[o]);else i.push(encodeURIComponent(t)+(null!=a&&""!==a?"="+encodeURIComponent(a):""))}(t,e[t]);return i.join("&")}},2256:function(e){"use strict";function b(t){try{return decodeURIComponent(t)}catch(e){return t}}e.exports=function(e){if(""===e||null==e)return{};for(var t=(e="?"===e.charAt(0)?e.slice(1):e).split("&"),a={},o={},i=0;i<t.length;i++){var n=t[i].split("="),r=b(n[0]),d=2===n.length?b(n[1]):"",s=("true"===d?d=!0:"false"===d&&(d=!1),r.split(/\]\[?|\[/)),l=o;-1<r.indexOf("[")&&s.pop();for(var c=0;c<s.length;c++){var u,m=s[c],p=s[c+1],p=""==p||!isNaN(parseInt(p,10));if(""===m)null==a[r=s.slice(0,c).join()]&&(a[r]=Array.isArray(l)?l.length:0),m=a[r]++;else if("__proto__"===m)break;c===s.length-1?l[m]=d:(null==(u=null!=(u=Object.getOwnPropertyDescriptor(l,m))?u.value:u)&&(l[m]=u=p?[]:{}),l=u)}}return o}},8754:function(e,t,a){"use strict";e.exports=a(9617)("undefined"!=typeof window?window:null)},1613:function(e,t,a){"use strict";var o=a(8300),i=a(4953);e.exports=function(){var e=i.apply(0,arguments);return e.tag="[",e.children=o.normalizeChildren(e.children),e}},3963:function(e,t,a){"use strict";var d=a(8300),s=a(4953),l=a(6554),c=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,u={};function m(e){for(var t in e)if(l.call(e,t))return;return 1}e.exports=function(e){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var t=s.apply(1,arguments);if("string"!=typeof e||(t.children=d.normalizeChildren(t.children),"["===e))return t.tag=e,t;var a=u[e]||function(e){for(var t,a="div",o=[],i={};t=c.exec(e);){var n=t[1],r=t[2];""===n&&""!==r?a=r:"#"===n?i.id=r:"."===n?o.push(r):"["===t[3][0]&&(n=(n=t[6])&&n.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\"),"class"===t[4]?o.push(n):i[t[4]]=""===n?n:n||!0)}return 0<o.length&&(i.className=o.join(" ")),u[e]={tag:a,attrs:i}}(e),o=t,i=o.attrs,e=l.call(i,"class"),t=e?i.class:i.className;if(o.tag=a.tag,o.attrs={},!m(a.attrs)&&!m(i)){var n,r={};for(n in i)l.call(i,n)&&(r[n]=i[n]);i=r}for(n in a.attrs)l.call(a.attrs,n)&&"className"!==n&&!l.call(i,n)&&(i[n]=a.attrs[n]);for(n in null==t&&null==a.attrs.className||(i.className=null!=t?null!=a.attrs.className?String(a.attrs.className)+" "+String(t):t:null!=a.attrs.className?a.attrs.className:null),e&&(i.class=null),i)if(l.call(i,n)&&"key"!==n){o.attrs=i;break}return o}},4953:function(e,t,a){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=a(8300);e.exports=function(){var e,t=arguments[this],a=this+1;if(null==t?t={}:"object"===o(t)&&null==t.tag&&!Array.isArray(t)||(t={},a=this),arguments.length===a+1)e=arguments[a],Array.isArray(e)||(e=[e]);else for(e=[];a<arguments.length;)e.push(arguments[a++]);return i("",t.key,t,e)}},9617:function(e,t,a){"use strict";function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ee=a(8300);e.exports=function(e){var l,T=e&&e.document,t={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function H(e){return e.attrs&&e.attrs.xmlns||t[e.tag]}function c(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function U(e){var t=e.state;try{return this.apply(t,arguments)}finally{c(e,t)}}function Y(){try{return T.activeElement}catch(e){return null}}function M(e,t,a,o,i,n,r){for(var d=a;d<o;d++){var s=t[d];null!=s&&j(e,s,i,r,n)}}function j(e,t,a,o,i){var n,r,d,s,l=t.tag;if("string"==typeof l)switch(t.state={},null!=t.attrs&&O(t.attrs,t,a),l){case"#":c=e,m=i,(u=t).dom=T.createTextNode(u.children),C(c,u.dom,m);break;case"<":B(e,t,o,i);break;case"[":var c=e,u=t,m=a,p=o,b=i,f=T.createDocumentFragment();null!=u.children&&(h=u.children,M(f,h,0,h.length,m,null,p)),u.dom=f.firstChild,u.domSize=f.childNodes.length,C(c,f,b);break;default:var h=e,p=t,f=a,b=o,g=i,v=p.tag,x=p.attrs,y=x&&x.is,y=(b=H(p)||b)?y?T.createElementNS(b,v,{is:y}):T.createElementNS(b,v):y?T.createElement(v,{is:y}):T.createElement(v);if(p.dom=y,null!=x){var w=p;var _=x;var E=b;"input"===w.tag&&null!=_.type&&w.dom.setAttribute("type",_.type);var A,D=null!=_&&"input"===w.tag&&"file"===_.type;for(A in _)X(w,A,null,_[A],E,D)}if(C(h,y,g),!z(p))if(null!=p.children){v=p.children,M(y,v,0,v.length,f,null,b);if("select"===p.tag&&null!=x){g=p;y=x;"value"in y&&(null===y.value?-1!==g.dom.selectedIndex&&(g.dom.value=null):(v=""+y.value,g.dom.value===v&&-1!==g.dom.selectedIndex||(g.dom.value=v)));"selectedIndex"in y&&X(g,"selectedIndex",null,y.selectedIndex,void 0)}}}else l=e,d=o,s=i,function(e,t){var a;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(a=e.state.view).$$reentrantLock$$)return;a.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(a=e.tag).$$reentrantLock$$)return;a.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}O(e.state,e,t),null!=e.attrs&&O(e.attrs,e,t);if(e.instance=ee.normalize(U.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}(n=t,r=a),null!=n.instance?(j(l,n.instance,r,d,s),n.dom=n.instance.dom,n.domSize=null!=n.dom?n.instance.domSize:0):n.domSize=0}var s={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function B(e,t,a,o){for(var i,n=t.children.match(/^\s*?<(\w+)/im)||[],r=T.createElement(s[n[1]]||"div"),d=("http://www.w3.org/2000/svg"===a?(r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",r=r.firstChild):r.innerHTML=t.children,t.dom=r.firstChild,t.domSize=r.childNodes.length,t.instance=[],T.createDocumentFragment());i=r.firstChild;)t.instance.push(i),d.appendChild(i);C(e,d,o)}function V(e,t,a,o,i,n){if(t!==a&&(null!=t||null!=a))if(null==t||0===t.length)M(e,a,0,a.length,o,i,n);else if(null==a||0===a.length)I(e,t,0,t.length);else{var r=null!=t[0]&&null!=t[0].key,d=null!=a[0]&&null!=a[0].key,s=0,l=0;if(!r)for(;l<t.length&&null==t[l];)l++;if(!d)for(;s<a.length&&null==a[s];)s++;if(r!=d)I(e,t,l,t.length),M(e,a,s,a.length,o,i,n);else if(d){for(var c,u,m,p,b=t.length-1,f=a.length-1;l<=b&&s<=f&&(m=t[b],A=a[f],m.key===A.key);)m!==A&&$(e,m,A,o,i,n),null!=A.dom&&(i=A.dom),b--,f--;for(;l<=b&&s<=f&&(c=t[l],u=a[s],c.key===u.key);)l++,s++,c!==u&&$(e,c,u,o,k(t,l,i),n);for(;l<=b&&s<=f&&s!==f&&c.key===A.key&&m.key===u.key;)S(e,m,p=k(t,l,i)),m!==u&&$(e,m,u,o,p,n),++s<=--f&&S(e,c,i),c!==A&&$(e,c,A,o,i,n),null!=A.dom&&(i=A.dom),m=t[--b],A=a[f],c=t[++l],u=a[s];for(;l<=b&&s<=f&&m.key===A.key;)m!==A&&$(e,m,A,o,i,n),null!=A.dom&&(i=A.dom),m=t[--b],A=a[--f];if(f<s)I(e,t,l,b+1);else if(b<l)M(e,a,s,f+1,o,i,n);else{for(var h,g,r=i,v=f-s+1,x=new Array(v),y=0,w=0,_=2147483647,E=0,w=0;w<v;w++)x[w]=-1;for(w=f;s<=w;w--){var A,D=(h=null==h?function(e,t,a){for(var o=Object.create(null);t<a;t++){var i=e[t];null==i||null!=(i=i.key)&&(o[i]=t)}return o}(t,l,b+1):h)[(A=a[w]).key];null!=D&&(_=D<_?D:-1,m=t[x[w-s]=D],t[D]=null,m!==A&&$(e,m,A,o,i,n),null!=A.dom&&(i=A.dom),E++)}if(i=r,E!==b-l+1&&I(e,t,l,b+1),0===E)M(e,a,s,f+1,o,i,n);else if(-1===_)for(y=(g=function(e){for(var t=[0],a=0,o=0,i=0,n=P.length=e.length,i=0;i<n;i++)P[i]=e[i];for(i=0;i<n;++i)if(-1!==e[i]){var r=t[t.length-1];if(e[r]<e[i])P[i]=r,t.push(i);else{for(a=0,o=t.length-1;a<o;){var d=(a>>>1)+(o>>>1)+(a&o&1);e[t[d]]<e[i]?a=1+d:o=d}e[i]<e[t[a]]&&(0<a&&(P[i]=t[a-1]),t[a]=i)}}a=t.length,o=t[a-1];for(;0<a--;)t[a]=o,o=P[o];return P.length=0,t}(x)).length-1,w=f;s<=w;w--)u=a[w],-1===x[w-s]?j(e,u,o,n,i):g[y]===w-s?y--:S(e,u,i),null!=u.dom&&(i=a[w].dom);else for(w=f;s<=w;w--)u=a[w],-1===x[w-s]&&j(e,u,o,n,i),null!=u.dom&&(i=a[w].dom)}}else{for(var T=(t.length<a.length?t:a).length,s=s<l?s:l;s<T;s++)(c=t[s])===(u=a[s])||null==c&&null==u||(null==c?j(e,u,o,n,k(t,s+1,i)):null==u?J(e,c):$(e,c,u,o,k(t,s+1,i),n));t.length>T&&I(e,t,s,t.length),a.length>T&&M(e,a,s,a.length,o,i,n)}}}function $(e,t,a,o,i,n){var r=t.tag;if(r===a.tag){if(a.state=t.state,a.events=t.events,!function(e,t){do{var a;if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate)if(void 0!==(a=U.call(e.attrs.onbeforeupdate,e,t))&&!a)break;if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate)if(void 0!==(a=U.call(e.state.onbeforeupdate,e,t))&&!a)break;return}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,1}(a,t))if("string"==typeof r)switch(null!=a.attrs&&Q(a.attrs,a,o),r){case"#":var d=t,s=a;d.children.toString()!==s.children.toString()&&(d.dom.nodeValue=s.children),s.dom=d.dom;break;case"<":s=e,d=a,c=n,u=i,(m=t).children!==d.children?(q(s,m),B(s,d,c,u)):(d.dom=m.dom,d.domSize=m.domSize,d.instance=m.instance);break;case"[":var l=a,c=o,u=i,m=n,p=(V(e,t.children,l.children,c,u,m),0),b=l.children;if((l.dom=null)!=b){for(var f=0;f<b.length;f++){var h=b[f];null!=h&&null!=h.dom&&(null==l.dom&&(l.dom=h.dom),p+=h.domSize||1)}1!==p&&(l.domSize=p)}break;default:var g,v=t,x=a,y=o,w=n,F=x.dom=v.dom,_=(w=H(x)||w,"textarea"!==x.tag||null==x.attrs&&(x.attrs={}),x),E=v.attrs,A=x.attrs,D=w;if(E&&E===A&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),null!=A){"input"===_.tag&&null!=A.type&&_.dom.setAttribute("type",A.type);var L="input"===_.tag&&"file"===A.type;for(T in A)X(_,T,E&&E[T],A[T],D,L)}if(null!=E)for(var T in E)if(null!=(g=E[T])&&(null==A||null==A[T])){M=void 0;P=void 0;k=void 0;S=void 0;S=void 0;var M=_;var P=T;var k=g;var S=D;"key"===P||"is"===P||null==k||G(P)||("o"===P[0]&&"n"===P[1]?W(M,P,void 0):"style"===P?K(M.dom,k,null):!Z(M,P,S)||"className"===P||"title"===P||"value"===P&&("option"===M.tag||"select"===M.tag&&-1===M.dom.selectedIndex&&M.dom===Y())||"input"===M.tag&&"type"===P?(-1!==(S=P.indexOf(":"))&&(P=P.slice(S+1)),!1!==k&&M.dom.removeAttribute("className"===P?"class":P)):M.dom[P]=null)}z(x)||V(F,v.children,x.children,y,null,w)}else{var r=e,C=t,I=a,O=o,R=i,N=n;if(I.instance=ee.normalize(U.call(I.state.view,I)),I.instance===I)throw Error("A view cannot return the vnode it received as argument");Q(I.state,I,O),null!=I.attrs&&Q(I.attrs,I,O),null!=I.instance?(null==C.instance?j(r,I.instance,O,N,R):$(r,C.instance,I.instance,O,R,N),I.dom=I.instance.dom,I.domSize=I.instance.domSize):null!=C.instance?(J(r,C.instance),I.dom=void 0,I.domSize=0):(I.dom=C.dom,I.domSize=C.domSize)}}else J(e,t),j(e,a,o,n,i)}var P=[];function k(e,t,a){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return a}function S(e,t,a){var o=T.createDocumentFragment();!function e(t,a,o){for(;null!=o.dom&&o.dom.parentNode===t;){if("string"!=typeof o.tag){if(null!=(o=o.instance))continue}else if("<"===o.tag)for(var i=0;i<o.instance.length;i++)a.appendChild(o.instance[i]);else if("["!==o.tag)a.appendChild(o.dom);else if(1===o.children.length){if(null!=(o=o.children[0]))continue}else for(i=0;i<o.children.length;i++){var n=o.children[i];null!=n&&e(t,a,n)}break}}(e,o,t),C(e,o,a)}function C(e,t,a){null!=a?e.insertBefore(t,a):e.appendChild(t)}function z(e){if(null!=e.attrs&&(null!=e.attrs.contenteditable||null!=e.attrs.contentEditable)){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var a=t[0].children;e.dom.innerHTML!==a&&(e.dom.innerHTML=a)}else if(null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted.");return 1}}function I(e,t,a,o){for(var i=a;i<o;i++){var n=t[i];null!=n&&J(e,n)}}function J(e,t){var a,o,i,n,r=0,d=t.state;function s(){c(t,d),m(t),u(e,t)}"string"!=typeof t.tag&&"function"==typeof t.state.onbeforeremove&&null!=(i=U.call(t.state.onbeforeremove,t))&&"function"==typeof i.then&&(r=1,a=i),t.attrs&&"function"==typeof t.attrs.onbeforeremove&&null!=(i=U.call(t.attrs.onbeforeremove,t))&&"function"==typeof i.then&&(r|=2,o=i),c(t,d),r?(null!=a&&a.then(n=function(){1&r&&((r&=2)||s())},n),null!=o&&o.then(n=function(){2&r&&((r&=1)||s())},n)):(m(t),u(e,t))}function q(e,t){for(var a=0;a<t.instance.length;a++)e.removeChild(t.instance[a])}function u(e,t){for(;null!=t.dom&&t.dom.parentNode===e;){if("string"!=typeof t.tag){if(null!=(t=t.instance))continue}else if("<"===t.tag)q(e,t);else{if("["!==t.tag&&(e.removeChild(t.dom),!Array.isArray(t.children)))break;if(1===t.children.length){if(null!=(t=t.children[0]))continue}else for(var a=0;a<t.children.length;a++){var o=t.children[a];null!=o&&u(e,o)}}break}}function m(e){if("string"!=typeof e.tag&&"function"==typeof e.state.onremove&&U.call(e.state.onremove,e),e.attrs&&"function"==typeof e.attrs.onremove&&U.call(e.attrs.onremove,e),"string"!=typeof e.tag)null!=e.instance&&m(e.instance);else{var t=e.children;if(Array.isArray(t))for(var a=0;a<t.length;a++){var o=t[a];null!=o&&m(o)}}}function X(e,t,a,o,i,n){if("key"!==t&&"is"!==t&&null!=o&&!G(t)&&(a!==o||(r=e,"value"===(d=t)||"checked"===d||"selectedIndex"===d||"selected"===d&&r.dom===Y()||"option"===r.tag&&r.dom.parentNode===T.activeElement)||"object"===b(o))&&("type"!==t||"input"!==e.tag)){var r,d;if("o"===t[0]&&"n"===t[1])return W(e,t,o);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),o);else if("style"===t)K(e.dom,a,o);else if(Z(e,t,i)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+o&&(n||e.dom===Y()))return;if("select"===e.tag&&null!==a&&e.dom.value===""+o)return;if("option"===e.tag&&null!==a&&e.dom.value===""+o)return;if(n&&""+o!="")return void console.error("`value` is read-only on file inputs!")}e.dom[t]=o}else"boolean"==typeof o?o?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,o)}}function G(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function Z(e,t,a){return void 0===a&&(-1<e.tag.indexOf("-")||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var p,a=/[A-Z]/g;function o(e){return"-"+e.toLowerCase()}function n(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(a,o)}function K(e,t,a){if(t!==a)if(null==a)e.style.cssText="";else if("object"!==b(a))e.style.cssText=a;else if(null==t||"object"!==b(t))for(var o in e.style.cssText="",a)null!=(i=a[o])&&e.style.setProperty(n(o),String(i));else{for(var o in a){var i;null!=(i=a[o])&&(i=String(i))!==String(t[o])&&e.style.setProperty(n(o),i)}for(var o in t)null!=t[o]&&null==a[o]&&e.style.removeProperty(n(o))}}function i(){this._=l}function W(e,t,a){null!=e.events?(e.events._=l,e.events[t]!==a&&(null==a||"function"!=typeof a&&"object"!==b(a)?(null!=e.events[t]&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0):(null==e.events[t]&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=a))):null==a||"function"!=typeof a&&"object"!==b(a)||(e.events=new i,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=a)}function O(e,t,a){"function"==typeof e.oninit&&U.call(e.oninit,t),"function"==typeof e.oncreate&&a.push(U.bind(e.oncreate,t))}function Q(e,t,a){"function"==typeof e.onupdate&&a.push(U.bind(e.onupdate,t))}return(i.prototype=Object.create(null)).handleEvent=function(e){var t,a=this["on"+e.type];"function"==typeof a?t=a.call(e.currentTarget,e):"function"==typeof a.handleEvent&&a.handleEvent(e),this._&&!1!==e.redraw&&(0,this._)(),!1===t&&(e.preventDefault(),e.stopPropagation())},function(e,t,a){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(null!=p&&e.contains(p))throw new TypeError("Node is currently being rendered to and thus is locked.");var o=l,i=p,n=[],r=Y(),d=e.namespaceURI;p=e,l="function"==typeof a?a:void 0;try{null==e.vnodes&&(e.textContent=""),t=ee.normalizeChildren(Array.isArray(t)?t:[t]),V(e,e.vnodes,t,n,null,"http://www.w3.org/1999/xhtml"===d?void 0:d),e.vnodes=t,null!=r&&Y()!==r&&"function"==typeof r.focus&&r.focus();for(var s=0;s<n.length;s++)n[s]()}finally{l=o,p=i}}}},158:function(e,t,a){"use strict";var o=a(8300);e.exports=function(e){return o("<",void 0,void 0,e=null==e?"":e,void 0,void 0)}},8300:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,a,o,i,n){return{tag:e,key:t,attrs:a,children:o,text:i,dom:n,domSize:void 0,state:void 0,events:void 0,instance:void 0}}i.normalize=function(e){return Array.isArray(e)?i("[",void 0,void 0,i.normalizeChildren(e),void 0,void 0):null==e||"boolean"==typeof e?null:"object"===t(e)?e:i("#",void 0,void 0,String(e),void 0,void 0)},i.normalizeChildren=function(e){var t=[];if(e.length){for(var a=null!=e[0]&&null!=e[0].key,o=1;o<e.length;o++)if((null!=e[o]&&null!=e[o].key)!=a)throw new TypeError(!a||null==e[o]&&"boolean"!=typeof e[o]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(o=0;o<e.length;o++)t[o]=i.normalize(e[o])}return t},e.exports=i},1924:function(e,t,a){"use strict";var o=a(3064),i=a(7945);e.exports=a(5423)("undefined"!=typeof window?window:null,o,i.redraw)},5423:function(e,t,a){"use strict";var l=a(2050),g=a(6554);e.exports=function(f,a,d){var r=0;function s(e){return new a(e)}function e(r){return function(t,o){"string"!=typeof t?t=(o=t).url:null==o&&(o={});var e=new a(function(a,e){r(l(t,o.params),o,function(e){if("function"==typeof o.type)if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t]=new o.type(e[t]);else e=new o.type(e);a(e)},e)});if(!0===o.background)return e;var i=0;function n(){0==--i&&"function"==typeof d&&d()}return function t(a){var o=a.then;a.constructor=s;a.then=function(){i++;var e=o.apply(a,arguments);return e.then(n,function(e){if(n(),0===i)throw e}),t(e)};return a}(e)}}function h(e,t){for(var a in e.headers)if(g.call(e.headers,a)&&a.toLowerCase()===t)return 1}return s.prototype=a.prototype,s.__proto__=a,{request:e(function(n,r,d,s){var e,t,a=null!=r.method?r.method.toUpperCase():"GET",o=r.body,i=(null==r.serialize||r.serialize===JSON.serialize)&&!(o instanceof f.FormData||o instanceof f.URLSearchParams),l=r.responseType||("function"==typeof r.extract?"":"json"),c=new f.XMLHttpRequest,u=!1,m=!1,p=c,b=c.abort;for(t in c.abort=function(){u=!0,b.call(this)},c.open(a,n,!1!==r.async,"string"==typeof r.user?r.user:void 0,"string"==typeof r.password?r.password:void 0),i&&null!=o&&!h(r,"content-type")&&c.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof r.deserialize||h(r,"accept")||c.setRequestHeader("Accept","application/json, text/*"),r.withCredentials&&(c.withCredentials=r.withCredentials),r.timeout&&(c.timeout=r.timeout),c.responseType=l,r.headers)g.call(r.headers,t)&&c.setRequestHeader(t,r.headers[t]);c.onreadystatechange=function(t){if(!u&&4===t.target.readyState)try{var a,e,o=200<=t.target.status&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(n),i=t.target.response;if("json"===l){if(!t.target.responseType&&"function"!=typeof r.extract)try{i=JSON.parse(t.target.responseText)}catch(e){i=null}}else l&&"text"!==l||null==i&&(i=t.target.responseText);"function"==typeof r.extract?(i=r.extract(t.target,r),o=!0):"function"==typeof r.deserialize&&(i=r.deserialize(i)),o?d(i):(e=function(){try{a=t.target.responseText}catch(e){a=i}var e=new Error(a);e.code=t.target.status,e.response=i,s(e)},0===c.status?setTimeout(function(){m||e()}):e())}catch(e){s(e)}},c.ontimeout=function(e){m=!0;var t=new Error("Request timed out");t.code=e.target.status,s(t)},"function"==typeof r.config&&(c=r.config(c,r,n)||c)!==p&&(e=c.abort,c.abort=function(){u=!0,e.call(this)}),null==o?c.send():"function"==typeof r.serialize?c.send(r.serialize(o)):o instanceof f.FormData||o instanceof f.URLSearchParams?c.send(o):c.send(JSON.stringify(o))}),jsonp:e(function(e,t,a,o){var i=t.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,n=f.document.createElement("script");f[i]=function(e){delete f[i],n.parentNode.removeChild(n),a(e)},n.onerror=function(){delete f[i],n.parentNode.removeChild(n),o(new Error("JSONP request failed"))},n.src=e+(e.indexOf("?")<0?"?":"&")+encodeURIComponent(t.callbackKey||"callback")+"="+encodeURIComponent(i),f.document.documentElement.appendChild(n)})}}},8208:function(e,t,a){"use strict";var o=a(7945);e.exports=a(8741)("undefined"!=typeof window?window:null,o)},9319:function(e,t,a){"use strict";var o=a(6554);e.exports=Object.assign||function(e,t){for(var a in t)o.call(t,a)&&(e[a]=t[a])}},7195:function(e,t,a){"use strict";var i=a(6554),n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");e.exports=function(e,t){var a={};if(null!=t)for(var o in e)i.call(e,o)&&!n.test(o)&&t.indexOf(o)<0&&(a[o]=e[o]);else for(var o in e)i.call(e,o)&&!n.test(o)&&(a[o]=e[o]);return a}},6554:function(e){"use strict";e.exports={}.hasOwnProperty},2054:function(e,t,a){var s=a(7455),l=a(8568),o=a(3422),i=a(2979);function n(o,i,n,r,t){var e=[].slice.call(arguments,1),a=e.length,e="function"==typeof e[a-1];if(!e&&!s())throw new Error("Callback required as last argument");if(!e){if(a<1)throw new Error("Too few arguments provided");return 1===a?(n=i,i=r=void 0):2!==a||i.getContext||(r=n,n=i,i=void 0),new Promise(function(e,t){try{var a=l.create(n,r);e(o(a,i,r))}catch(e){t(e)}})}if(a<2)throw new Error("Too few arguments provided");2===a?(t=n,n=i,i=r=void 0):3===a&&(i.getContext&&void 0===t?(t=r,r=void 0):(t=r,r=n,n=i,i=void 0));try{var d=l.create(n,r);t(null,o(d,i,r))}catch(e){t(e)}}t.create=l.create,t.toCanvas=n.bind(null,o.render),t.toDataURL=n.bind(null,o.renderToDataURL),t.toString=n.bind(null,function(e,t,a){return i.render(e,a)})},7455:function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},8732:function(e,r,t){var n=t(3014).getSymbolSize;r.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,e=n(e),a=145===e?26:2*Math.ceil((e-13)/(2*t-2)),o=[e-7],i=1;i<t-1;i++)o[i]=o[i-1]-a;return o.push(6),o.reverse()},r.getPositions=function(e){for(var t=[],a=r.getRowColCoords(e),o=a.length,i=0;i<o;i++)for(var n=0;n<o;n++)0===i&&0===n||0===i&&n===o-1||i===o-1&&0===n||t.push([a[i],a[n]]);return t}},2912:function(e,t,a){var o=a(1683),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(e){this.mode=o.ALPHANUMERIC,this.data=e}n.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){for(var t=0;t+2<=this.data.length;t+=2){var a=45*i.indexOf(this.data[t]);a+=i.indexOf(this.data[t+1]),e.put(a,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=n},6927:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var a=0;a<t;a++)this.putBit(1==(e>>>t-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},8619:function(e){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,a,o){e=e*this.size+t;this.data[e]=a,o&&(this.reservedBit[e]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,a){this.data[e*this.size+t]^=a},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},1478:function(e,t,a){var o=a(1179),i=a(1683);function n(e){this.mode=i.BYTE,"string"==typeof e&&(e=o(e)),this.data=new Uint8Array(e)}n.getBitsLength=function(e){return 8*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){for(var t=0,a=this.data.length;t<a;t++)e.put(this.data[t],8)},e.exports=n},1681:function(e,t,a){var o=a(1908),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case o.L:return i[4*(e-1)+0];case o.M:return i[4*(e-1)+1];case o.Q:return i[4*(e-1)+2];case o.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case o.L:return n[4*(e-1)+0];case o.M:return n[4*(e-1)+1];case o.Q:return n[4*(e-1)+2];case o.H:return n[4*(e-1)+3];default:return}}},1908:function(e,o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2},o.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},o.from=function(e,t){if(o.isValid(e))return e;try{var a=e;if("string"!=typeof a)throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+a)}return}catch(e){return t}}},6091:function(e,t,a){var o=a(3014).getSymbolSize;t.getPositions=function(e){e=o(e);return[[0,0],[e-7,0],[0,e-7]]}},8338:function(e,t,a){var o=a(3014),i=o.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var e=e.bit<<3|t,a=e<<10;0<=o.getBCHDigit(a)-i;)a^=1335<<o.getBCHDigit(a)-i;return 21522^(e<<10|a)}},6074:function(e,t){for(var a=new Uint8Array(512),o=new Uint8Array(256),i=1,n=0;n<255;n++)a[n]=i,o[i]=n,256&(i<<=1)&&(i^=285);for(var r=255;r<512;r++)a[r]=a[r-255];t.log=function(e){if(e<1)throw new Error("log("+e+")");return o[e]},t.exp=function(e){return a[e]},t.mul=function(e,t){return 0===e||0===t?0:a[o[e]+o[t]]}},6177:function(e,t,a){var o=a(1683),i=a(3014);function n(e){this.mode=o.KANJI,this.data=e}n.getBitsLength=function(e){return 13*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){for(var t=0;t<this.data.length;t++){var a=i.toSJIS(this.data[t]);if(33088<=a&&a<=40956)a-=33088;else{if(!(57408<=a&&a<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");a-=49472}e.put(a=192*(a>>>8&255)+(255&a),13)}},e.exports=n},8747:function(e,d){d.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var c=3,r=3,s=40,i=10;d.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},d.from=function(e){return d.isValid(e)?parseInt(e,10):void 0},d.getPenaltyN1=function(e){for(var t=e.size,a=0,o=0,i=0,n=null,r=null,d=0;d<t;d++){for(var o=i=0,n=r=null,s=0;s<t;s++){var l=e.get(d,s);l===n?o++:(5<=o&&(a+=c+(o-5)),n=l,o=1),(l=e.get(s,d))===r?i++:(5<=i&&(a+=c+(i-5)),r=l,i=1)}5<=o&&(a+=c+(o-5)),5<=i&&(a+=c+(i-5))}return a},d.getPenaltyN2=function(e){for(var t=e.size,a=0,o=0;o<t-1;o++)for(var i=0;i<t-1;i++){var n=e.get(o,i)+e.get(o,i+1)+e.get(o+1,i)+e.get(o+1,i+1);4!==n&&0!==n||a++}return a*r},d.getPenaltyN3=function(e){for(var t=e.size,a=0,o=0,i=0,n=0;n<t;n++)for(var o=i=0,r=0;r<t;r++)o=o<<1&2047|e.get(n,r),10<=r&&(1488===o||93===o)&&a++,i=i<<1&2047|e.get(r,n),10<=r&&(1488===i||93===i)&&a++;return a*s},d.getPenaltyN4=function(e){for(var t=0,a=e.data.length,o=0;o<a;o++)t+=e.data[o];return Math.abs(Math.ceil(100*t/a/5)-10)*i},d.applyMask=function(e,t){for(var a=t.size,o=0;o<a;o++)for(var i=0;i<a;i++)t.isReserved(i,o)||t.xor(i,o,function(e,t,a){switch(e){case d.Patterns.PATTERN000:return(t+a)%2==0;case d.Patterns.PATTERN001:return t%2==0;case d.Patterns.PATTERN010:return a%3==0;case d.Patterns.PATTERN011:return(t+a)%3==0;case d.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(a/3))%2==0;case d.Patterns.PATTERN101:return t*a%2+t*a%3==0;case d.Patterns.PATTERN110:return(t*a%2+t*a%3)%2==0;case d.Patterns.PATTERN111:return(t*a%3+(t+a)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}(e,i,o))},d.getBestMask=function(e,t){for(var a=Object.keys(d.Patterns).length,o=0,i=1/0,n=0;n<a;n++){t(n),d.applyMask(n,e);var r=d.getPenaltyN1(e)+d.getPenaltyN2(e)+d.getPenaltyN3(e)+d.getPenaltyN4(e);d.applyMask(n,e),r<i&&(i=r,o=n)}return o}},1683:function(e,o,t){var a=t(4469),i=t(3682);o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(a.isValid(t))return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2];throw new Error("Invalid version: "+t)},o.getBestModeForData=function(e){return i.testNumeric(e)?o.NUMERIC:i.testAlphanumeric(e)?o.ALPHANUMERIC:i.testKanji(e)?o.KANJI:o.BYTE},o.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},o.isValid=function(e){return e&&e.bit&&e.ccBits},o.from=function(e,t){if(o.isValid(e))return e;try{var a=e;if("string"!=typeof a)throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+a)}return}catch(e){return t}}},8328:function(e,t,a){var o=a(1683);function i(e){this.mode=o.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t,a,o=0;o+3<=this.data.length;o+=3)t=this.data.substr(o,3),a=parseInt(t,10),e.put(a,10);var i=this.data.length-o;0<i&&(t=this.data.substr(o),a=parseInt(t,10),e.put(a,3*i+1))},e.exports=i},8930:function(e,o,t){var r=t(6074);o.mul=function(e,t){for(var a=new Uint8Array(e.length+t.length-1),o=0;o<e.length;o++)for(var i=0;i<t.length;i++)a[o+i]^=r.mul(e[o],t[i]);return a},o.mod=function(e,t){for(var a=new Uint8Array(e);0<=a.length-t.length;){for(var o=a[0],i=0;i<t.length;i++)a[i]^=r.mul(t[i],o);for(var n=0;n<a.length&&0===a[n];)n++;a=a.slice(n)}return a},o.generateECPolynomial=function(e){for(var t=new Uint8Array([1]),a=0;a<e;a++)t=o.mul(t,new Uint8Array([1,r.exp(a)]));return t}},8568:function(e,t,a){var $=a(3014),n=a(1908),T=a(6927),z=a(8619),J=a(8732),q=a(6091),X=a(8747),M=a(1681),P=a(1600),G=a(4534),d=a(8338),k=a(1683),Z=a(2e3);function K(e,t,a){for(var o,i=e.size,n=d.getEncodedBits(t,a),r=0;r<15;r++)o=1==(n>>r&1),r<6?e.set(r,8,o,!0):r<8?e.set(r+1,8,o,!0):e.set(i-15+r,8,o,!0),r<8?e.set(8,i-r-1,o,!0):r<9?e.set(8,15-r-1+1,o,!0):e.set(8,15-r-1,o,!0);e.set(i-8,8,1,!0)}function W(t,e,a){var o=new T;a.forEach(function(e){o.put(e.mode.bit,4),o.put(e.getLength(),k.getCharCountIndicator(e.mode,t)),e.write(o)});a=8*($.getSymbolTotalCodewords(t)-M.getTotalCodewordsCount(t,e));for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var i=(a-o.getLengthInBits())/8,n=0;n<i;n++)o.put(n%2?17:236,8);for(var a=o,r=t,d=$.getSymbolTotalCodewords(r),s=M.getTotalCodewordsCount(r,e),s=d-s,l=M.getBlocksCount(r,e),c=l-d%l,r=Math.floor(d/l),u=Math.floor(s/l),m=u+1,p=r-u,b=new P(p),f=0,h=new Array(l),g=new Array(l),v=0,x=new Uint8Array(a.buffer),y=0;y<l;y++){var w=y<c?u:m;h[y]=x.slice(f,f+w),g[y]=b.encode(h[y]),f+=w,v=Math.max(v,w)}var _,E,A=new Uint8Array(d),D=0;for(_=0;_<v;_++)for(E=0;E<l;E++)_<h[E].length&&(A[D++]=h[E][_]);for(_=0;_<p;_++)for(E=0;E<l;E++)A[D++]=g[E][_];return A}function r(e,t,a,o){var i;if(Array.isArray(e))i=Z.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var n=t;n||(r=Z.rawSplit(e),n=G.getBestVersionForData(r,a)),i=Z.fromString(e,n||40)}var r=G.getBestVersionForData(i,a);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<r)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+r+".\n")}else t=r;for(var e=W(t,a,i),n=$.getSymbolSize(t),r=new z(n),d=r,n=t,s=d.size,l=q.getPositions(n),c=0;c<l.length;c++)for(var u=l[c][0],m=l[c][1],p=-1;p<=7;p++)if(!(u+p<=-1||s<=u+p))for(var b=-1;b<=7;b++)m+b<=-1||s<=m+b||(0<=p&&p<=6&&(0===b||6===b)||0<=b&&b<=6&&(0===p||6===p)||2<=p&&p<=4&&2<=b&&b<=4?d.set(u+p,m+b,!0,!0):d.set(u+p,m+b,!1,!0));for(var f=r,F=f.size,h=8;h<F-8;h++){var g=h%2==0;f.set(h,6,g,!0),f.set(6,h,g,!0)}for(var v=r,x=t,y=J.getPositions(x),w=0;w<y.length;w++)for(var L=y[w][0],H=y[w][1],_=-2;_<=2;_++)for(var E=-2;E<=2;E++)-2===_||2===_||-2===E||2===E||0===_&&0===E?v.set(L+_,H+E,!0,!0):v.set(L+_,H+E,!1,!0);if(K(r,a,0),7<=t)for(var A,U,Y,D=r,x=t,j=D.size,B=G.getEncodedBits(x),T=0;T<18;T++)A=Math.floor(T/3),D.set(A,U=T%3+j-8-3,Y=1==(B>>T&1),!0),D.set(U,A,Y,!0);for(var M=r,V=e,P=M.size,k=-1,S=P-1,C=7,I=0,O=P-1;0<O;O-=2)for(6===O&&O--;;){for(var R,N=0;N<2;N++)M.isReserved(S,O-N)||(R=!1,I<V.length&&(R=1==(V[I]>>>C&1)),M.set(S,O-N,R),-1===--C&&(I++,C=7));if((S+=k)<0||P<=S){S-=k,k=-k;break}}return isNaN(o)&&(o=X.getBestMask(r,K.bind(null,r,a))),X.applyMask(o,r),K(r,a,o),{modules:r,version:t,errorCorrectionLevel:a,maskPattern:o,segments:i}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var a,o,i=n.M;return void 0!==t&&(i=n.from(t.errorCorrectionLevel,n.M),a=G.from(t.version),o=X.from(t.maskPattern),t.toSJISFunc&&$.setToSJISFunction(t.toSJISFunc)),r(e,a,i,o)}},1600:function(e,t,a){var o=a(8930);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=o.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t,a=new Uint8Array(e.length+this.degree),e=(a.set(e),o.mod(a,this.genPoly)),a=this.degree-e.length;return 0<a?((t=new Uint8Array(this.degree)).set(e,a),t):e},e.exports=i},3682:function(e,t){var a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(a=a.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",i=(t.KANJI=new RegExp(a,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(o,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g"),new RegExp("^"+a+"$")),n=new RegExp("^[0-9]+$"),r=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return n.test(e)},t.testAlphanumeric=function(e){return r.test(e)}},2e3:function(e,r,t){var b=t(1683),o=t(8328),i=t(2912),n=t(1478),d=t(6177),s=t(3682),l=t(3014),c=t(9761);function u(e){return unescape(encodeURIComponent(e)).length}function m(e,t,a){for(var o,i=[];null!==(o=e.exec(a));)i.push({data:o[0],index:o.index,mode:t,length:o[0].length});return i}function p(e){var t,a=m(s.NUMERIC,b.NUMERIC,e),o=m(s.ALPHANUMERIC,b.ALPHANUMERIC,e),e=l.isKanjiModeEnabled()?(t=m(s.BYTE,b.BYTE,e),m(s.KANJI,b.KANJI,e)):(t=m(s.BYTE_KANJI,b.BYTE,e),[]);return a.concat(o,t,e).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function f(e,t){switch(t){case b.NUMERIC:return o.getBitsLength(e);case b.ALPHANUMERIC:return i.getBitsLength(e);case b.KANJI:return d.getBitsLength(e);case b.BYTE:return n.getBitsLength(e)}}function a(e,t){var a=b.getBestModeForData(e),t=b.from(t,a);if(t!==b.BYTE&&t.bit<a.bit)throw new Error('"'+e+'" cannot be encoded with mode '+b.toString(t)+".\n Suggested mode is: "+b.toString(a));switch(t=t!==b.KANJI||l.isKanjiModeEnabled()?t:b.BYTE){case b.NUMERIC:return new o(e);case b.ALPHANUMERIC:return new i(e);case b.KANJI:return new d(e);case b.BYTE:return new n(e)}}r.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(a(t,null)):t.data&&e.push(a(t.data,t.mode)),e},[])},r.fromString=function(e,t){for(var a=function(e,t){for(var a={},o={start:{}},i=["start"],n=0;n<e.length;n++){for(var r=e[n],d=[],s=0;s<r.length;s++){var l=r[s],c=""+n+s;d.push(c),a[c]={node:l,lastCount:0},o[c]={};for(var u=0;u<i.length;u++){var m=i[u];a[m]&&a[m].node.mode===l.mode?(o[m][c]=f(a[m].lastCount+l.length,l.mode)-f(a[m].lastCount,l.mode),a[m].lastCount+=l.length):(a[m]&&(a[m].lastCount=l.length),o[m][c]=f(l.length,l.mode)+4+b.getCharCountIndicator(l.mode,t))}}i=d}for(var p=0;p<i.length;p++)o[i[p]].end=0;return{map:o,table:a}}(function(e){for(var t=[],a=0;a<e.length;a++){var o=e[a];switch(o.mode){case b.NUMERIC:t.push([o,{data:o.data,mode:b.ALPHANUMERIC,length:o.length},{data:o.data,mode:b.BYTE,length:o.length}]);break;case b.ALPHANUMERIC:t.push([o,{data:o.data,mode:b.BYTE,length:o.length}]);break;case b.KANJI:t.push([o,{data:o.data,mode:b.BYTE,length:u(o.data)}]);break;case b.BYTE:t.push([{data:o.data,mode:b.BYTE,length:u(o.data)}])}}return t}(p(e,l.isKanjiModeEnabled())),t),o=c.find_path(a.map,"start","end"),i=[],n=1;n<o.length-1;n++)i.push(a.table[o[n]].node);return r.fromArray(i.reduce(function(e,t){var a=0<=e.length-1?e[e.length-1]:null;return a&&a.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},r.rawSplit=function(e){return r.fromArray(p(e,l.isKanjiModeEnabled()))}},3014:function(e,t){var a,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return o[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');a=e},t.isKanjiModeEnabled=function(){return void 0!==a},t.toSJIS=function(e){return a(e)}},4469:function(e,t){t.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40}},4534:function(e,d,t){var i=t(3014),n=t(1681),s=t(1908),r=t(1683),l=t(4469),a=i.getBCHDigit(7973);function c(e,t){return r.getCharCountIndicator(e,t)+4}function u(e,t){for(var a=1;a<=40;a++)if(function(e,a){var o=0;return e.forEach(function(e){var t=c(e.mode,a);o+=t+e.getBitsLength()}),o}(e,a)<=d.getCapacity(a,t,r.MIXED))return a}d.from=function(e,t){return l.isValid(e)?parseInt(e,10):t},d.getCapacity=function(e,t,a){if(!l.isValid(e))throw new Error("Invalid QR Code version");void 0===a&&(a=r.BYTE);t=8*(i.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,t));if(a===r.MIXED)return t;var o=t-c(a,e);switch(a){case r.NUMERIC:return Math.floor(o/10*3);case r.ALPHANUMERIC:return Math.floor(o/11*2);case r.KANJI:return Math.floor(o/13);default:r.BYTE;return Math.floor(o/8)}},d.getBestVersionForData=function(e,t){var a,t=s.from(t,s.M);if(Array.isArray(e)){if(1<e.length)return u(e,t);if(0===e.length)return 1;a=e[0]}else a=e;for(var o=a.mode,i=a.getLength(),n=t,r=1;r<=40;r++)if(i<=d.getCapacity(r,n,o))return r},d.getEncodedBits=function(e){if(!l.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=i.getBCHDigit(t)-a;)t^=7973<<i.getBCHDigit(t)-a;return e<<12|t}},3422:function(e,o,t){var r=t(9357);o.render=function(e,t,a){var o=t,t=(void 0!==a||t&&t.getContext||(a=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),a=r.getOptions(a),r.getImageWidth(e.modules.size,a)),i=o.getContext("2d"),n=i.createImageData(t,t);return r.qrToImageData(n.data,e,a),e=o,a=t,i.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=a,e.width=a,e.style.height=a+"px",e.style.width=a+"px",i.putImageData(n,0,0),o},o.renderToDataURL=function(e,t,a){void 0!==a||t&&t.getContext||(a=t,t=void 0),e=o.render(e,t,a=a||{}),t=a.type||"image/png",a=a.rendererOpts||{};return e.toDataURL(t,a.quality)}},2979:function(e,t,a){var r=a(9357);function d(e,t){var a=e.a/255,e=t+'="'+e.hex+'"';return a<1?e+" "+t+'-opacity="'+a.toFixed(2).slice(1)+'"':e}function c(e,t,a){e+=t;return void 0!==a&&(e+=" "+a),e}t.render=function(e,t,a){var t=r.getOptions(t),o=e.modules.size,e=e.modules.data,i=o+2*t.margin,n=t.color.light.a?"<path "+d(t.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",e="<path "+d(t.color.dark,"stroke")+' d="'+function(e,t,a){for(var o="",i=0,n=!1,r=0,d=0;d<e.length;d++){var s=Math.floor(d%t),l=Math.floor(d/t);s||n||(n=!0),e[d]?(r++,0<d&&0<s&&e[d-1]||(o+=n?c("M",s+a,.5+l+a):c("m",i,0),i=0,n=!1),s+1<t&&e[d+1]||(o+=c("h",r),r=0)):i++}return o}(e,o,t.margin)+'"/>',o='<svg xmlns="http://www.w3.org/2000/svg" '+(t.width?'width="'+t.width+'" height="'+t.width+'" ':"")+('viewBox="0 0 '+i+" "+i+'"')+' shape-rendering="crispEdges">'+n+e+"</svg>\n";return"function"==typeof a&&a(null,o),o}},9357:function(e,p){function i(e){if("string"!=typeof(e="number"==typeof e?e.toString():e))throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);6===(t=3!==t.length&&4!==t.length?t:Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))).length&&t.push("F","F");e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}p.getOptions=function(e){(e=e||{}).color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,a=e.width&&21<=e.width?e.width:void 0,o=e.scale||4;return{width:a,scale:a?4:o,margin:t,color:{dark:i(e.color.dark||"#000000ff"),light:i(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},p.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},p.getImageWidth=function(e,t){var a=p.getScale(e,t);return Math.floor((e+2*t.margin)*a)},p.qrToImageData=function(e,t,a){for(var o=t.modules.size,i=t.modules.data,n=p.getScale(o,a),r=Math.floor((o+2*a.margin)*n),d=a.margin*n,s=[a.color.light,a.color.dark],l=0;l<r;l++)for(var c=0;c<r;c++){var u=4*(l*r+c),m=a.color.light;d<=l&&d<=c&&l<r-d&&c<r-d&&(m=s[i[Math.floor((l-d)/n)*o+Math.floor((c-d)/n)]?1:0]),e[u++]=m.r,e[u++]=m.g,e[u++]=m.b,e[u]=m.a}}},2480:function(){}},o={};function wl(e){var t=o[e];if(void 0!==t)return t.exports;t=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(t.exports,t,t.exports,wl),t.loaded=!0,t.exports}wl.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return wl.d(t,{a:t}),t},wl.d=function(e,t){for(var a in t)wl.o(t,a)&&!wl.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},wl.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),wl.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},wl.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};!function(){"use strict";var e=wl(1360),r=wl.n(e),L={httpError:"Error en petición HTTP. [HTTP ERROR] Comunícate son soporte."},e=wl(9344),H=wl.n(e),e=wl(8623),U=wl.n(e),e=wl(1788),Y=wl.n(e),j={oninit:function(){H().config.encrypt=!0,H().config.secret="v4.Metrovirtual",H().config.encrypter=function(e,t){return Y().encrypt(JSON.stringify(e),t).toString()},H().config.decrypter=function(t,e){try{return JSON.parse(Y().decrypt(t,e).toString(U()))}catch(e){return t}}},setDataNotificaciones:function(e){return j.oninit(),H().set("updatesNotificaciones",e)},getDataNotificaciones:function(){return j.oninit(),H().get("updatesNotificaciones")},setData:function(e){return j.oninit(),H().set("updates",e)},setDataUser:function(e){return j.oninit(),H().set("dataUser",e)},getData:function(e){return j.oninit(),H().get("updates")},getDataUser:function(e){return j.oninit(),H().get("dataUser")}},B=j,V={user:[],rol:null,labelRol:null,modulesAccess:[],username:"",password:"",messageError:"",statusHide:" d-none",statusError:"warning",imputDisabled:!1,setUsername:function(e){V.username=e},setPassword:function(e){V.password=e},canSubmit:function(){return""!==V.username&&""!==V.password},setError:function(e){V.statusHide="",V.statusError="danger",V.messageError=e},setSuccess:function(e){V.statusHide="",V.statusError="success",V.messageError=e},setProcess:function(){V.statusHide="",V.statusError="warning",V.messageError="Procesando..."},login:function(){return V.imputDisabled=!0,V.setProcess(),r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/auth",body:{user:V.username,pass:V.password}}).then(function(e){e.status?(window.localStorage.accessToken=e.jwt,V.user=e.data.user,V.rol=e.data.rol,V.user.rol=V.rol,V.modulesAccess=e.data.modulesAccess,B.setDataUser({user:V.user,modulesAccess:V.modulesAccess}),V.setSuccess("¡Bienvenido!"),setTimeout(function(){V.imputDisabled=!1,V.statusHide="d-none",V.statusError="warning",V.messageError="",V.username="",V.password="",r().route.set("/inicio")},900)):(V.imputDisabled=!1,V.statusHide="d-none",V.statusError="warning",V.messageError="",V.setError(e.message))}).catch(function(e){V.imputDisabled=!1,V.statusHide="d-none",V.statusError="warning",V.messageError="",V.username="",V.password="",V.setError(L.httpError)})},isLogin:function(){return!(void 0===window.localStorage.getItem("accessToken")||!window.localStorage.getItem("accessToken"))}},z=V,J=wl(1360),q={view:function(){return[J("div.text-center.mg-t-300",J(".spinner-grow.text-dark[role='status']",J("span.sr-only","Cargando...")))]}},X=wl(1360),G={title:"MetroPlus v1.0.0",oninit:function(){document.title="Cargando..."},oncreate:function(){document.title="Bienvenido | "+G.title},isShow:function(){var o,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=B.getDataUser();return z.user=t.user,z.rol=t.user.rol,z.modulesAccess=t.modulesAccess,0===i||(o=0,z.modulesAccess[e].map(function(e,t,a){e.idModulo==i&&o++}),0!=o)},isAuth:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!z.isLogin())return X.route.set("/auth");var i,t=B.getDataUser();z.user=t.user,z.rol=t.user.rol,z.modulesAccess=t.modulesAccess,0!==o&&(i=0,z.modulesAccess[e].map(function(e,t,a){e.idModulo==o&&i++}),0==i&&X.route.set("/inicio"))},view:function(){return[X(q),setTimeout(function(){G.isAuth(),X.route.set("/inicio")},300)]}},d=G,e={oncreate:function(e){},view:function(e){window.location.href="http://172.16.253.18/report-executor/mvreport?name=USR_VALIDACION_EMERGENCIA&cdMultiEmpresa=1&V_ATENCION="+e.attrs.idAtencion}},Z=wl(1360),K={oncreate:function(){return window.localStorage.removeItem("accessToken"),Z.route.set("/auth")},view:function(){}},W=wl(1360),Q={view:function(){return[W("header.navbar.navbar-header.navbar-header-fixed",[W("div.navbar-brand",W(W.route.Link,{href:"/",class:"df-logo"},["Metro",W("span","Plus+")]))])]}},ee=wl(1360),te={view:function(){return[ee("div.content.content-fixed.content-auth",ee("div.container",ee("div.media.align-items-stretch.justify-content-center.ht-100p.pos-relative",[ee("div.mg-t-55.pd-50.media-body.align-items-center.d-none.d-lg-flex",[ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2 "},ee("i",{class:"fas fa-first-aid tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-pills tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-file-prescription tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-microscope  tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-procedures   tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-h-square tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-user-md tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-heartbeat      tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-notes-medical      tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-hospital tx-30 tx-white"}))]),ee("div.sign-wrapper.mg-lg-l-50.mg-xl-l-60",ee("div.wd-100p",[ee("h3.tx-color-01.mg-b-5.mg-t-20","Entrar"),ee("p.tx-color-03.tx-16.mg-b-40","¡Bienvenido! Por favor, inicie sesión para continuar."),ee(".tx-semibold.alert.alert-solid.alert-"+z.statusError+"."+z.statusHide+"[role='alert']",z.messageError),ee("div.form-group",[ee("label","Usuario:"),ee("input.form-control[type='text'][placeholder='mpaez']",{oninput:function(e){z.setUsername(e.target.value)},value:z.username})]),ee("div.form-group",[ee("div.d-flex.justify-content-between.mg-b-5",[ee("label.mg-b-0-f","Contraseña:")]),ee("input.form-control[type='password'][placeholder='Contraseña']",{oninput:function(e){z.setPassword(e.target.value)},value:z.password})]),ee("button.btn.btn-brand-02.btn-block "+z.buttonDisabled,{disabled:!z.canSubmit(),onclick:z.login},"Entrar"),ee("div.text-center.tx-gray-500.mg-t-20","MetroPlus Beta v1.0.0"),ee("div.text-center.tx-gray-500","Created by Hospital Metropolitano"),ee("div.ht-80")]))])))]}};var ae={oninit:function(){if(z.isLogin())return r().route.set("/inicio")},oncreate:function(){document.title="Entrar | "+d.title,document.onkeypress=function(e){"13"==((e=e||window.event).keyCode||e.which)&&z.canSubmit()&&$("button").click()}},view:function(){return[r()(Q),r()(te)]}},oe=wl(1360),ie={view:function(){return 1==z.rol?"Administrador":2==z.rol?"Coordinador":3==z.rol?"Gestionador":4==z.rol?"Operador":4==z.rol?"Usuario":void 0}},ne={view:function(){return[oe("div.navbar-right",[oe("div.dropdown.dropdown-profile",[oe("a.dropdown-link.tx-semibold[href='/salir'][title='Salir']",oe("div.avatar.avatar-sm",oe("i[data-feather='log-out']")))]),oe("div.dropdown.dropdown-profile",[oe("a.dropdown-link[href=''][data-toggle='dropdown'][data-display='static']",oe("div.avatar.avatar-sm",oe("i[data-feather='user']"))),oe("div.dropdown-menu.dropdown-menu-right.tx-13",[oe("div.tx-18.tx-semibold.mg-b-0",void 0!==z.user.user?z.user.user.toUpperCase():""),oe("p.mg-b-25.tx-12.tx-color-03",[oe(ie)]),oe("div.dropdown-divider"),oe("button",{class:"dropdown-item tx-16 ",onclick:function(e){oe.route.set("/salir")}},[oe("i[data-feather='log-out']"),"Salir"])])])])]}},re=wl(1360),de={view:function(){var o=B.getDataUser();if(0!==o.length)return[re("li.nav-item",re(re.route.Link,{href:"/inicio",class:"nav-link"},[re("i[data-feather='layout']")," Inicio "])),Object.keys(o.modulesAccess).map(function(e,t,a){if(0!==o.modulesAccess[e].length)return"terapia-respiratoria"==e?[re("li.nav-item."+(se.page===e?"active":""),re(re.route.Link,{href:"/terapia-respiratoria/pedidos",class:"nav-link"},[re("i[data-feather='layout']"),"Terapia Respiratoria"]))]:"bco-sangre"==e?[re("li.nav-item."+(se.page===e?"active":""),re(re.route.Link,{href:"/bco-sangre/pedidos",class:"nav-link"},[re("i[data-feather='layout']"),"Bco. de Sangre"]))]:"neurofisiologia"==e?[re("li.nav-item."+(se.page===e?"active":""),re(re.route.Link,{href:"/neurofisiologia/pedidos",class:"nav-link"},[re("i[data-feather='layout']"),"Neurofisiología"]))]:[re("li.nav-item."+(se.page===e?"active":""),re(re.route.Link,{href:"/"+e,class:"nav-link"},[re("i[data-feather='layout']"),e.charAt(0).toUpperCase()+e.slice(1)]))]})]}},se={page:"",setPage:function(e){se.page=e},oncreate:function(){le()},onupdate:function(){le()},view:function(){return[re("header.navbar.navbar-header.navbar-header-fixed",[re("a.burger-menu[href=''][id='sidebarMenuOpen']",re("i[data-feather='arrow-left']")),re("div.navbar-brand",re(re.route.Link,{href:"/",class:"df-logo"},["Metro",re("span","Plus+")])),re(".navbar-menu-wrapper[id='navbarMenu']",[re("div.navbar-menu-header",[re(re.route.Link,{href:"/",class:"df-logo"},["Metro",re("span","Plus+")]),re("a[id='mainMenuClose'][href='']",re("i[data-feather='x']"))]),re("ul.nav.navbar-menu",[re("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),re("div.d-lg-none",[re(de)])])]),re(ne)])]}};function le(){var t;function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))})}var o=se,ce=wl(1360),ue={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.laboratorio.map(function(e,t,a){return[ce(ce.route.Link,{href:"/"+e.href,class:me.page==e.idModulo?"active":""},[e.label])]})]}},me={page:"",setPage:function(e){me.page=e},view:function(){return[ce(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[ce("div.sidebar-header",[ce("a[href=''][id='mainMenuOpen']",ce("i[data-feather='menu']")),ce("h5","Menu"),ce("a[href=''][id='sidebarMenuClose']",ce("i[data-feather='x']"))]),ce("div.sidebar-body",ce("ul.sidebar-nav",[ce("li.nav-label.mg-b-15","Laboratorio"),ce("li.nav-item.show",[ce(ce.route.Link,{href:"/laboratorio",class:"nav-link with-sub"},[ce("i[data-feather='layout']")," Laboratorio "]),ce("nav.nav",[ce(ue)])])]))])]}},i=me,pe=wl(1360),be={view:function(){return[pe("div.content.content-components",pe("div.container",{style:{"max-width":"100%"}},[pe("ol.breadcrumb.df-breadcrumbs.mg-b-10",[pe("li.breadcrumb-item",pe(pe.route.Link,{href:"/"},["MetroPlus"])),pe("li.breadcrumb-item.active[aria-current='page']","Laboratorio")]),pe("h1.df-title.mg-t-20.mg-b-10","Laboratorio:"),pe("div.row.tx-14",[d.isShow("laboratorio",16)?[pe("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){pe.route.set("/laboratorio/flebotomista/inicio")}},[pe("div",{class:"media"},[pe("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},pe("i",{class:"fas fa-flask tx-30 tx-white"})),pe("div",{class:"media-body mg-l-15"},[pe("p",{class:"tx-18 mg-b-0"},"Flebotomista"),pe("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Flebotomista")])])])]:[],d.isShow("laboratorio",6)?[pe("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){pe.route.set("/laboratorio/formularios")}},[pe("div",{class:"media"},[pe("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},pe("i",{class:"fas fa-file-alt tx-30 tx-white"})),pe("div",{class:"media-body mg-l-15"},[pe("p",{class:"tx-18 mg-b-0"},"Formularios Epidemiológicos"),pe("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Formularios Epidemiológicos")])])])]:[],d.isShow("laboratorio",15)?[pe("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){pe.route.set("/laboratorio/notificaciones")}},[pe("div",{class:"media"},[pe("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},pe("i",{class:"fas fa-bell tx-30 tx-white"})),pe("div",{class:"media-body mg-l-15"},[pe("p",{class:"tx-18 mg-b-0"},"Notificaciones de Laboratorio"),pe("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Laboratorio")])])])]:[],d.isShow("laboratorio",21)?[pe("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){pe.route.set("/laboratorio/lisa/pedidos/ingresados")}},[pe("div",{class:"media"},[pe("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},pe("i",{class:"fas fa-sitemap tx-30 tx-white"})),pe("div",{class:"media-body mg-l-15"},[pe("p",{class:"tx-18 mg-b-0"},"LISA"),pe("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a LISA v1.0")])])])]:[],d.isShow("laboratorio",28)?[pe("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){pe.route.set("/laboratorio/etiquetas")}},[pe("div",{class:"media"},[pe("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},pe("i",{class:"fas fa-cog tx-30 tx-white"})),pe("div",{class:"media-body mg-l-15"},[pe("p",{class:"tx-18 mg-b-0"},"Configuración de Etiquetas"),pe("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuración de Etiquetas")])])])]:[]])]))]}},fe={oninit:function(){o.page="",i.page="",d.isAuth()},oncreate:function(){document.title="Laboratorio | "+d.title},view:function(){return[pe(o,{oncreate:o.setPage("laboratorio")}),pe(i),pe(be)]}},he={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:function(){o.page="",i.page="",he.searchField="",he.showBusquedas="",he.pacientes=[],d.isAuth()},oncreate:function(){document.title="Notificaciones de Laboratorio | "+d.title},view:function(){return[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" LABORATORIO "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Laboratorio")]),r()("h1.df-title.mg-t-20.mg-b-10",["Notificaciones de Laboratorio:"]),r()("div.row.tx-14",[r()("div.col-12.mg-b-10.wd-100p",r()("div.row.mg-t-10",[r()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){r().route.set("/laboratorio/notificaciones/filtros",{})}},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:"fas fa-filter tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-18 mg-b-0"},"Filtros"),r()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Filtros")])])]),r()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){r().route.set("/laboratorio/notificaciones/enviadas",{})}},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:"fas fa-mail-bulk tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-18 mg-b-0"},"Notificaciones Enviadas"),r()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones Enviadas")])])]),r()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){r().route.set("/laboratorio/notificaciones/porenviar",{})}},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:"fas fa-exclamation-triangle tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-18 mg-b-0"},"Notificaciones por Enviar"),r()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones por Enviar")])])]),r()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){r().route.set("/laboratorio/notificaciones/error",{})}},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:"fas fa-exclamation-triangle tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-18 mg-b-0"},"Notificaciones con Error"),r()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones con Error")])])]),r()("li.d-none",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){r().route.set("/laboratorio/notificaciones/pendientes",{})}},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:"fas fa-hourglass tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-18 mg-b-0"},"Configuración de Envío"),r()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuración de Envío")])])])])),r()("div.table-loader.col-12.wd-100p",{class:he.showProcess},r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.col-12",{class:"d-none"},[r()("label.nav-label.tx-semibold","Búsquedas Recientes:"),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",r()("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),r()("div.section-nav",[])]}},ge=he;function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var xe=function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}};var ye=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)};var we=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var _e=function(e){return xe(e)||ye(e)||we()};(function(t){n=t.exports,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",a=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag",n.wrap=f,c="suspendedStart",u="suspendedYield",m="executing",p="completed",b={},(e={})[o]=function(){return this},(r=(r=Object.getPrototypeOf)&&r(r(D([]))))&&r!==t&&l.call(r,o)&&(e=r),d=x.prototype=g.prototype=Object.create(e),(v.prototype=d.constructor=x).constructor=v,x[i]=v.displayName="GeneratorFunction",n.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(d),e},n.awrap=function(e){return{__await:e}},y(w.prototype),w.prototype[a]=function(){return this},n.AsyncIterator=w,n.async=function(e,t,a,o){var i=new w(f(e,t,a,o));return n.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(d),d[i]="Generator",d[o]=function(){return this},d.toString=function(){return"[object Generator]"},n.keys=function(a){var e,o=[];for(e in a)o.push(e);return o.reverse(),function e(){for(;o.length;){var t=o.pop();if(t in a)return e.value=t,e.done=!1,e}return e.done=!0,e}},n.values=D,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var o=this;function e(e,t){return n.type="throw",n.arg=a,o.next=e,t&&(o.method="next",o.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],n=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var r=l.call(i,"catchLoc"),d=l.call(i,"finallyLoc");if(r&&d){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&l.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var n=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return n.type=e,n.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),E(a),b}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a,o,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(a=i.completion).type&&(o=a.arg,E(i)),o}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:D(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=s),b}};var n,s,l,e,o,a,i,c,u,m,p,b,r,d,t=n;function f(e,t,a,o){var i,n,r,d,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype),o=new A(o||[]);return t._invoke=(i=e,n=a,r=o,d=c,function(e,t){if(d===m)throw new Error("Generator is already running");if(d===p){if("throw"===e)throw t;return T()}for(r.method=e,r.arg=t;;){var a=r.delegate;if(a){a=function e(t,a){var o=t.iterator[a.method];if(o===s){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=s,e(t,a),"throw"===a.method))return b;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}o=h(o,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,b;o=o.arg;if(!o)return a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b;{if(!o.done)return o;a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=s)}a.delegate=null;return b}(a,r);if(a){if(a===b)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(d===c)throw d=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);d=m;a=h(i,n,r);if("normal"===a.type){if(d=r.done?p:u,a.arg!==b)return{value:a.arg,done:r.done}}else"throw"===a.type&&(d=p,r.method="throw",r.arg=a.arg)}}),t}function h(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}function g(){}function v(){}function x(){}function y(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function w(r){var t;this._invoke=function(a,o){function e(){return new Promise(function(e,t){!function t(e,a,o,i){var n,e=h(r[e],r,a);if("throw"!==e.type)return(a=(n=e.arg).value)&&"object"===ve(a)&&l.call(a,"__await")?Promise.resolve(a.__await).then(function(e){t("next",e,o,i)},function(e){t("throw",e,o,i)}):Promise.resolve(a).then(function(e){n.value=e,o(n)},function(e){return t("throw",e,o,i)});i(e.arg)}(a,o,e,t)})}return t=t?t.then(e,e):e()}}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(t){if(t){var a,e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return a=-1,(e=function e(){for(;++a<t.length;)if(l.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=s,e.done=!0,e}).next=e}return{next:T}}function T(){return{value:s,done:!0}}try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})(Ve={exports:{}});var Ee=Ve.exports;function Ae(e,t,a,o,i,n,r){try{var d=e[n](r),s=d.value}catch(e){return void a(e)}d.done?t(s):Promise.resolve(s).then(o,i)}var De=function(d){return function(){var e=this,r=arguments;return new Promise(function(t,a){var o=d.apply(e,r);function i(e){Ae(o,t,a,i,n,"next",e)}function n(e){Ae(o,t,a,i,n,"throw",e)}i(void 0)})}};var Te=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function Me(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Pe=function(e,t,a){return t&&Me(e.prototype,t),a&&Me(e,a),e};var ke=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e};var Se=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);(o="function"==typeof Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})):o).forEach(function(e){ke(t,e,a[e])})}return t};function Ce(e){var t=e.method,a=e.path,o=e.body,o=void 0===o?null:o,i=e.headers,i=void 0===i?{}:i,e=e.credentials,t={method:t,headers:i,credentials:void 0===e?"same-origin":e};return null!==o&&(t.body=JSON.stringify(o),t.headers=Se({"Content-Type":"application/json"},i)),fetch(a,t).then(function(){var t=De(Ee.mark(function e(t){return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=3;break}return e.next=3,function(){return Ie.apply(this,arguments)}(t);case 3:return e.prev=3,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[3,9]])}));return function(e){return t.apply(this,arguments)}}())}function Ie(){return(Ie=De(Ee.mark(function e(t){var a,o;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:o=e.sent,a=o.error,a=void 0===a?"Unknown error":a,o=o.description,o=void 0===o?"No description":o,a="Unexpected status code ".concat(t.status,": ").concat(a,", ").concat(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a="Unexpected status code ".concat(t.status,": Cannot parse error response");case 14:throw new Error(a);case 15:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}var Oe=function(){function t(e){Te(this,t),this._instanceId=e,this._dbConn=null}var a,o;return Pe(t,[{key:"connect",value:function(){var o=this;return new Promise(function(t,a){var e=indexedDB.open(o._dbName);e.onsuccess=function(e){e=e.target.result;o._dbConn=e,o._readState().then(function(e){return null===e?o.clear():Promise.resolve()}).then(t)},e.onupgradeneeded=function(e){e.target.result.createObjectStore("beams",{keyPath:"instance_id"})},e.onerror=function(e){e=new Error("Database error: ".concat(e.target.error));a(e)}})}},{key:"clear",value:function(){return this._writeState({instance_id:this._instanceId,device_id:null,token:null,user_id:null})}},{key:"_readState",value:function(){var o=this;if(this.isConnected)return new Promise(function(t,a){var e=o._dbConn.transaction("beams").objectStore("beams").get(o._instanceId);e.onsuccess=function(e){e=e.target.result;e||t(null),t(e)},e.onerror=function(e){a(e.target.error)}});throw new Error("Cannot read value: DeviceStateStore not connected to IndexedDB")}},{key:"_readProperty",value:(o=De(Ee.mark(function e(t){var a;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readState();case 2:if(null===(a=e.sent))return e.abrupt("return",null);e.next=5;break;case 5:return e.abrupt("return",a[t]||null);case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"_writeState",value:function(o){var i=this;if(this.isConnected)return new Promise(function(t,a){var e=i._dbConn.transaction("beams","readwrite").objectStore("beams").put(o);e.onsuccess=function(e){t()},e.onerror=function(e){a(e.target.error)}});throw new Error("Cannot write value: DeviceStateStore not connected to IndexedDB")}},{key:"_writeProperty",value:(a=De(Ee.mark(function e(t,a){var o;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readState();case 2:return(o=e.sent)[t]=a,e.next=6,this._writeState(o);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"getToken",value:function(){return this._readProperty("token")}},{key:"setToken",value:function(e){return this._writeProperty("token",e)}},{key:"getDeviceId",value:function(){return this._readProperty("device_id")}},{key:"setDeviceId",value:function(e){return this._writeProperty("device_id",e)}},{key:"getUserId",value:function(){return this._readProperty("user_id")}},{key:"setUserId",value:function(e){return this._writeProperty("user_id",e)}},{key:"getLastSeenSdkVersion",value:function(){return this._readProperty("last_seen_sdk_version")}},{key:"setLastSeenSdkVersion",value:function(e){return this._writeProperty("last_seen_sdk_version",e)}},{key:"getLastSeenUserAgent",value:function(){return this._readProperty("last_seen_user_agent")}},{key:"setLastSeenUserAgent",value:function(e){return this._writeProperty("last_seen_user_agent",e)}},{key:"_dbName",get:function(){return"beams-".concat(this._instanceId)}},{key:"isConnected",get:function(){return null!==this._dbConn}}]),t}(),Re="1.1.0",Ne=new RegExp("^(_|\\-|=|@|,|\\.|;|[A-Z]|[a-z]|[0-9])*$"),Fe="/service-worker.js?pusherBeamsWebSDKVersion=".concat(Re),Le=Object.freeze({PERMISSION_PROMPT_REQUIRED:"PERMISSION_PROMPT_REQUIRED",PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS",PERMISSION_GRANTED_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_REGISTERED_WITH_BEAMS",PERMISSION_DENIED:"PERMISSION_DENIED"}),He=function(){function i(e){if(Te(this,i),!e)throw new Error("Config object required");var t=e.instanceId,a=e.endpointOverride,a=void 0===a?null:a,e=e.serviceWorkerRegistration,e=void 0===e?null:e;if(void 0===t)throw new Error("Instance ID is required");if("string"!=typeof t)throw new Error("Instance ID must be a string");if(0===t.length)throw new Error("Instance ID cannot be empty");if(!("indexedDB"in window))throw new Error("Pusher Beams does not support this browser version (IndexedDB not supported)");if(!window.isSecureContext)throw new Error("Pusher Beams relies on Service Workers, which only work in secure contexts. Check that your page is being served from localhost/over HTTPS");if(!("serviceWorker"in navigator))throw new Error("Pusher Beams does not support this browser version (Service Workers not supported)");if(!("PushManager"in window))throw new Error("Pusher Beams does not support this browser version (Web Push not supported)");if(e){var o=e.scope;if(!window.location.href.startsWith(o))throw new Error("Could not initialize Pusher web push: current page not in serviceWorkerRegistration scope (".concat(o,")"))}this.instanceId=t,this._deviceId=null,this._token=null,this._userId=null,this._serviceWorkerRegistration=e,this._deviceStateStore=new Oe(t),this._endpoint=a,this._ready=this._init()}var e,t,a,o,n,r,d,s,l,c,u,m,p,b,f,h,g,v,x,y,w,_;return Pe(i,[{key:"_init",value:(_=De(Ee.mark(function e(){return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._deviceId)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,this._deviceStateStore.connect();case 4:if(this._serviceWorkerRegistration)return e.next=7,window.navigator.serviceWorker.ready;e.next=9;break;case 7:e.next=12;break;case 9:return e.next=11,function(){return Ye.apply(this,arguments)}();case 11:this._serviceWorkerRegistration=e.sent;case 12:return e.next=14,this._detectSubscriptionChange();case 14:return e.next=16,this._deviceStateStore.getDeviceId();case 16:return this._deviceId=e.sent,e.next=19,this._deviceStateStore.getToken();case 19:return this._token=e.sent,e.next=22,this._deviceStateStore.getUserId();case 22:this._userId=e.sent;case 23:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"_resolveSDKState",value:(w=De(Ee.mark(function e(){return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.next=4,this._detectSubscriptionChange();case 4:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"_detectSubscriptionChange",value:(y=De(Ee.mark(function e(){var t,a;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._deviceStateStore.getToken();case 2:return t=e.sent,e.next=5,this._serviceWorkerRegistration.pushManager.getSubscription().then(function(e){return e?btoa(JSON.stringify(e)):null});case 5:if(a=e.sent,t!==a)return e.next=10,this._deviceStateStore.clear();e.next=13;break;case 10:this._deviceId=null,this._token=null,this._userId=null;case 13:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"getDeviceId",value:(x=De(Ee.mark(function e(){var t=this;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._deviceId}));case 3:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"getToken",value:(v=De(Ee.mark(function e(){var t=this;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._token}));case 3:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getUserId",value:(g=De(Ee.mark(function e(){var t=this;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._userId}));case 3:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"_throwIfNotStarted",value:function(e){if(!this._deviceId)throw new Error("".concat(e,". SDK not registered with Beams. Did you call .start?"))}},{key:"start",value:(h=De(Ee.mark(function e(){var t,a,o;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(je()){e.next=4;break}return e.abrupt("return",this);case 4:if(null!==this._deviceId)return e.abrupt("return",this);e.next=6;break;case 6:return e.next=8,this._getPublicKey();case 8:return t=e.sent,t=t.vapidPublicKey,e.next=12,this._getPushToken(t);case 12:return a=e.sent,e.next=15,this._registerDevice(a);case 15:return o=e.sent,e.next=18,this._deviceStateStore.setToken(a);case 18:return e.next=20,this._deviceStateStore.setDeviceId(o);case 20:return e.next=22,this._deviceStateStore.setLastSeenSdkVersion(Re);case 22:return e.next=24,this._deviceStateStore.setLastSeenUserAgent(window.navigator.userAgent);case 24:return this._token=a,this._deviceId=o,e.abrupt("return",this);case 27:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"getRegistrationState",value:(f=De(Ee.mark(function e(){return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if("denied"===Notification.permission)return e.abrupt("return",Le.PERMISSION_DENIED);e.next=4;break;case 4:if("granted"===Notification.permission&&null!==this._deviceId)return e.abrupt("return",Le.PERMISSION_GRANTED_REGISTERED_WITH_BEAMS);e.next=6;break;case 6:if("granted"===Notification.permission&&null===this._deviceId)return e.abrupt("return",Le.PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS);e.next=8;break;case 8:return e.abrupt("return",Le.PERMISSION_PROMPT_REQUIRED);case 9:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"addDeviceInterest",value:(b=De(Ee.mark(function e(t){var a;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not add Device Interest"),Ue(t),a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(t)),a={method:"POST",path:a},e.next=8,Ce(a);case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"removeDeviceInterest",value:(p=De(Ee.mark(function e(t){var a;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not remove Device Interest"),Ue(t),a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(t)),a={method:"DELETE",path:a},e.next=8,Ce(a);case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getDeviceInterests",value:(m=De(Ee.mark(function e(){var t;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not get Device Interests"),t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),t={method:"GET",path:t},e.next=7,Ce(t);case 7:if(e.t0=e.sent.interests,e.t0){e.next=10;break}e.t0=[];case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"setDeviceInterests",value:(u=De(Ee.mark(function e(t){var a,o,i,n,r,d,s;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(this._throwIfNotStarted("Could not set Device Interests"),null==t)throw new Error("interests argument is required");e.next=5;break;case 5:if(Array.isArray(t)){e.next=7;break}throw new Error("interests argument must be an array");case 7:if(5e3<t.length)throw new Error("Number of interests (".concat(t.length,") exceeds maximum of ").concat(5e3));e.next=9;break;case 9:for(o=!(a=!0),i=void 0,e.prev=12,n=t[Symbol.iterator]();!(a=(r=n.next()).done);a=!0)r=r.value,Ue(r);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,a||null==n.return||n.return();case 23:if(e.prev=23,o)throw i;e.next=26;break;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return d=Array.from(new Set(t)),s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),s={method:"PUT",path:s,body:{interests:d}},e.next=33,Ce(s);case 33:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])})),function(e){return u.apply(this,arguments)})},{key:"clearDeviceInterests",value:(c=De(Ee.mark(function e(){return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not clear Device Interests"),e.next=5,this.setDeviceInterests([]);case 5:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"setUserId",value:(l=De(Ee.mark(function e(t,a){var o,i,n;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(je()){e.next=4;break}return e.abrupt("return");case 4:if(null===this._deviceId)return i=new Error(".start must be called before .setUserId"),e.abrupt("return",Promise.reject(i));e.next=7;break;case 7:if("string"!=typeof t)throw new Error("User ID must be a string (was ".concat(t,")"));e.next=9;break;case 9:if(""===t)throw new Error("User ID cannot be the empty string");e.next=11;break;case 11:if(null!==this._userId&&this._userId!==t)throw new Error("Changing the `userId` is not allowed.");e.next=13;break;case 13:return o="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/user"),e.next=16,a.fetchToken(t);case 16:return i=e.sent,n=i.token,n={method:"PUT",path:o,headers:{Authorization:"Bearer ".concat(n)}},e.next=21,Ce(n);case 21:return this._userId=t,e.abrupt("return",this._deviceStateStore.setUserId(t));case 23:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"stop",value:(s=De(Ee.mark(function e(){return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(je()){e.next=4;break}return e.abrupt("return");case 4:if(null===this._deviceId)return e.abrupt("return");e.next=6;break;case 6:return e.next=8,this._deleteDevice();case 8:return e.next=10,this._deviceStateStore.clear();case 10:this._clearPushToken().catch(function(){}),this._deviceId=null,this._token=null,this._userId=null;case 14:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"clearAllState",value:(d=De(Ee.mark(function e(){return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(je()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.stop();case 4:return e.next=6,this.start();case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"_getPublicKey",value:(r=De(Ee.mark(function e(){var t;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/web-vapid-public-key"),t={method:"GET",path:t},e.abrupt("return",Ce(t));case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"_getPushToken",value:(n=De(Ee.mark(function e(o){var i;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._clearPushToken();case 3:return e.next=5,this._serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(void 0,a=void 0,a="=".repeat((4-(t=o).length%4)%4),t=(t+a).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),Uint8Array.from(_e(a).map(function(e){return e.charCodeAt(0)})))});case 5:return i=e.sent,e.abrupt("return",btoa(JSON.stringify(i)));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}var t,a},e,this,[[0,9]])})),function(e){return n.apply(this,arguments)})},{key:"_clearPushToken",value:(o=De(Ee.mark(function e(){return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){e&&e.unsubscribe()}));case 1:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"_registerDevice",value:(a=De(Ee.mark(function e(t){var a;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web"),a={method:"POST",path:a,body:{token:t,metadata:{sdkVersion:Re}}},e.next=5,Ce(a);case 5:return a=e.sent,e.abrupt("return",a.id);case 7:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"_deleteDevice",value:(t=De(Ee.mark(function e(){var t;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(encodeURIComponent(this._deviceId)),t={method:"DELETE",path:t},e.next=4,Ce(t);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_updateDeviceMetadata",value:(e=De(Ee.mark(function e(){var t,a,o,i;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.navigator.userAgent,e.next=3,this._deviceStateStore.getLastSeenUserAgent();case 3:return a=e.sent,e.next=6,this._deviceStateStore.getLastSeenSdkVersion();case 6:if(o=e.sent,t===a&&Re===o)return e.abrupt("return");e.next=9;break;case 9:return o="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/metadata"),i={method:"PUT",path:o,body:{sdkVersion:Re}},e.next=14,Ce(i);case 14:return e.next=16,this._deviceStateStore.setLastSeenSdkVersion(Re);case 16:return e.next=18,this._deviceStateStore.setLastSeenUserAgent(t);case 18:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_baseURL",get:function(){return null!==this._endpoint?this._endpoint:"https://".concat(this.instanceId,".pushnotifications.pusher.com")}}]),i}(),Ue=function(e){if(null==e)throw new Error("Interest name is required");if("string"!=typeof e)throw new Error("Interest ".concat(e," is not a string"));if(!Ne.test(e))throw new Error('interest "'.concat(e,'" contains a forbidden character. ')+"Allowed characters are: ASCII upper/lower-case letters, numbers or one of _-=@,.;");if(164<e.length)throw new Error("Interest is longer than the maximum of ".concat(164," chars"))};function Ye(){return(Ye=De(Ee.mark(function e(){var t;return Ee.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Fe);case 2:if(t=e.sent,200!==t.status)throw new Error("Cannot start SDK, service worker missing: No file found at /service-worker.js");e.next=6;break;case 6:return window.navigator.serviceWorker.register(Fe,{updateViaCache:"none"}),e.abrupt("return",window.navigator.serviceWorker.ready);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function je(){var e=window.navigator,t=e.vendor,a=null!==window.chrome&&void 0!==window.chrome,o=-1<e.userAgent.indexOf("OPR"),i=-1<e.userAgent.indexOf("Edg"),e=-1<e.userAgent.indexOf("Firefox"),a=a&&"Google Inc."===t&&!i&&!o||o||e||i;return a||console.warn("Pusher Web Push Notifications supports Chrome, Firefox, Edge and Opera."),a}var Be={canal:"",oninit:function(e){void 0!==e.attrs.canal&&(Be.canal=e.attrs.canal)},subscribirCanal:function(e){var t=new He({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});t.start().then(function(){return t.addDeviceInterest(e)}).then(function(){alert("Proceso realizado con éxito. Usuario (Dispositivo) subscrito al canal: "+e),console.log("Successfully registered and subscribed! + "+e)}).catch(console.error)},view:function(){0!==Be.canal.length&&Be.subscribirCanal(Be.canal)}},Ve=Be,$e={data:[],fetch:function(){$e.data=[];for(var e=0;e<ze.dataFiltros.length;e++)ze.dataFiltros[e].id==ze.idFiltro&&($e.data=ze.dataFiltros[e])},view:function(){return 0!==ze.showBitacora.length&&0!==$e.data.length?[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){ze.showBitacora="",$e.data=[],r().route.set("/laboratorio/notificaciones/filtros",{})}}))),r()("div.mg-b-30",r()("i.tx-40.fas.fa-filter.")),r()("p.mg-5.tx-right",[r()("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:function(){}},r()("i.fas.fa-edit.mg-r-5")," Editar "),r()("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:function(){}},r()("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),r()("h5.tx-inverse.mg-b-10","Filtro: "+$e.data.nombre),0==$e.data.ene?[r()("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[r()("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],null!==$e.data.x_servicio?[r()("h5.tx-inverse.mg-b-10","Por Servicio: "+$e.data.x_servicio)]:[],null!==$e.data.x_origen?[r()("h5.tx-inverse.mg-b-10","Por Origen: "+$e.data.x_origen)]:[],null!==$e.data.x_motivo?[r()("h5.tx-inverse.mg-b-10","Por Motivo: "+$e.data.x_motivo)]:[],null!==$e.data.x_especialidad?[r()("h5.tx-inverse.mg-b-10","Por Especialidad: "+$e.data.x_especialidad)]:[],null!==$e.data.x_medico?[r()("h5.tx-inverse.mg-b-10","Por Médico: "+$e.data.x_medico)]:[],null!==$e.data.x_idprueba?[r()("h5.tx-inverse.mg-b-10","Por Id Prueba: "+$e.data.x_idprueba)]:[]])]:0!==ze.showBitacora.length?[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]:void 0}},ze={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=reglas"}).then(function(e){var t;ze.dataFiltros=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-filtroslab").DataTable({data:ze.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,columns:[{title:"N°:"},{title:"REGLA:"},{title:"TIPO:"},{title:"FECHA:"},{title:"SERVICIO:"},{title:"ORIGEN:"},{title:"MOTIVO:"},{title:"ESPECIALIDAD:"},{title:"MÉDICO:"},{title:"ID PRUEBA:"},{title:"QR:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.nombreFiltro},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return 0==a.eNe?" NO ENVIAR ":" ENVIAR "},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return moment.utc(moment()).format("DD-MM-YYYY")},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.xServicio},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.xOrigen},visible:!0,aTargets:[5]},{mRender:function(e,t,a){return a.xMotivo},visible:!0,aTargets:[6]},{mRender:function(e,t,a){return a.xMedico},visible:!0,aTargets:[7]},{mRender:function(e,t,a){return a.x_medico},visible:!0,aTargets:[8]},{mRender:function(e,t,a){return a.xIdPrueba},visible:!0,aTargets:[9]},{mRender:function(e,t,a){return a.xQR},visible:!0,aTargets:[10]}],fnRowCallback:function(e,t,a,o){$(e).attr("id",t.id),0==t.eNe?$(e).addClass("tx-danger"):$(e).addClass("tx-primary"),$(e).css("cursor","pointer"),$(e).addClass("verRegla")},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),$(".verRegla").click(function(e){e.preventDefault();ze.showBitacora="d-none",r().route.set("/laboratorio/notificaciones/filtros/",{idFiltro:this.id})})}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()})}).catch(function(e){})},oninit:function(e){o.page="",i.page="",ze.dataPendientesAlta=[],ze.dataCamaTotales=[],ze.camasTotales=0,ze.pendienteAlta=0,d.isAuth("laboratorio",15)},oncreate:function(e){document.title="Reglas Filtros | "+d.title,ze.fetch()},view:function(e){return void 0!==e.attrs&&void 0!==e.attrs.idFiltro?(ze.idFiltro=e.attrs.idFiltro,ze.showBitacora="d-none",$e.fetch(),console.log($e.data)):(ze.idFiltro="",ze.showBitacora=""),[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container",{style:{"max-width":"none"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Reglas Filtros:")]),r()("h1.df-title.mg-t-20.mg-b-10","Reglas Filtros:"),r()("div.row.animated.fadeInUp",{class:ze.showBitacora},[r()("div.col-12",[r()("p.mg-b-20.tx-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2[type='button']",{onclick:function(){}},r()("i.fas.fa-plus.mg-r-5")," Nueva Regla ")]),r()("div.filemgr-content-header.",[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),r()("div.mg-t-50.table-loader.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20..mg-t-40",[r()("table.table.table-sm.tx-12[id='table-filtroslab'][width='100%']")])])]),r()($e)]))]}};var Je=ze,qe={store:[],notificaciones:[],registraCanal:function(){qe.push({id:_data.id,data:null})},despacharMensajes:function(){0!==qe.notificaciones.length&&qe.notificaciones.map(function(e,t){Xe.setNot(),console.log(e),qe.sendPush({title:"Nueva NOTIFICACION",message:"Es"})})},sendPush:function(e){var t,a;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),t="Metrovirtual: "+e.title,e={icon:"assets/favicon.ico",body:e.message},(a=new Notification(t,e)).onclick=function(){},a.onclose={},setTimeout(function(){a.close()},3e4))},nuevaNotificacion:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=qe.notificaciones;qe.notificaciones=[],t.push(e),setTimeout(function(){qe.notificaciones=t,qe.despacharMensajes()},1e3)},oninit:function(){var e=new He({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});e.start().then(function(){return e.addDeviceInterest("Metrovirtual")}).then(function(){return console.log("Successfully registered and subscribed!")}).catch(console.error)},suscribirCanal:function(e){var t=new He({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});t.start().then(function(){return t.addDeviceInterest(e)}).then(function(){return console.log("Successfully registered and subscribed! + "+e)}).catch(console.error)},view:function(){}},Xe={num:0,message:" tenemos nueva información disponible para ti. Click aquí!.",timestamp:"",setNot:function(){Xe.num=Xe.num+1},suscribirCanal:function(e){return qe.suscribirCanal(e)},view:function(){return[r()(qe),r()("div.dropdown.dropdown-notification",[r()("a.dropdown-link.new-indicator[href=''][data-toggle='dropdown']",[r()("i[data-feather='bell']"),r()("span",{class:0==Xe.num?"d-none":""},Xe.num)]),r()("div.dropdown-menu.dropdown-menu-right",{class:0==Xe.num?"d-none":""},[r()("div.dropdown-header","Notificaciones"),r()("a.dropdown-item",{onclick:function(e){e.preventDefault(),r().route.set("/notificaciones")}},r()("div.media",[r()("div.media-body.mg-l-15",[r()("p",[r()("strong","Metrovirtual "),Xe.message]),r()("span",Xe.timestamp)])])),r()("div.dropdown-footer",r()("a[href='/']","Ver Todo"))])])]}},Ge=Xe,Ze=wl(2054);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Qe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function et(t,e){var a,o=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,a)),o}function tt(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?et(Object(i),!0).forEach(function(e){var t,a;t=o,a=i[e=e],(e=function(e){e=function(e,t){if("object"!==Ke(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Ke(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}
//! pretty-print-json v2.0.4 ~~ https://pretty-print-json.js.org ~~ MIT License
(e,"string");return"symbol"===Ke(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):et(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}var at=function(e,t){"".at||(String.prototype.at=function(e){return this.charAt(e+(e<0?this.length:0))});function a(e){return"<"===e?"&lt;":">"===e?"&gt;":"&"===e?"&amp;":"&bsol;&quot;"}function o(e){return"   <li>".concat(e,"</li>")}var s=tt(tt({},{indent:3,lineNumbers:!1,linkUrls:!0,linksNewTab:!0,quoteKeys:!1,trailingComma:!0}),t),l=function(e,t){return t?"<span class=json-"+e+">"+t+"</span>":""},t=(JSON.stringify(e,null,s.indent)||"undefined").replace(/[<>&]|\\"/g,a).replace(/^( *)("[^"]+": )?("[^"]*"|[\w.+-]*)?([{}[\],]*)?$/gm,function(e){var t,a={indent:arguments.length<=1?void 0:arguments[1],key:arguments.length<=2?void 0:arguments[2],value:arguments.length<=3?void 0:arguments[3],end:arguments.length<=4?void 0:arguments[4]},o=s.quoteKeys?/(.*)(): /:/"([\w$]+)": |(.*): /,i=a.indent||"",o=a.key&&a.key.replace(o,"$1$2"),o=a.key?l("key",o)+l("mark",": "):"",n=a.value?(n=a.value,d=/^"/.test(n)&&"string",r=["true","false"].includes(n)&&"boolean"||"null"===n&&"null"||d||"number",t=s.linksNewTab?" target=_blank":"",d=d&&s.linkUrls?n.replace(/https?:\/\/[^\s"]+/g,function(e){return'<a class=json-link href="'.concat(e,'"').concat(t,">").concat(e,"</a>")}):n,l(r,d)):"",r=!a.end||["]","}"].includes(e.at(-1)),d=s.trailingComma&&" "===e.at(0)&&r;return i+o+n+l("mark",d?(null!=(e=a.end)?e:"")+",":a.end)});return s.lineNumbers?["<ol class=json-lines>"].concat(We(t.split("\n").map(o)),["</ol>"]).join("\n"):t};var ot={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(ot.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?ot.start(e):ot.stop(e),e.isPaused=!e.isPaused}};function it(){var t={interval:null,seconds:100,isPaused:!1};return ot.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){ot.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){ot.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ot.stop(t)}}}var nt={oncreate:function(){a.loadNotificacionesEnviadasLab(),0!==a.searchField.length&&$("#table-NotificacionesEnviadasLab").DataTable().search(a.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Notificaciones: ",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==a.idFiltro&&(e.dom.innerHTML="Enviadas de Hoy"),2==a.idFiltro&&(e.dom.innerHTML="Enviadas entre Fechas"),3==a.idFiltro&&(e.dom.innerHTML="Enviadas PCR")},onupdate:function(e){1==a.idFiltro&&(e.dom.innerHTML="Enviadas de Hoy"),2==a.idFiltro&&(e.dom.innerHTML="Enviadas entre Fechas"),3==a.idFiltro&&(e.dom.innerHTML="Enviadas PCR")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==a.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==a.idFiltro?moment(moment(a.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){a.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),a.loader=!0,a.NotificacionesEnviadasLab=[],a.fetchNotificacionesEnviadasLab(),r().route.set("/laboratorio/notificaciones/enviadas?idFiltro="+a.idFiltro+"&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==a.idFiltro?moment(moment(a.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){a.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),a.loader=!0,a.NotificacionesEnviadasLab=[],a.fetchNotificacionesEnviadasLab(),r().route.set("/laboratorio/notificaciones/enviadas?idFiltro="+a.idFiltro+"&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5"),r()("div.link-03",{title:"Filtros"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Filtros"))),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/enviadas/?idFiltro=1"},["Notificaciones Enviadas de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/enviadas/?idFiltro=2&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta},["Notificaciones Enviadas entre Fechas"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/enviadas/?idFiltro=3&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta},["Notificaciones Enviadas PCR"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==a.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){a.searchField=e.target.value},value:a.searchField}))]),r()("table.table.table-sm.tx-11[id='table-NotificacionesEnviadasLab'][width='100%']")])])])}},a={notificaciones:[],NotificacionesEnviadasLab:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",totalEnviadas:0,totalPCR:0,oninit:function(e){i.page=""},oncreate:function(e){Ge.suscribirCanal("MetroPlus-NotificacionesEnviadasLab")},loadNotificacionesEnviadasLab:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesEnviadasLab").DataTable({data:a.NotificacionesEnviadasLab,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[1,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Pedido N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fechaExamen+" "+a.horaExamen},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.sc},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.numeroHistoriaClinica},visible:!0,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return a.apellidosPaciente+" "+a.nombresPaciente},visible:!0,aTargets:[4],orderable:!0},{mRender:function(e,t,a){return a.medico},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.tx-13",{class:1==t._PCR?"bg-danger":"bg-primary",style:{width:"1%"},title:t.origen},[r()("span.tx-12.badge.badge-pill",{class:1==t._PCR?"badge-danger":"badge-primary"},1==t._PCR?"U":"R")]),r()("td.wd-20p.tx-13",r()(".d-inline.mg-r-5","Fecha Examen:"),r()("br"),r()(".d-inline.mg-r-5",t.fechaExamen+" "+t.horaExamen),r()("br"),r()(".d-inline.mg-r-5","Fecha Envío:"),r()("br"),r()(".d-inline.mg-r-5",t.fechaEnvio||"N/D")),r()("td.wd-5p.tx-center.tx-13",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.sc.slice(2))),r()("td.wd-20p.tx-13",{style:{}},[r()(".d-inline.mg-r-5.tx-uppercase",t.origen),r()("br"),t.apellidosPaciente+" "+t.nombresPaciente]),r()("td.wd-20p.tx-13",t.medico),r()("td.tx-center.tx-15.wd-15p",r()(".btn-group.btn-group-sm[role='group']",[r()("button.btn.btn-secondary.tx-12",{onclick:function(){$("#modalViewLogs").modal("show");var e={numeroHistoriaClinica:t.numeroHistoriaClinica,apellidosPaciente:t.apellidosPaciente,nombresPaciente:t.nombresPaciente,sc:t.sc,fechaExamen:t.fechaExamen,horaExamen:t.horaExamen,origen:t.origen,servicio:t.servicio,medico:t.medico,motivo:t.motivo,ultimaValidacion:t.ultimaValidacion,ultimoFiltrado:t.ultimoFiltrado,reglasFiltrosEnvio:t.reglasFiltrosEnvio,correosElectronicos:t.correosElectronicos,logsEnvio:t.logsEnvio};document.getElementById("logRes").innerHTML=at(e)}},[" Ver Logs "]),r()("button.btn.btn-secondary.tx-12",{onclick:function(){$("#modalViewQR").modal("show");var e=document.querySelector("canvas.qr");Ze.toCanvas(e,t.urlResultado)}},[" Ver QR "]),r()(r().route.Link,{href:t.urlResultado,class:"button btn btn-secondary tx-12",target:"_blank"},[" Link Resultado "])]))]}})},drawCallback:function(e){a.totalPCR=0,e.aoData.map(function(e,t){1==e._aData._PCR&&a.totalPCR++}),a.totalEnviadas=e.aoData.length-a.totalPCR,r().redraw()}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchNotificacionesEnviadasLab:function(){var e;void 0!==a.idFiltro&&(a.reloadData(),e="",e=1==a.idFiltro?"&idFiltro="+a.idFiltro:"&idFiltro="+a.idFiltro+"&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta,r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=enviadas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){a.loader=!1,0==e.data.length?a.error="No existe resultados.":(a.error="",a.NotificacionesEnviadasLab=e.data)}).catch(function(e){a.error=e}))},reloadData:function(){var e=$("#table-NotificacionesEnviadasLab").DataTable();e.clear(),e.rows.add(a.NotificacionesEnviadasLab).draw()},view:function(e){return a.loader||0===a.error.length?a.loader||0===a.NotificacionesEnviadasLab.length?[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),r()("table",{class:"table table-borderless table-sm tx-13 tx-nowrap mg-b-0"},[r()("thead",r()("tr",{class:"tx-10 tx-spacing-1 tx-color-03 tx-uppercase"},[r()("th","Enviadas"),r()("th",{class:"text-right"},"Total"),r()("th",{class:"text-right"},"ACTUALIZACIÓN EN")])),r()("tbody",[r()("tr",[r()("td",{class:"tx-medium"},"CONSULTA EXTERNA"),r()("td",{class:"text-right"},a.totalEnviadas),r()("td[rowspan='2']",{class:"text-right"},r()(it))]),r()("tr",[r()("td",{class:"tx-medium"},"PCR"),r()("td",{class:"text-right"},a.totalPCR)])])]),r()(nt)])),r()(".modal.calendar-modal-event[id='modalViewQR'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-sm[role='document']",r()("div.modal-content",[r()("div.modal-header.bg-primary",[r()("h6.event-title","QR Resultado:"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("div.col-sm-12",[r()("label.tx-11.tx-medium.tx-spacing-1.tx-color-03","*Escanee con su teléfono para continuar."),r()("p.event-start-date.tx-center",[r()("canvas.qr.wd-100p")])])])])]))),r()(".modal.calendar-modal-event[id='modalViewLogs'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",r()("div.modal-content",[r()("div.modal-header.bg-primary",[r()("h6.event-title","Logs Resultado:"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("pre.json-container[id='logRes']")])])])))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),r()("table",{class:"table table-borderless table-sm tx-13 tx-nowrap mg-b-0"},[r()("thead",r()("tr",{class:"tx-10 tx-spacing-1 tx-color-03 tx-uppercase"},[r()("th","Enviadas"),r()("th",{class:"text-right"},"Total"),r()("th",{class:"text-right"},"ACTUALIZACIÓN EN")])),r()("tbody",[r()("tr",[r()("td",{class:"tx-medium"},"CONSULTA EXTERNA"),r()("td",{class:"text-right"},a.totalEnviadas),r()("td[rowspan='2']",{class:"text-right"},r()(it))]),r()("tr",[r()("td",{class:"tx-medium"},"PCR"),r()("td",{class:"text-right"},a.totalPCR)])])]),r()("div.d-flex.align-items-center.justify-content-between.mg-b-40.mg-t-10",[r()("h5.mg-b-0","Notificaciones: ",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==a.idFiltro&&(e.dom.innerHTML="Enviadas de Hoy"),2==a.idFiltro&&(e.dom.innerHTML="Enviadas entre Fechas"),3==a.idFiltro&&(e.dom.innerHTML="Enviadas PCR")},onupdate:function(e){1==a.idFiltro&&(e.dom.innerHTML="Enviadas de Hoy"),2==a.idFiltro&&(e.dom.innerHTML="Enviadas entre Fechas"),3==a.idFiltro&&(e.dom.innerHTML="Enviadas PCR")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==a.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==a.idFiltro?moment(moment(a.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){a.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),a.loader=!0,a.NotificacionesEnviadasLab=[],a.fetchNotificacionesEnviadasLab(),r().route.set("/laboratorio/notificaciones/enviadas?idFiltro="+a.idFiltro+"&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==a.idFiltro?moment(moment(a.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){a.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),a.loader=!0,a.NotificacionesEnviadasLab=[],a.fetchNotificacionesEnviadasLab(),r().route.set("/laboratorio/notificaciones/enviadas?idFiltro="+a.idFiltro+"&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5"),r()("div.link-03",{title:"Filtros"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Filtros"))),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/enviadas/?idFiltro=1"},["Notificaciones Enviadas de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/enviadas/?idFiltro=2&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta},["Notificaciones Enviadas entre Fechas"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/enviadas/?idFiltro=3&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta},["Notificaciones Enviadas PCR"])])])])]),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]}},rt=a;var dt={showFilter:!0,showSearch:!0,show:!1,increment:function(e){0==l.searchField.length&&(e.seconds--,0==e.seconds&&(e.seconds=100),r().redraw())},start:function(e){e.interval=setInterval(dt.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=30},toggle:function(e){e.isPaused?dt.start(e):dt.stop(e),e.isPaused=!e.isPaused}};function st(){var t={interval:null,seconds:100,isPaused:!1};return dt.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){dt.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){dt.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){dt.stop(t)}}}var lt={oncreate:function(){4==l.idFiltro||5==l.idFiltro?l.loadFlebotomistaCE():l.loadFlebotomista(),0!==l.searchField.length&&$("#table-flebotomista").DataTable().search(l.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.col-4.offset-7.d-flex.tx-14",[r()(".",{class:1==l.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==l.idFiltro?moment(moment(l.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){l.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),l.loader=!0,l.pedidos=[],l.fetchPedidos(),r().route.set("/laboratorio/flebotomista/?idFiltro="+l.idFiltro+"&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==l.idFiltro?moment(moment(l.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){l.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),l.loader=!0,l.pedidos=[],l.fetchPedidos(),r().route.set("/laboratorio/flebotomista/?idFiltro="+l.idFiltro+"&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=1"},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=2&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=3&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta},["Pedidos de Hospitalización"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=4&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta},["Pedidos de C. Externa"]),r()(r().route.Link,{class:"dropdown-item tx-danger",href:"/laboratorio/flebotomista/?idFiltro=5&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta},["C. Externa Pendientes"])])])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0.tx-20","LISA:",r()("span.badge.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-20",{class:5==l.idFiltro?"badge-danger":"badge-primary",oncreate:function(e){1==l.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==l.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==l.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización"),4==l.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==l.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa - Pendientes")},onupdate:function(e){1==l.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==l.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==l.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización"),4==l.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==l.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa - Pendientes")}}),r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-20",r()("div.tx-white.tx-semibold",{oncreate:function(e){void 0!==localStorage.getItem("peerId")&&(l.idToma=localStorage.getItem("peerId"))}},[l.idToma]))),r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-20",r()("div.wd-60.tx-center",{class:"pd-10",onclick:function(){r().route.set("/laboratorio/flebotomista/inicio")}},r()("i",{class:"fas fa-home tx-30 tx-white"})))]),r()("div.col-sm-12.filemgr-content-header",{class:1==l.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){l.searchField=e.target.value},value:l.searchField}))]),r()("table.table.table-sm.tx-11[id='table-flebotomista'][width='100%']")])])])}},l={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",toma:"",atencion:"",listaAtenciones:[],idToma:"",oninit:function(e){i.page="",0==l.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),l.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),l.fechaHasta=moment().format("DD-MM-YYYY"),l.loader=!0,l.pedidos=[],l.fetchPedidos())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-LisaPedidos")},getContador:function(o,e){l.listaAtenciones.map(function(e,t,a){return o==e.atencion&&e.sc,l.listaAtenciones[t].nro})},buscarListaAtenciones:function(o,i){try{var n,r,d=!1,s=(l.listaAtenciones.map(function(e,t,a){i==e.sc&&(d=!0)}),!1);l.listaAtenciones.map(function(e,t,a){o==e.atencion&&(s=!0)}),s&&!d?(n=0,l.listaAtenciones.map(function(e,t,a){o==e.atencion&&(n+=1)}),l.listaAtenciones.push({atencion:o,sc:i,nro:1,pedidos:n}),l.listaAtenciones.map(function(e,t,a){o==e.atencion&&i==e.sc&&(l.listaAtenciones[t].nro=n+1)}),r=0,l.listaAtenciones.map(function(e,t,a){o==e.atencion&&(r+=1)}),l.listaAtenciones.map(function(e,t,a){o==e.atencion&&(l.listaAtenciones[t].pedidos=r)})):l.listaAtenciones.push({atencion:o,sc:i,nro:1,pedidos:1})}catch(e){console.log(e)}},loadFlebotomista:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-flebotomista").DataTable({data:l.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td",{class:"R"==t.tipoPedido?"bg-primary":"bg-danger"},["R"==t.tipoPedido?r()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):r()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),r()("td",{style:{}},t.fechaPedido),r()("td",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.codigoPedido)),r()("td",{style:{}},[r()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),r()("br"),t.paciente]),r()("td",{style:{}},t.descPrestadorSolicitante),"I"==t.tipoOperacion?[r()("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":0==t.muestrasProcesadas?"#ffc107":"#0d9448"}},0==t.muestrasProcesadas?"Muestras Pendientes":"Muestras Completo")]:[""],r()("td.tx-center",{onclick:function(){r().route.set("/laboratorio/flebotomista/pedido/",{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]}})},drawCallback:function(e){l.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},loadFlebotomistaCE:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-flebotomista").DataTable({data:l.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,pageLength:100,destroy:!0,columns:[{title:""},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"Timbrar:"},{title:"Ver Pedido:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1,width:"0.5%"},{mRender:function(e,t,a){return moment(a.fechaPedido,"DD-MM-YYYY HH:mm:ss").unix()},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1,width:"50%"},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1,width:"5%"},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1,width:"5%"}],fnRowCallback:function(e,t,a,o){l.buscarListaAtenciones(t.cdAtendimento,t.codigoPedido),r().mount(e,{view:function(){return[r()("td",{class:"bg-primary"},[r()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R")]),r()("td.tx-semibold",{style:{}},t.fechaPedido),r()("td",{style:{}},r()("span.tx-semibold.tx-dark.tx-18.wd-100p.mg-b-1",r()(".d-inline.tx-14.tx-semibold.tx-danger",{},[r()("i.fas.fa-file.mg-r-5.tx-12"),void 0!==l.listaAtenciones[o].nro?l.listaAtenciones[o].nro+" de "+l.listaAtenciones[o].pedidos:""]),r()("br"),"SC: "+t.codigoPedido)),r()("td",{style:{}},[r()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),r()("br"),r()(".d-inline.tx-18.tx-semibold",{},["AT: MV:"+l.listaAtenciones[o].atencion]),r()("br"),r()(".d-inline.tx-18.tx-semibold",{},"PTE: "+t.paciente)]),r()("td.tx-center",{class:0==t.callToma?"bg-warning":"bg-success",style:{cursor:"pointer"},onclick:function(){l.atencion=t.cdAtendimento,l.callToma(t.cdAtendimento)}},[r()(".btn[type='button']",{class:0==t.callToma?"bg-warning":"bg-success"},r()("i.fas.fa-bell.tx-22"),r()("div.tx-12.tx-semibold","Llamar"),r()("div.d-inline.tx-12.tx-semibold.tx-danger",l.atencion==t.cdAtendimento?l.toma:""))]),r()("td.tx-center.bg-primary",{style:{cursor:"pointer"}},[r()(r().route.Link,{class:"tx-18",href:"/laboratorio/flebotomista/pedido/",target:"_blank",params:{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"}},[r()(".btn.bg-primary.tx-white[type='button']",r()("i.fas.fa-folder-open.tx-white"),r()("div.tx-12.tx-semibold.tx-white","Ver"))])])]}})},drawCallback:function(e){l.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==l.idFiltro?"?type=ingresadasFlebotomia&idFiltro="+l.idFiltro:"?type=ingresadasFlebotomia&idFiltro="+l.idFiltro+"&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta;r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){l.loader=!1,l.pedidos=e.data}).catch(function(e){setTimeout(function(){l.fetchPedidos()},2e3)})},reproesarMensajeXML:function(e,t){l.loader=!0,r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},callToma:function(e){l.toma="Procesando...",r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/procesos/call-toma",body:{atencion:e,idToma:l.idToma},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(l.toma="Llamada Lista",l.reloadData(),setTimeout(function(){l.atencion="",l.toma=""},4e3),alert("Preceso realizado con éxito.")):alert("Error. No pudimos llamar al paciente. Intente nuevamente.")}).catch(function(e){alert("Error: "+e)})},reloadData:function(){var e=$("#table-flebotomista").DataTable();e.clear(),l.listaAtenciones=[],l.fetchPedidos(),e.rows.add(l.pedidos).draw()},view:function(e){return l.loader?[r()(i,{oncreate:i.setPage(16)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==l.error.length?[r()(i,{oncreate:i.setPage(16)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:l.loader||0===l.pedidos.length?l.loader||0!=l.pedidos.length?[r()(i,{oncreate:i.setPage(16)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(i,{oncreate:i.setPage(16)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(i,{oncreate:i.setPage(16)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()(lt)])),r()("div.section-nav",[r()("label.nav-label","Pedidos Ingresados"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",l.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(st)))])]}},ct=l,ut=wl(1360),mt={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess["bco-sangre"].map(function(e,t,a){return[ut(ut.route.Link,{href:"/"+e.href,class:pt.page==e.idModulo?"active":""},[e.label])]})]}},pt={page:"",setPage:function(e){pt.page=e},view:function(){return[ut(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[ut("div.sidebar-header",[ut("a[href=''][id='mainMenuOpen']",ut("i[data-feather='menu']")),ut("h5","Menu"),ut("a[href=''][id='sidebarMenuClose']",ut("i[data-feather='x']"))]),ut("div.sidebar-body",ut("ul.sidebar-nav",[ut("li.nav-label.mg-b-15","Banco de Sangre "),ut("li.nav-item.show",[ut(ut.route.Link,{href:"/bco-sangre",class:"nav-link with-sub"},[ut("i[data-feather='layout']")," Banco de Sangre "]),ut("nav.nav",[ut(mt)])])]))])]}},bt=pt;var ft={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(ft.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?ft.start(e):ft.stop(e),e.isPaused=!e.isPaused}};function ht(){var t={interval:null,seconds:100,isPaused:!1};return ft.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){ft.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){ft.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ft.stop(t)}}}var gt={oncreate:function(){7==n.idFiltro?n.loadPedidosReportes():n.loadPedidosIngresados(),0!==n.searchField.length&&$("#table-pedidosIngresados").DataTable().search(n.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","LISA:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){6==n.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),5==n.idFiltro&&(e.dom.innerHTML="Pedidos de Bco. de Sangre por Fechas")},onupdate:function(e){6==n.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),5==n.idFiltro&&(e.dom.innerHTML="Pedidos de Bco. de Sangre por Fechas")}})),r()("div.d-flex.tx-14",[r()(".",{class:6==n.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){6==n.idFiltro&&(n.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),n.fechaHasta=moment().format("DD-MM-YYYY")),e.dom.value=6!==n.idFiltro?moment(moment(n.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){n.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),r().route.set("/bco-sangre/lisa/pedidos/ingresados/?idFiltro="+n.idFiltro+"&fechaDesde="+n.fechaDesde+"&fechaHasta="+n.fechaHasta),setTimeout(function(){window.location.reload()},1e3)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){6==n.idFiltro&&(n.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),n.fechaHasta=moment().format("DD-MM-YYYY")),e.dom.value=6!==n.idFiltro?moment(moment(n.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){n.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),r().route.set("/bco-sangre/lisa/pedidos/ingresados/?idFiltro="+n.idFiltro+"&fechaDesde="+n.fechaDesde+"&fechaHasta="+n.fechaHasta),setTimeout(function(){window.location.reload()},1e3)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/bco-sangre/lisa/pedidos/ingresados/?idFiltro=6",onclick:function(){n.loader=!0,n.pedidos=[]}},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/bco-sangre/lisa/pedidos/ingresados/?idFiltro=5&fechaDesde="+n.fechaDesde+"&fechaHasta="+n.fechaHasta,onclick:function(){n.loader=!0,n.pedidos=[]}},["Pedidos de Bco. de Sangre por Fechas"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:6==n.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){n.searchField=e.target.value},value:n.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidosIngresados'][width='100%']")])])])}},n={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",pCancelados:0,pIngreados:0,pPendientes:0,pProcesados:0,oninit:function(e){bt.page=""},oncreate:function(e){Ge.suscribirCanal("MetroPlus-LisaPedidos")},loadPedidosIngresados:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidosIngresados").DataTable({data:n.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Toma de Muestra: "},{title:"SC:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td",{class:"R"==t.tipoPedido?"bg-primary":"bg-danger"},["R"==t.tipoPedido?r()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):r()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),r()("td",{style:{}},t.fechaPedido),r()("td",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.codigoPedido)),r()("td",{style:{}},[r()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),r()("br"),t.paciente]),r()("td",{style:{}},t.descPrestadorSolicitante),"I"==t.tipoOperacion?r()("td.tx-white.tx-semibold.tx-center",{title:0==t.enviadoInfinity?" Retenido ":" Enviado ",style:{"background-color":0==t.enviadoInfinity?"#fd7e14":"#00cccc"}},0==t.enviadoInfinity?"Retenido":"Enviado"):r()("td.tx-white.tx-semibold.bg-danger.tx-center",{title:0==t.enviadoInfinity?" Cancelado ":" Cancelado Enviado "},0==t.enviadoInfinity?"Cancelado":"Cancelado Enviado"),"I"==t.tipoOperacion?[r()("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":0==t.muestrasProcesadas?"#ffc107":"#0d9448"}},0==t.muestrasProcesadas?"Muestras Pendientes":"Muestras Completo")]:[""],"E"==t.tipoOperacion||"A"==t.tipoOperacion?[r()("td.tx-center",{onclick:function(){1==confirm("Esta Ud. seguro de generar este envío.")&&n.reproesarMensajeXML(Number(t.codigoPedido),t.idTimeRecord)},title:0==t.enviadoInfinity?" Enviar ":" Reenviar ",style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},r()("i.fas.fa-file-upload.mg-r-5"),0==t.enviadoInfinity?" Enviar ":" Reenviar ")]:[""],r()("td.tx-center",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[r()(r().route.Link,{class:"tx-dark pd-2",href:"/bco-sangre/lisa/pedido/",target:"_blank",params:{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"}},"Ver Pedido")])]}})},drawCallback:function(e){n.loader=!1,n.pProcesados=0,n.pPendientes=0,n.pIngreados=0,n.pCancelados=0,e.aoData.map(function(e,t){"I"==e._aData.tipoOperacion&&(n.pIngreados++,0==e._aData.muestrasProcesadas&&n.pPendientes++,1==e._aData.muestrasProcesadas&&n.pProcesados++),"E"!=e._aData.tipoOperacion&&"A"!=e._aData.tipoOperacion||n.pCancelados++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},loadPedidosReportes:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidosIngresados").DataTable({data:n.pedidos,dom:'lT<"html5buttons"B>gtip',responsive:!0,buttons:[{extend:"excel",className:"btn btn-default btn-xs",text:"Descargar en Excel",titleAttr:"Descargar en Excel"},{extend:"pdf",className:"btn btn-default btn-xs",text:"Descargar en PDF",titleAttr:"Descargar en PDF"}],language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Toma de Muestra MV: "},{title:"SC:"},{title:"Paciente:"},{title:"Fecha Recepciòn LISA:"},{title:"Usario:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.dataRecepcion.dataRecepcion.fechaRecep+":00"},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"FLEBOT1"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){n.loader=!1,n.pProcesados=0,n.pPendientes=0,n.pIngreados=0,n.pCancelados=0,e.aoData.map(function(e,t){"I"==e._aData.tipoOperacion&&(n.pIngreados++,0==e._aData.muestrasProcesadas&&n.pPendientes++,1==e._aData.muestrasProcesadas&&n.pProcesados++),"E"!=e._aData.tipoOperacion&&"A"!=e._aData.tipoOperacion||n.pCancelados++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidosIngresados:function(){var e="",e=6==n.idFiltro?"?type=ingresadas&idFiltro="+n.idFiltro:"?type=ingresadas&idFiltro="+n.idFiltro+"&fechaDesde="+n.fechaDesde+"&fechaHasta="+n.fechaHasta;r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){n.loader=!1,n.pedidos=e.data}).catch(function(e){setTimeout(function(){n.fetchPedidosIngresados()},2e3)})},reproesarMensajeXML:function(e,t){n.loader=!0,r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-pedidosIngresados").DataTable();e.clear(),e.rows.add(n.pedidos).draw()},view:function(e){return n.loader?[r()(bt,{oncreate:bt.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Bco. de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==n.error.length?[r()(bt,{oncreate:bt.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Bnaco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:n.loader||0===n.pedidos.length?n.loader||0!=n.pedidos.length?[r()(bt,{oncreate:bt.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(bt,{oncreate:bt.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(bt,{oncreate:bt.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()(gt)])),r()("div.section-nav",[r()("label.nav-label","Pedidos Ingresados"),r()("div.mg-t-10.bg-white",r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n.pIngreados-n.pCancelados),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Cancelados:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n.pCancelados),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Pendientes:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n.pPendientes),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Procesados:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n.pProcesados),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(ht)))])]}},vt=n;function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var yt={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==wt.num&&setTimeout(function(){wt.num=wt.data.length,wt.parseFetch(),r().redraw.sync()},2e3),0==yt.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+wt.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[yt.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=wt.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:wt.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",yt.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",yt.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",yt.sexo)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",yt.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",yt.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",yt.edad||yt.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",yt.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",yt.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",yt.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",yt.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",yt.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},wt={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){yt.secs.push(o.data[e])}),yt.secs.map(function(e,t,a){"nombres"==e.name&&(yt.nombres=e.answer),"apellidos_paciente"==e.name&&(yt.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(yt.sexo=e.answer),"nhcl"==e.name&&(yt.nhcl=e.answer),"numero_admision"==e.name&&(yt.numero_admision=e.answer),"edad"==e.name&&(yt.edad=e.answer),"edad_paciente"==e.name&&(yt.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(yt.identificacion=e.answer),"fecha_admision"==e.name&&(yt.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(yt.ubicacion=e.answer),"fecha_alta"==e.name&&(yt.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(yt.medico_tratante=e.answer)})},parseFetch:function(){return yt.secs=[],wt.data.map(function(e,t,a){wt.parseDoc(wt.data[t])})},fetch:function(){wt.data=[],wt.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+wt.nhc+"&adm="+wt.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(wt.data=e,wt.num=0,r().redraw()):wt.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){wt.fetch()},5e3)})},view:function(){return wt.error?[r()(".alert.alert-danger[role='alert']",wt.error)]:0!==wt.data.length?[r()(yt)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},_t={data:[],detalle:[],error:"",showFor:"",fetch:function(){_t.data=[],_t.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:u.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(_t.data=e.data,wt.adm=_t.data[0].ADM,wt.nhc=_t.data[0].NHCL,wt.fetch()):_t.error=e.message}).catch(function(e){setTimeout(function(){_t.fetch()},5e3)})},view:function(){return _t.error?[r()(".alert.alert-danger[role='alert']",_t.error)]:0!==_t.data.length?[r()(wt)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},Et={data:null,medico:null,fetch:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/itemslab/"+u.numeroPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Et.data=e.examenes,Et.medico=e.medico}).catch(function(e){})},oninit:function(){Et.fetch()},view:function(){return 0!==u.examenes&&null!==Et.data?(null==u.examenes.Exame.length&&(u.examenes.Exame=[u.examenes.Exame]),u.examenes.Exame.map(function(e,t,a){return console.log(Et.data[e.codigoExame]),"E"==e.operacao?[r()(".tx-14.tx-semibold.tx-danger.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),void 0!==Et.data[e.codigoExame]&&null!==Et.data[e.codigoExame].OBS_EXAMEN?[r()("br"),r()(".d-inline.tx-danger","Observaciones:"),r()("br"),r()(".d-inline",Et.data[e.codigoExame].OBS_EXAMEN),r()("br")]:r()("br")]:[r()(".tx-14.tx-semibold.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),void 0!==Et.data[e.codigoExame]&&null!==Et.data[e.codigoExame].OBS_EXAMEN?[r()("br"),r()(".d-inline.tx-danger","Observaciones:"),r()("br"),r()(".d-inline",Et.data[e.codigoExame].OBS_EXAMEN),r()("br")]:r()("br")]})):[r()("div.pd-10",[r()("div.placeholder-paragraph",[r()("div.line")])])]}},s={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],dataFactMuestras:[],fetch:function(){s.error="",s.data=[],s.documento=[],r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:u.numeroPedido,idTimeRecord:u.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(u.loader=!1,u.data=e.data.pedido,u.examenes=e.data.pedido.PedidoExameLab.listaExame,s.documento=e.data,s.data=e.data.dataTomaMuestra.examenesToma,s.dataMuestras=e.data.dataRecepcion.examenesRecep,s.dataFactMuestras=e.data.dataFacturacion.examenesFact,Pt.impresora=u.data.PedidoExameLab.atendimento.nomeMaquina,_t.fetch(),At.fetch()):u.error=e.message}).catch(function(e){})}},c={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},At={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:At.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[0],{view:function(){return e._aData.title,r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(At.data).draw()},fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+u.numeroPedido}).then(function(e){At.data=e.data,At.loadObservaciones()}).catch(function(e){})},sendNotiLab:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+u.numeroPedido,body:{message:At.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(At.observaciones="",At.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){EditarPedido.error=e.message})}},Dt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,seleccionarTodos:function(o){Dt.checkedAll=o;var i=moment().format("DD-MM-YYYY HH:mm");return s.data.map(function(e,t,a){o?(s.data[t].STATUS_TOMA="1",s.data[t].FECHA_TOMA=i,s.data[t].customCheked=!0):(s.data[t].STATUS_TOMA="",s.data[t].FECHA_TOMA="",s.data[t].customCheked=!1)})},validarUpdateMuestras:function(){for(var e=0,t=0;t<s.data.length;t++)0!==s.data[t].STATUS_TOMA.length&&e++;if(0==e)throw alert("El regisro de Recepción de (Muestra) e Insumos en necesario."),"El regisro de Recepción de (Muestra) e Insumos en necesario.";var a=0;if(0!==c.tuboLila&&a++,0!==c.tuboRojo&&a++,0!==c.tuboCeleste&&a++,0!==c.tuboNegro&&a++,0!==c.tuboVerde&&a++,0!==c.gsav&&a++,0!==c.hemocultivo&&a++,0!==c.qtb&&a++,0===a)throw console.log(a),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:function(){s.documento.dataTomaMuestra.insumosToma=c,r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(s.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){s.documento=e.data,s.data=e.data.dataTomaMuestra.examenesToma}).catch(function(e){})},view:function(){return s.error?[r()("p.mg-0",s.error)]:0!==s.data.length?[r()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[Dt.disabledToma?[r()("p.mg-5.tx-right",[r()("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:function(){Dt.disabledToma=!1,Dt.disabledInsumos=!1}},r()("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],r()(".",{style:{"pointer-events":Dt.disabledToma?"none":"auto"}},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),r()("tr",[r()("th.text-left","EXAMEN"),r()("th","CONFIRMACIÓN")])),r()("tbody",[r()("tr",[r()("td.tx-normal",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:Dt.checkedAll,onclick:function(e){Dt.seleccionarTodos(this.checked)}}),r()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),r()("td.tx-medium.text-right")]),s.data.map(function(e,t,a){return[r()("tr",[r()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='"+e.CD_EXA_LAB+"']",{checked:s.data[t].customCheked,onupdate:function(e){this.checked=s.data[t].customCheked},onclick:function(e){e.preventDefault();e=this.checked;s.data[t].customCheked=!s.data[t].customCheked,e?(this.checked=!0,s.data[t].STATUS_TOMA="1",s.data[t].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,Dt.checkedAll=!1,s.data[t].STATUS_TOMA="",s.data[t].FECHA_TOMA="")}}),r()("label.custom-control-label.tx-16[for='"+e.CD_EXA_LAB+"']",0!==s.data[t].STATUS_TOMA.length?s.data[t].FECHA_TOMA:s.data[t].STATUS_TOMA)]))])]})])])),r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),r()("tr",[r()("th.text-left","INSUMOS"),r()("th.text-left","CANTIDAD")])),r()("tbody",[r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:function(e){e.target.checked?c.tuboLila=1:c.tuboLila=0},oncreate:function(e){void 0!==c.tuboLila&&0!==c.tuboLila&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboLila&&0!==c.tuboLila?1==c.tuboLila&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboLila&&0!==c.tuboLila?e.dom.innerText=c.tuboLila:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboLila&&0!==c.tuboLila?e.dom.innerText=c.tuboLila:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboLila++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboLila--,c.tuboLila<0&&(c.tuboLila=0)}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:function(e){e.target.checked?c.tuboRojo=1:c.tuboRojo=0},oncreate:function(e){void 0!==c.tuboRojo&&0!==c.tuboRojo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboRojo&&0!==c.tuboRojo?1==c.tuboRojo&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboRojo&&0!==c.tuboRojo?e.dom.innerText=c.tuboRojo:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboRojo&&0!==c.tuboRojo?e.dom.innerText=c.tuboRojo:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboRojo++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboRojo--,c.tuboRojo<0&&(c.tuboRojo=0)}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:function(e){e.target.checked?c.tuboCeleste=1:c.tuboCeleste=0},oncreate:function(e){void 0!==c.tuboCeleste&&0!==c.tuboCeleste&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboCeleste&&0!==c.tuboCeleste?1==c.tuboCeleste&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboCeleste&&0!==c.tuboCeleste?e.dom.innerText=c.tuboCeleste:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboCeleste&&0!==c.tuboCeleste?e.dom.innerText=c.tuboCeleste:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboCeleste++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboCeleste--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:function(e){e.target.checked?c.tuboNegro=1:c.tuboNegro=0},oncreate:function(e){void 0!==c.tuboNegro&&0!==c.tuboNegro&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboNegro&&0!==c.tuboNegro?1==c.tuboNegro&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboNegro&&0!==c.tuboNegro?e.dom.innerText=c.tuboNegro:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboNegro&&0!==c.tuboNegro?e.dom.innerText=c.tuboNegro:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboNegro++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboNegro--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:function(e){e.target.checked?c.tuboVerde=1:c.tuboVerde=0},oncreate:function(e){void 0!==c.tuboVerde&&0!==c.tuboVerde&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboVerde&&0!==c.tuboVerde?1==c.tuboVerde&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboVerde&&0!==c.tuboVerde?e.dom.innerText=c.tuboVerde:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboVerde&&0!==c.tuboVerde?e.dom.innerText=c.tuboVerde:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboVerde++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){c.tuboVerde--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:function(e){e.target.checked?c.gsav=1:c.gsav=0},oncreate:function(e){void 0!==c.gsav&&0!==c.gsav&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.gsav&&0!==c.gsav?1==c.gsav&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.gsav&&0!==c.gsav?e.dom.innerText=c.gsav:e.dom.innerText=0},onupdate:function(e){void 0!==c.gsav&&0!==c.gsav?e.dom.innerText=c.gsav:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){c.gsav++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){c.gsav--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:function(e){e.target.checked?c.hemocultivo=1:c.hemocultivo=0},oncreate:function(e){void 0!==c.hemocultivo&&0!==c.hemocultivo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.hemocultivo&&0!==c.hemocultivo?1==c.hemocultivo&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.hemocultivo&&0!==c.hemocultivo?e.dom.innerText=c.hemocultivo:e.dom.innerText=0},onupdate:function(e){void 0!==c.hemocultivo&&0!==c.hemocultivo?e.dom.innerText=c.hemocultivo:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){c.hemocultivo++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){c.hemocultivo--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:function(e){e.target.checked?c.qtb=1:c.qtb=0},oncreate:function(e){void 0!==c.qtb&&0!==c.qtb&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.qtb&&0!==c.qtb?1==c.qtb&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.qtb&&0!==c.qtb?e.dom.innerText=c.qtb:e.dom.innerText=0},onupdate:function(e){void 0!==c.qtb&&0!==c.qtb?e.dom.innerText=c.qtb:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){c.qtb++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){c.qtb--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),Dt.disabledToma?[r()("p.mg-5.",[r()("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+s.documento.pedidoLaboratorio.dataTomaMuestra.fechaToma)])]:[r()("div.pd-10",[r()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:Dt.disabledToma,onclick:function(){Dt.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");s.documento.dataTomaMuestra.usuarioToma="flebot1",s.documento.dataTomaMuestra.fechaToma=e,Dt.disabledToma=!0,Dt.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]}},Tt={showLogs:"",dataXML:"",nuevoPedido:!1,logsEnvio:[],examenes:[],jsonObj:null,vaTime:null,xmlRes:null,setNuevoPedido:function(){Tt.nuevoPedido=!0},agregarExamen:function(o){var i=!1;Tt.examenes.map(function(e,t,a){Tt.examenes[t].codigoExame==o.CD_EXA_LAB&&(i=!0)}),i||u.examenes.Exame.map(function(e,t,a){u.examenes.Exame[t].codigoExame==o.CD_EXA_LAB&&Tt.examenes.push(u.examenes.Exame[t])}),console.log(Tt.examenes)},eliminarExamen:function(o){var i=!1,n=null;Tt.examenes.map(function(e,t,a){Tt.examenes[t].codigoExame==o.CD_EXA_LAB&&(i=!0,n=t)}),i&&(Tt.examenes.splice(n,1),console.log(Tt.examenes))},generarXML:function(){Tt.jsonObj={Exame:Tt.examenes},Tt.vaTime=moment().format("YYYY-MM-DD HH:mm:ss"),u.data.Cabecalho.mensagemID=moment().unix(),u.data.Cabecalho.dataHora=Tt.vaTime,u.data.PedidoExameLab.listaExame=Tt.jsonObj,u.data.PedidoExameLab.operacao="I",0!==Pt.impresora.length&&(console.log("RecepMuestras",Pt.impresora),u.data.PedidoExameLab.atendimento.nomeMaquina=Pt.impresora),null!==Et.medico&&!1!==Et.medico&&(u.data.PedidoExameLab.atendimento.prestadorSolicitante=Et.medico.CODMEDICO,u.data.PedidoExameLab.atendimento.descPrestadorSolicitante=Et.medico.PRESTADOR,u.data.PedidoExameLab.atendimento.numeroConselhoSolicitante=Et.medico.CEDULA),Tt.xmlRes=function e(t){var a="";for(var o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(var i in t[o])a=(a=(a+="\n<"+o+">\n")+e(new Object(t[o][i])))+"</"+o+">";else"object"==xt(t[o])?a+=e(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+">\n"}a=a.replace(/<\/?[0-9]{1,}>/g,"");return a}(u.data),console.log("documento",u.data),Tt.nuevoPedido?Tt.sendNuevoPedido(Tt.xmlRes,u.numeroPedido,Tt.vaTime):Tt.sendXML(Tt.xmlRes,u.numeroPedido,Tt.vaTime)},sendNuevoPedido:function(e,t,a){r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-nuevo-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3),console.log("result",e)}).catch(function(e){})},sendXML:function(e,t,a){console.log("xmlRes",e),r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3)}).catch(function(e){})},oninit:function(){Tt.examenes=[],Tt.showLogs="",Tt.dataXML=[],Tt.nuevoPedido=!1,Tt.logsEnvio=[],Tt.examenes=[],Tt.jsonObj=null,Tt.vaTime=null,Tt.xmlRes=null,Pt.disabledToma=!1,r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+u.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(e){e.data.map(function(e,t,a){void 0!==e.PedidoExameLab.listaExame.Exame&&Tt.logsEnvio.push(e)}),console.log(Tt.logsEnvio),0!==Object.keys(Tt.logsEnvio).length&&(Pt.disabledToma=!0)}).catch(function(e){})},view:function(){return 0!==Tt.logsEnvio.length?Tt.logsEnvio.map(function(o,e,t){return[r()("tr",{oncreate:function(){e+1===t.length&&(Pt.impresora=o.PedidoExameLab.atendimento.nomeMaquina)}},[r()("td.tx-16.tx-normal.text-left",void 0!==o.PedidoExameLab.listaExame.Exame&&void 0!==o.PedidoExameLab.listaExame.Exame.length?[88e6<o.PedidoExameLab.codigoPedido?[o.PedidoExameLab.listaExame.Exame.map(function(e,t,a){return Pt.examenNuevoPedido(e,o.PedidoExameLab,o.Cabecalho),[r()(".d-inline",e.descExame),r()("br")]})]:[o.PedidoExameLab.listaExame.Exame.map(function(e,t,a){return[r()(".d-inline",e.descExame),r()("br")]})]]:[88e6<o.PedidoExameLab.codigoPedido?[Pt.examenNuevoPedido(o.PedidoExameLab.listaExame.Exame,o.PedidoExameLab,o.Cabecalho),r()(".d-inline",o.PedidoExameLab.listaExame.Exame.descExame),r()("br")]:[r()(".d-inline",o.PedidoExameLab.listaExame.Exame.descExame),r()("br")]]),r()("td.tx-16.tx-normal","TIPO: "+o.PedidoExameLab.operacao,r()("br"),r()(".d-inline.tx-danger.tx-semibold","SC: "+o.PedidoExameLab.codigoPedido),r()("br"),o.Cabecalho.dataHora),r()("td.tx-16.tx-normal.d-none",[88e6<o.PedidoExameLab.codigoPedido?[r()("button.btn.btn-xs.btn-block.wd-50p.btn-danger.d-none",{onclick:function(){}}," Eliminar ")]:[]])])]}):[r()("tr",[r()("td.tx-16.tx-medium.text-left","No existe envíos.")])]}},Mt={dataMuestras:[],checkedAll:!1,disabledFact:!1,agregarExamen:function(o){var i=!1;s.dataFactMuestras.map(function(e,t,a){s.dataFactMuestras[t].CD_EXA_LAB==o.CD_EXA_LAB&&(i=!0)}),i||Mt.dataMuestras.push(o),console.log(Mt.dataMuestras)},eliminarExamen:function(o){var i=!1,n=null;Mt.dataMuestras.map(function(e,t,a){Mt.dataMuestras[t].CD_EXA_LAB==o.CD_EXA_LAB&&(i=!0,n=t)}),i&&(Mt.dataMuestras.splice(n,1),console.log(Mt.dataMuestras))},seleccionarTodos:function(o){Mt.checkedAll=o;var i=moment().format("DD-MM-YYYY HH:mm");return s.dataFactMuestras.map(function(e,t,a){o?(s.dataFactMuestras[t].STATUS_FACT="1",s.dataFactMuestras[t].FECHA_FACT=i,s.dataFactMuestras[t].customCheked=!0,Mt.agregarExamen(s.dataFactMuestras[t])):(s.dataFactMuestras[t].STATUS_FACT="",s.dataFactMuestras[t].FECHA_FACT="",s.dataFactMuestras[t].customCheked=!1,Mt.eliminarExamen(s.dataFactMuestras[t]))})},validarStatusFact:function(){for(var e=0,t=0;t<s.dataFactMuestras.length;t++)"1"!=s.dataFactMuestras[t].STATUS_FACT&&e++;Mt.disabledFact=!(0<e)},validarUpdateMuestras:function(){for(var e=0,t=0;t<s.dataFactMuestras.length;t++)0!==s.dataFactMuestras[t].STATUS_FACT.length&&e++;if(0==e)throw alert("El regisro de Facturación es necesario."),"El regisro de Facturación es necesario."},udpateStatusFact:function(){return r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-fact-lab",body:{documento:JSON.stringify(s.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){s.documento=e.data,s.dataFactMuestras=e.data.dataFactMuestras.examenesFact}).catch(function(e){})},view:function(){},_view:function(){return s.error?[r()("p.mg-0",s.error)]:0!==s.dataFactMuestras.length?[r()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[r()(".",{oncreate:function(){setTimeout(function(){Mt.validarStatusFact()},100)}},[r()(".",{style:{"pointer-events":Mt.disabledFact?"none":"auto"}},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-left","EXAMEN(ES)"),r()("th[colspan='2']","CONFIRMACIÓN PARA FACTURACIÓN")])),r()("tbody",[r()("tr",{style:{"pointer-events":Mt.disabledFact?"none":"auto"}},[r()("td[colspan='2'].tx-normal",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='rf_selectTomaTodos']",{checked:Mt.checkedAll,onclick:function(e){Mt.seleccionarTodos(this.checked)}}),r()("label.custom-control-label[for='rf_selectTomaTodos']","Seleccionar Todos")]))]),s.dataFactMuestras.map(function(e,t,a){return[r()("tr",[r()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='r_"+e.CD_EXA_LAB+"']",{checked:s.dataFactMuestras[t].customCheked,onupdate:function(e){this.checked=s.dataFactMuestras[t].customCheked},onclick:function(e){e.preventDefault(),this.checked&&(s.dataFactMuestras[t].customCheked=!s.dataFactMuestras[t].customCheked,s.dataFactMuestras[t].STATUS_FACT="1",s.dataFactMuestras[t].FECHA_FACT=moment().format("DD-MM-YYYY HH:mm"),Mt.agregarExamen(s.dataMuestras[t]))}}),r()("label.custom-control-label.tx-16[for='r_"+e.CD_EXA_LAB+"']",0!==s.dataFactMuestras[t].STATUS_FACT.length?s.dataFactMuestras[t].FECHA_FACT:s.dataFactMuestras[t].STATUS_FACT)]))])]})])])),r()("div.pd-10",[r()("button.btn.btn-xs.btn-success.btn-block.tx-semibold[type='button']",{disabled:Mt.disabledFact,onclick:function(){Mt.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");s.documento.dataFacturacion.usuarioFact="flebot1",s.documento.dataFacturacion.fechaFact=e,Mt.disabledFact=!0,Mt.udpateStatusFact()}},"Guardar y Facturar")])])])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]}},Pt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,impresora:"",examenNuevoPedido:function(o,i,e){return s.dataMuestras.map(function(e,t,a){o.codigoExame===e.CD_EXA_LAB&&(s.dataMuestras[t].NM_EXA_LAB="",s.dataMuestras[t].NM_EXA_LAB="*"+o.descExame+" ("+i.codigoPedido+")")})},seleccionarTodos:function(o){Pt.checkedAll=o;var i=moment().format("DD-MM-YYYY HH:mm");return s.dataMuestras.map(function(e,t,a){"542"!=s.dataMuestras[t].CD_EXA_LAB&&"543"!=s.dataMuestras[t].CD_EXA_LAB&&"544"!=s.dataMuestras[t].CD_EXA_LAB&&"545"!=s.dataMuestras[t].CD_EXA_LAB||(o?(s.dataMuestras[t].STATUS_RECEP="1",s.dataMuestras[t].FECHA_RECEP=i,s.dataMuestras[t].customCheked=!0,Tt.agregarExamen(s.dataMuestras[t]),""==s.dataFactMuestras[t].STATUS_FACT&&(s.dataFactMuestras[t].customCheked=!0,s.dataFactMuestras[t].STATUS_FACT="1",s.dataFactMuestras[t].FECHA_FACT=moment().format("DD-MM-YYYY HH:mm"))):(s.dataMuestras[t].STATUS_RECEP="",s.dataMuestras[t].FECHA_RECEP="",s.dataMuestras[t].customCheked=!1,Tt.eliminarExamen(s.dataMuestras[t])))})},validarUpdateMuestras:function(){for(var e=0,t=0;t<s.dataMuestras.length;t++)0!==s.dataMuestras[t].STATUS_RECEP.length&&e++;if(0==e)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";Tt.generarXML()},udpateStatusTomaMuestra:function(){s.documento.dataRecepcion.insumosRecep=c,r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(s.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){s.documento=e.data,s.dataMuestras=e.data.dataRecepcion.examenesRecep}).catch(function(e){})},view:function(){return s.error?[r()("p.mg-0",s.error)]:0!==s.dataMuestras.length?[r()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[r()("p.mg-5.tx-right",[r()("button.btn.btn-xs.btn-success.mg-r-5[type='button']",{class:Pt.disabledToma?"":"d-none",onclick:function(){Pt.disabledToma=!1}},r()("i.fas.fa-edit.mg-r-5")," EDITAR "),r()("button.btn.btn-xs.btn-warning[type='button']",{onclick:function(){0==Tt.showLogs.length?Tt.showLogs="d-none":Tt.showLogs=""}}," VER HISTORIAL DE ENVÍO ")]),r()(".",[r()(".",{class:Tt.showLogs,style:{"pointer-events":Pt.disabledToma?"none":"auto"}},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th[colspan='2'].text-dark.text-left.tx-semibold",{oncreate:function(e){e.dom.innerHTML="Recepcion de Muestras"},onupdate:function(e){Tt.nuevoPedido?e.dom.innerHTML="Nuevo Pedido LISA:":e.dom.innerHTML="Recepcion de Muestras"}})]),r()("tr",[r()("th.text-left","EXAMEN(ES)"),r()("th[colspan='2']","CONFIRMACIÓN Y ENVÍO LISA")])),r()("tbody",[r()("tr",[r()("td[colspan='2'].tx-normal",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='r_selectTomaTodos']",{checked:Pt.checkedAll,onclick:function(e){Pt.seleccionarTodos(this.checked)}}),r()("label.custom-control-label[for='r_selectTomaTodos']","Seleccionar Todos")]))]),s.dataMuestras.map(function(t,a,e){return[r()("tr",[r()("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='r_"+t.CD_EXA_LAB+"']",{oncreate:function(e){"542"!=t.CD_EXA_LAB&&"543"!=t.CD_EXA_LAB&&"544"!=t.CD_EXA_LAB&&"545"!=t.CD_EXA_LAB&&(e.dom.parentElement.innerHTML="Laboratorio")},checked:s.dataMuestras[a].customCheked,onupdate:function(e){this.checked=s.dataMuestras[a].customCheked},onclick:function(e){if(e.preventDefault(),this.checked)s.dataMuestras[a].customCheked=!s.dataMuestras[a].customCheked,s.dataMuestras[a].STATUS_RECEP="1",s.dataMuestras[a].FECHA_RECEP=moment().format("DD-MM-YYYY HH:mm"),Tt.agregarExamen(s.dataMuestras[a]),""==s.dataFactMuestras[a].STATUS_FACT&&(s.dataFactMuestras[a].customCheked=!s.dataFactMuestras[a].customCheked,s.dataFactMuestras[a].STATUS_FACT="1",s.dataFactMuestras[a].FECHA_FACT=moment().format("DD-MM-YYYY HH:mm"));else{if(s.dataMuestras[a].NM_EXA_LAB.includes("(88"))throw alert("No es posible esta acción. Ya existe un pedido generado."),"No es posible esta acción. Ya existe un pedido generado.";if(Tt.nuevoPedido)throw alert("No es posible generar un Nuevo Pedido de este exámen."),"No es posible generar un Nuevo Pedido de este exámen.";s.dataMuestras[a].customCheked=!s.dataMuestras[a].customCheked,Pt.checkedAll=!1,s.dataMuestras[a].STATUS_RECEP="",s.dataMuestras[a].FECHA_RECEP="",Tt.eliminarExamen(s.dataMuestras[a])}}}),r()("label.custom-control-label.tx-16[for='r_"+t.CD_EXA_LAB+"']",0!==s.dataMuestras[a].STATUS_RECEP.length?s.dataMuestras[a].FECHA_RECEP:s.dataMuestras[a].STATUS_RECEP)]))])]})]),r()("thead",r()("tr",[r()("th[colspan='2'].text-primary.text-right.bg-light.tx-semibold",{},"IMPRESIÓN ETIQUETAS:")]),r()("tr",[r()("th.text-right[colspan='2']",r()("select.custom-select.wd-30p.tx-semibold",{oncreate:function(e){setTimeout(function(){e.dom.value="BANCO1"},300),Pt.impresora="BANCO1"},onupdate:function(e){setTimeout(function(){e.dom.value="BANCO1"},300),Pt.impresora="BANCO1"},onchange:function(e){Pt.impresora=e.target.value},disabled:0===Object.keys(Tt.logsEnvio).length||Tt.nuevoPedido?"":"disabled",value:Pt.impresora},["BANCO1"].map(function(e){return r()("option",e)})))]))])),r()("div.pd-10",[r()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:Pt.disabledToma,onclick:function(){Pt.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");s.documento.dataRecepcion.usuarioRecep="flebot1",s.documento.dataRecepcion.fechaRecep=e,Pt.disabledToma=!0,Pt.udpateStatusTomaMuestra(),Mt.udpateStatusFact()}},Tt.nuevoPedido?"Nuevo Pedido LISA":"Guardar y Enviar")])]),r()(".",{class:0!==Tt.showLogs.length?"":"d-none"},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th[colspan='2'].text-primary.text-left",{},"Historial de Envios LISA:")]),r()("tr",[r()("th","EXAMENES:"),r()("th","FECHA Y HORA:"),r()("th.d-none","OPCIONES:")])),r()("tbody",[r()(Tt)])]))])])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]}},u={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&void 0!==e.attrs.idTimeRecord&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,u.numeroPedido=e.attrs.numeroPedido,u.numeroAtencion=e.attrs.numeroAtencion,u.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,u.idTimeRecord=e.attrs.idTimeRecord,u.fetch())},fetch:function(){u.data=[],u.loader=!0,s.fetch()},view:function(e){var t,a;return 0!==u.data.length&&(t=moment(u.data.PedidoExameLab.paciente.dataNascimento),a=moment(),u.data.PedidoExameLab.paciente.anios=a.diff(t,"years")),u.loader?[r()(o,{oncreate:o.setPage("laboratorio")}),r()(bt,{oncreate:bt.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+u.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(bt,{oncreate:bt.setPage(21)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+u.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){u.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){u.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){u.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){u.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){window.close()}}))),"R"==u.data.PedidoExameLab.tipoSolicitacao?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),r()("td",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.codigoPedido),r()("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",r()("br"),r()(".d-inline.tx-danger","Fecha Toma de Muestra:")),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.dataExame,r()("br"),u.data.PedidoExameLab.dataColetaPedido),r()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.descSetorSolicitante)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.descPrestadorSolicitante),r()("th",{style:{"background-color":"#a8bed6"}},"Médico Tratante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},null!==Et.medico&&!1!==Et.medico?[r()("div.d-inline.tx-semibold.tx-danger",Et.medico.PRESTADOR)]:u.data.PedidoExameLab.descPrestadorSolicitante)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='5']",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.paciente.nome),r()("th",{style:{"background-color":"#a8bed6"}},"Edad:"),r()("td",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.paciente.anios+" Año(s)"),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.paciente.codigoPaciente)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),r()("td",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.atendimento.codigoAtendimento),r()("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),r()("td",{style:{"background-color":"#eaeff5"}},"F"==u.data.PedidoExameLab.paciente.sexo?"Femenino":"Masculino"),r()("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),r()("td",{style:{"background-color":"#eaeff5"}},u.data.PedidoExameLab.paciente.dataNascimento),r()("th",{style:{"background-color":"#a8bed6"}},"Dg:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(null==u.data.PedidoExameLab.diagnostico.codigoDiagnostico.length?"":"CIE: "+u.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(null==u.data.PedidoExameLab.diagnostico.dsDiagostico.length?"":" - "+u.data.PedidoExameLab.diagnostico.dsDiagostico))]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","EXÁMENES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()(Et))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",{style:{"pointer-events":null!==Et.data?"auto":"none"}},[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),r()("li.nav-item",r()("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),r()("li.nav-item",r()("a.nav-link[id='home-recep'][data-toggle='tab'][href='#recep'][role='tab'][aria-controls='recep']",{style:{color:"#476ba3"}},r()("i.fas.fa-inbox.pd-1.mg-r-2")," RECEP. DE MUESTRA ")),r()("li.nav-item.d-none",r()("a.nav-link[id='home-facturar'][data-toggle='tab'][href='#facturar'][role='tab'][aria-controls='facturar']",{style:{color:"#476ba3"}},r()("i.fas.fa-inbox.pd-1.mg-r-2")," FACTURACIÓN ")),r()("li.nav-item",r()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},r()("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),r()("tr.d-print-none",[r()("td[colspan='10']",r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(_t)]),r()(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[r()(Dt)]),r()(".tab-pane.fade[id='recep'][role='tabpanel'][aria-labelledby='home-recep']",[r()(Pt)]),r()(".tab-pane.fade.d-none[id='facturar'][role='tabpanel'][aria-labelledby='home-facturar']",[r()(Mt)]),r()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){At.observaciones=e.target.value},value:At.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==At.observaciones.length?At.sendNotiLab():alert("Observaciones es obligatorio.")}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}};var kt=u;var St={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(St.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?St.start(e):St.stop(e),e.isPaused=!e.isPaused}};function Ct(){var t={interval:null,seconds:100,isPaused:!1};return St.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){St.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){St.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){St.stop(t)}}}var It={oncreate:function(){7==m.idFiltro?m.loadPedidosReportes():m.loadPedidosIngresados(),0!==m.searchField.length&&$("#table-pedidosIngresados").DataTable().search(m.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","LISA:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==m.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==m.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==m.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==m.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa "),6==m.idFiltro&&(e.dom.innerHTML="Muestras Pendientes"),7==m.idFiltro&&(e.dom.innerHTML="Reportes"),8==m.idFiltro&&(e.dom.innerHTML="Pedidos de Bco. de Sangre")},onupdate:function(e){1==m.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==m.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==m.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==m.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa "),6==m.idFiltro&&(e.dom.innerHTML="Muestras Pendientes"),7==m.idFiltro&&(e.dom.innerHTML="Reportes"),8==m.idFiltro&&(e.dom.innerHTML="Pedidos de Bco. de Sangre")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==m.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){1==m.idFiltro&&(m.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),m.fechaHasta=moment().format("DD-MM-YYYY")),e.dom.value=1!==m.idFiltro?moment(moment(m.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){m.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),r().route.set("/laboratorio/lisa/pedidos/ingresados/?idFiltro="+m.idFiltro+"&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta),setTimeout(function(){window.location.reload()},1e3)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){1==m.idFiltro&&(m.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),m.fechaHasta=moment().format("DD-MM-YYYY")),e.dom.value=1!==m.idFiltro?moment(moment(m.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){m.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),r().route.set("/laboratorio/lisa/pedidos/ingresados/?idFiltro="+m.idFiltro+"&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta),setTimeout(function(){window.location.reload()},1e3)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=1",onclick:function(){m.loader=!0,m.pedidos=[]}},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=2&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta,onclick:function(){m.loader=!0,m.pedidos=[]}},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=3&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta,onclick:function(){m.loader=!0,m.pedidos=[]}},["Pedidos de Hospitalización"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=4&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta,onclick:function(){m.loader=!0,m.pedidos=[]}},["Pedidos de C. Externa"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=4&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta,onclick:function(){m.loader=!0,m.pedidos=[]}},["Pedidos de Bco. de Sangre"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=6&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta,onclick:function(){m.loader=!0,m.pedidos=[]}},["Muestras Pendientes"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=7&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta,onclick:function(){m.loader=!0,m.pedidos=[]}},["Reportes"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==m.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){m.searchField=e.target.value},value:m.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidosIngresados'][width='100%']")])])])}},m={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",pCancelados:0,pIngreados:0,pPendientes:0,pProcesados:0,oninit:function(e){i.page=""},oncreate:function(e){Ge.suscribirCanal("MetroPlus-LisaPedidos")},loadPedidosIngresados:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidosIngresados").DataTable({data:m.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Toma de Muestra: "},{title:"SC:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td",{class:"R"==t.tipoPedido?"bg-primary":"bg-danger"},["R"==t.tipoPedido?r()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):r()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),r()("td",{style:{}},t.fechaPedido),r()("td",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.codigoPedido)),r()("td",{style:{}},[r()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),r()("br"),t.paciente]),r()("td",{style:{}},t.descPrestadorSolicitante),"I"==t.tipoOperacion?r()("td.tx-white.tx-semibold.tx-center",{title:0==t.enviadoInfinity?" Retenido ":" Enviado ",style:{"background-color":0==t.enviadoInfinity?"#fd7e14":"#00cccc"}},0==t.enviadoInfinity?"Retenido":"Enviado"):r()("td.tx-white.tx-semibold.bg-danger.tx-center",{title:0==t.enviadoInfinity?" Cancelado ":" Cancelado Enviado "},0==t.enviadoInfinity?"Cancelado":"Cancelado Enviado"),"I"==t.tipoOperacion?[r()("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":0==t.muestrasProcesadas?"#ffc107":"#0d9448"}},0==t.muestrasProcesadas?"Muestras Pendientes":"Muestras Completo")]:[""],"E"==t.tipoOperacion||"A"==t.tipoOperacion?[r()("td.tx-center",{onclick:function(){1==confirm("Esta Ud. seguro de generar este envío.")&&m.reproesarMensajeXML(Number(t.codigoPedido),t.idTimeRecord)},title:0==t.enviadoInfinity?" Enviar ":" Reenviar ",style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},r()("i.fas.fa-file-upload.mg-r-5"),0==t.enviadoInfinity?" Enviar ":" Reenviar ")]:[""],r()("td.tx-center",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[r()(r().route.Link,{class:"tx-dark pd-2",href:"/laboratorio/lisa/pedido/",target:"_blank",params:{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"}},"Ver Pedido")])]}})},drawCallback:function(e){m.loader=!1,m.pProcesados=0,m.pPendientes=0,m.pIngreados=0,m.pCancelados=0,e.aoData.map(function(e,t){"I"==e._aData.tipoOperacion&&(m.pIngreados++,0==e._aData.muestrasProcesadas&&m.pPendientes++,1==e._aData.muestrasProcesadas&&m.pProcesados++),"E"!=e._aData.tipoOperacion&&"A"!=e._aData.tipoOperacion||m.pCancelados++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},loadPedidosReportes:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidosIngresados").DataTable({data:m.pedidos,dom:'lT<"html5buttons"B>gtip',responsive:!0,buttons:[{extend:"excel",className:"btn btn-default btn-xs",text:"Descargar en Excel",titleAttr:"Descargar en Excel"},{extend:"pdf",className:"btn btn-default btn-xs",text:"Descargar en PDF",titleAttr:"Descargar en PDF"}],language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Toma de Muestra MV: "},{title:"SC:"},{title:"Paciente:"},{title:"Fecha Recepciòn LISA:"},{title:"Usario:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.dataRecepcion.dataRecepcion.fechaRecep+":00"},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"FLEBOT1"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){m.loader=!1,m.pProcesados=0,m.pPendientes=0,m.pIngreados=0,m.pCancelados=0,e.aoData.map(function(e,t){"I"==e._aData.tipoOperacion&&(m.pIngreados++,0==e._aData.muestrasProcesadas&&m.pPendientes++,1==e._aData.muestrasProcesadas&&m.pProcesados++),"E"!=e._aData.tipoOperacion&&"A"!=e._aData.tipoOperacion||m.pCancelados++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidosIngresados:function(){var e="",e=1==m.idFiltro?"?type=ingresadas&idFiltro="+m.idFiltro:6==m.idFiltro?"?type=pendienteMuestras&idFiltro="+m.idFiltro+"&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta:7==m.idFiltro?"?type=reportes&idFiltro="+m.idFiltro+"&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta:"?type=ingresadas&idFiltro="+m.idFiltro+"&fechaDesde="+m.fechaDesde+"&fechaHasta="+m.fechaHasta;r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){m.loader=!1,m.pedidos=e.data}).catch(function(e){setTimeout(function(){m.fetchPedidosIngresados()},2e3)})},reproesarMensajeXML:function(e,t){m.loader=!0,r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-pedidosIngresados").DataTable();e.clear(),e.rows.add(m.pedidos).draw()},view:function(e){return m.loader?[r()(i,{oncreate:i.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==m.error.length?[r()(i,{oncreate:i.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:m.loader||0===m.pedidos.length?m.loader||0!=m.pedidos.length?[r()(i,{oncreate:i.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(i,{oncreate:i.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(i,{oncreate:i.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()(It)])),r()("div.section-nav",[r()("label.nav-label","Pedidos Ingresados"),r()("div.mg-t-10.bg-white",r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",m.pIngreados-m.pCancelados),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Cancelados:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",m.pCancelados),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Pendientes:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",m.pPendientes),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pedidos Procesados:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",m.pProcesados),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(Ct)))])]}},Ot=m;function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Nt={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==Ft.num&&setTimeout(function(){Ft.num=Ft.data.length,Ft.parseFetch(),r().redraw.sync()},2e3),0==Nt.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Ft.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[Nt.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Ft.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:Ft.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",Nt.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",Nt.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Nt.sexo)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Nt.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Nt.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",Nt.edad||Nt.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Nt.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Nt.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Nt.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",Nt.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",Nt.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Ft={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Nt.secs.push(o.data[e])}),Nt.secs.map(function(e,t,a){"nombres"==e.name&&(Nt.nombres=e.answer),"apellidos_paciente"==e.name&&(Nt.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Nt.sexo=e.answer),"nhcl"==e.name&&(Nt.nhcl=e.answer),"numero_admision"==e.name&&(Nt.numero_admision=e.answer),"edad"==e.name&&(Nt.edad=e.answer),"edad_paciente"==e.name&&(Nt.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Nt.identificacion=e.answer),"fecha_admision"==e.name&&(Nt.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Nt.ubicacion=e.answer),"fecha_alta"==e.name&&(Nt.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Nt.medico_tratante=e.answer)})},parseFetch:function(){return Nt.secs=[],Ft.data.map(function(e,t,a){Ft.parseDoc(Ft.data[t])})},fetch:function(){Ft.data=[],Ft.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Ft.nhc+"&adm="+Ft.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Ft.data=e,Ft.num=0,r().redraw()):Ft.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Ft.fetch()},5e3)})},view:function(){return Ft.error?[r()(".alert.alert-danger[role='alert']",Ft.error)]:0!==Ft.data.length?[r()(Nt)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},Lt={data:[],detalle:[],error:"",showFor:"",fetch:function(){Lt.data=[],Lt.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:f.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Lt.data=e.data,Ft.adm=Lt.data[0].ADM,Ft.nhc=Lt.data[0].NHCL,Ft.fetch()):Lt.error=e.message}).catch(function(e){setTimeout(function(){Lt.fetch()},5e3)})},view:function(){return Lt.error?[r()(".alert.alert-danger[role='alert']",Lt.error)]:0!==Lt.data.length?[r()(Ft)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},Ht={data:null,medico:null,fetch:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/itemslab/"+f.numeroPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Ht.data=e.examenes,Ht.medico=e.medico}).catch(function(e){})},oninit:function(){Ht.fetch()},view:function(){return 0!==f.examenes&&null!==Ht.data?(null==f.examenes.Exame.length&&(f.examenes.Exame=[f.examenes.Exame]),f.examenes.Exame.map(function(e,t,a){return console.log(Ht.data[e.codigoExame]),"E"==e.operacao?[r()(".tx-14.tx-semibold.tx-danger.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),void 0!==Ht.data[e.codigoExame]&&null!==Ht.data[e.codigoExame].OBS_EXAMEN?[r()("br"),r()(".d-inline.tx-danger","Observaciones:"),r()("br"),r()(".d-inline",Ht.data[e.codigoExame].OBS_EXAMEN),r()("br")]:r()("br")]:[r()(".tx-14.tx-semibold.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),void 0!==Ht.data[e.codigoExame]&&null!==Ht.data[e.codigoExame].OBS_EXAMEN?[r()("br"),r()(".d-inline.tx-danger","Observaciones:"),r()("br"),r()(".d-inline",Ht.data[e.codigoExame].OBS_EXAMEN),r()("br")]:r()("br")]})):[r()("div.pd-10",[r()("div.placeholder-paragraph",[r()("div.line")])])]}},p={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],dataFactMuestras:[],fetch:function(){p.error="",p.data=[],p.documento=[],r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:f.numeroPedido,idTimeRecord:f.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(f.loader=!1,f.data=e.data.pedido,f.examenes=e.data.pedido.PedidoExameLab.listaExame,p.documento=e.data,p.data=e.data.dataTomaMuestra.examenesToma,p.dataMuestras=e.data.dataRecepcion.examenesRecep,p.dataFactMuestras=e.data.dataFacturacion.examenesFact,Vt.impresora=f.data.PedidoExameLab.atendimento.nomeMaquina,Lt.fetch(),Ut.fetch()):f.error=e.message}).catch(function(e){})}},b={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},Ut={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:Ut.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[0],{view:function(){return e._aData.title,r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(Ut.data).draw()},fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+f.numeroPedido}).then(function(e){Ut.data=e.data,Ut.loadObservaciones()}).catch(function(e){})},sendNotiLab:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+f.numeroPedido,body:{message:Ut.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Ut.observaciones="",Ut.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){EditarPedido.error=e.message})}},Yt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,seleccionarTodos:function(o){Yt.checkedAll=o;var i=moment().format("DD-MM-YYYY HH:mm");return p.data.map(function(e,t,a){o?(p.data[t].STATUS_TOMA="1",p.data[t].FECHA_TOMA=i,p.data[t].customCheked=!0):(p.data[t].STATUS_TOMA="",p.data[t].FECHA_TOMA="",p.data[t].customCheked=!1)})},validarUpdateMuestras:function(){for(var e=0,t=0;t<p.data.length;t++)0!==p.data[t].STATUS_TOMA.length&&e++;if(0==e)throw alert("El regisro de Recepción de (Muestra) e Insumos en necesario."),"El regisro de Recepción de (Muestra) e Insumos en necesario.";var a=0;if(0!==b.tuboLila&&a++,0!==b.tuboRojo&&a++,0!==b.tuboCeleste&&a++,0!==b.tuboNegro&&a++,0!==b.tuboVerde&&a++,0!==b.gsav&&a++,0!==b.hemocultivo&&a++,0!==b.qtb&&a++,0===a)throw console.log(a),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:function(){p.documento.dataTomaMuestra.insumosToma=b,r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(p.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){p.documento=e.data,p.data=e.data.dataTomaMuestra.examenesToma}).catch(function(e){})},view:function(){return p.error?[r()("p.mg-0",p.error)]:0!==p.data.length?[r()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[Yt.disabledToma?[r()("p.mg-5.tx-right",[r()("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:function(){Yt.disabledToma=!1,Yt.disabledInsumos=!1}},r()("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],r()(".",{style:{"pointer-events":Yt.disabledToma?"none":"auto"}},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),r()("tr",[r()("th.text-left","EXAMEN"),r()("th","CONFIRMACIÓN")])),r()("tbody",[r()("tr",[r()("td.tx-normal",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:Yt.checkedAll,onclick:function(e){Yt.seleccionarTodos(this.checked)}}),r()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),r()("td.tx-medium.text-right")]),p.data.map(function(e,t,a){return[r()("tr",[r()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='"+e.CD_EXA_LAB+"']",{checked:p.data[t].customCheked,onupdate:function(e){this.checked=p.data[t].customCheked},onclick:function(e){e.preventDefault();e=this.checked;p.data[t].customCheked=!p.data[t].customCheked,e?(this.checked=!0,p.data[t].STATUS_TOMA="1",p.data[t].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,Yt.checkedAll=!1,p.data[t].STATUS_TOMA="",p.data[t].FECHA_TOMA="")}}),r()("label.custom-control-label.tx-16[for='"+e.CD_EXA_LAB+"']",0!==p.data[t].STATUS_TOMA.length?p.data[t].FECHA_TOMA:p.data[t].STATUS_TOMA)]))])]})])])),r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),r()("tr",[r()("th.text-left","INSUMOS"),r()("th.text-left","CANTIDAD")])),r()("tbody",[r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:function(e){e.target.checked?b.tuboLila=1:b.tuboLila=0},oncreate:function(e){void 0!==b.tuboLila&&0!==b.tuboLila&&(e.dom.checked=!0)},onupdate:function(e){void 0!==b.tuboLila&&0!==b.tuboLila?1==b.tuboLila&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==b.tuboLila&&0!==b.tuboLila?e.dom.innerText=b.tuboLila:e.dom.innerText=0},onupdate:function(e){void 0!==b.tuboLila&&0!==b.tuboLila?e.dom.innerText=b.tuboLila:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboLila++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboLila--,b.tuboLila<0&&(b.tuboLila=0)}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:function(e){e.target.checked?b.tuboRojo=1:b.tuboRojo=0},oncreate:function(e){void 0!==b.tuboRojo&&0!==b.tuboRojo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==b.tuboRojo&&0!==b.tuboRojo?1==b.tuboRojo&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==b.tuboRojo&&0!==b.tuboRojo?e.dom.innerText=b.tuboRojo:e.dom.innerText=0},onupdate:function(e){void 0!==b.tuboRojo&&0!==b.tuboRojo?e.dom.innerText=b.tuboRojo:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboRojo++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboRojo--,b.tuboRojo<0&&(b.tuboRojo=0)}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:function(e){e.target.checked?b.tuboCeleste=1:b.tuboCeleste=0},oncreate:function(e){void 0!==b.tuboCeleste&&0!==b.tuboCeleste&&(e.dom.checked=!0)},onupdate:function(e){void 0!==b.tuboCeleste&&0!==b.tuboCeleste?1==b.tuboCeleste&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==b.tuboCeleste&&0!==b.tuboCeleste?e.dom.innerText=b.tuboCeleste:e.dom.innerText=0},onupdate:function(e){void 0!==b.tuboCeleste&&0!==b.tuboCeleste?e.dom.innerText=b.tuboCeleste:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboCeleste++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboCeleste--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:function(e){e.target.checked?b.tuboNegro=1:b.tuboNegro=0},oncreate:function(e){void 0!==b.tuboNegro&&0!==b.tuboNegro&&(e.dom.checked=!0)},onupdate:function(e){void 0!==b.tuboNegro&&0!==b.tuboNegro?1==b.tuboNegro&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==b.tuboNegro&&0!==b.tuboNegro?e.dom.innerText=b.tuboNegro:e.dom.innerText=0},onupdate:function(e){void 0!==b.tuboNegro&&0!==b.tuboNegro?e.dom.innerText=b.tuboNegro:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboNegro++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboNegro--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:function(e){e.target.checked?b.tuboVerde=1:b.tuboVerde=0},oncreate:function(e){void 0!==b.tuboVerde&&0!==b.tuboVerde&&(e.dom.checked=!0)},onupdate:function(e){void 0!==b.tuboVerde&&0!==b.tuboVerde?1==b.tuboVerde&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==b.tuboVerde&&0!==b.tuboVerde?e.dom.innerText=b.tuboVerde:e.dom.innerText=0},onupdate:function(e){void 0!==b.tuboVerde&&0!==b.tuboVerde?e.dom.innerText=b.tuboVerde:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboVerde++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){b.tuboVerde--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:function(e){e.target.checked?b.gsav=1:b.gsav=0},oncreate:function(e){void 0!==b.gsav&&0!==b.gsav&&(e.dom.checked=!0)},onupdate:function(e){void 0!==b.gsav&&0!==b.gsav?1==b.gsav&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==b.gsav&&0!==b.gsav?e.dom.innerText=b.gsav:e.dom.innerText=0},onupdate:function(e){void 0!==b.gsav&&0!==b.gsav?e.dom.innerText=b.gsav:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){b.gsav++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){b.gsav--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:function(e){e.target.checked?b.hemocultivo=1:b.hemocultivo=0},oncreate:function(e){void 0!==b.hemocultivo&&0!==b.hemocultivo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==b.hemocultivo&&0!==b.hemocultivo?1==b.hemocultivo&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==b.hemocultivo&&0!==b.hemocultivo?e.dom.innerText=b.hemocultivo:e.dom.innerText=0},onupdate:function(e){void 0!==b.hemocultivo&&0!==b.hemocultivo?e.dom.innerText=b.hemocultivo:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){b.hemocultivo++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){b.hemocultivo--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:function(e){e.target.checked?b.qtb=1:b.qtb=0},oncreate:function(e){void 0!==b.qtb&&0!==b.qtb&&(e.dom.checked=!0)},onupdate:function(e){void 0!==b.qtb&&0!==b.qtb?1==b.qtb&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==b.qtb&&0!==b.qtb?e.dom.innerText=b.qtb:e.dom.innerText=0},onupdate:function(e){void 0!==b.qtb&&0!==b.qtb?e.dom.innerText=b.qtb:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){b.qtb++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){b.qtb--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),Yt.disabledToma?[r()("p.mg-5.",[r()("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+p.documento.pedidoLaboratorio.dataTomaMuestra.fechaToma)])]:[r()("div.pd-10",[r()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:Yt.disabledToma,onclick:function(){Yt.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm"),t=B.getDataUser();p.documento.dataTomaMuestra.usuarioToma=null!=t.user.user.toUpperCase()?t.user.user.toUpperCase():"",p.documento.dataTomaMuestra.fechaToma=e,Yt.disabledToma=!0,Yt.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]}},jt={showLogs:"",dataXML:"",nuevoPedido:!1,logsEnvio:[],examenes:[],jsonObj:null,vaTime:null,xmlRes:null,setNuevoPedido:function(){jt.nuevoPedido=!0},agregarExamen:function(o){var i=!1;jt.examenes.map(function(e,t,a){jt.examenes[t].codigoExame==o.CD_EXA_LAB&&(i=!0)}),i||f.examenes.Exame.map(function(e,t,a){f.examenes.Exame[t].codigoExame==o.CD_EXA_LAB&&jt.examenes.push(f.examenes.Exame[t])}),console.log(jt.examenes)},eliminarExamen:function(o){var i=!1,n=null;jt.examenes.map(function(e,t,a){jt.examenes[t].codigoExame==o.CD_EXA_LAB&&(i=!0,n=t)}),i&&(jt.examenes.splice(n,1),console.log(jt.examenes))},generarXML:function(){jt.jsonObj={Exame:jt.examenes},jt.vaTime=moment().format("YYYY-MM-DD HH:mm:ss"),f.data.Cabecalho.mensagemID=moment().unix(),f.data.Cabecalho.dataHora=jt.vaTime,f.data.PedidoExameLab.listaExame=jt.jsonObj,f.data.PedidoExameLab.operacao="I",0!==Vt.impresora.length&&(console.log("RecepMuestras",Vt.impresora),f.data.PedidoExameLab.atendimento.nomeMaquina=Vt.impresora),null!==Ht.medico&&!1!==Ht.medico&&(f.data.PedidoExameLab.atendimento.prestadorSolicitante=Ht.medico.CODMEDICO,f.data.PedidoExameLab.atendimento.descPrestadorSolicitante=Ht.medico.PRESTADOR,f.data.PedidoExameLab.atendimento.numeroConselhoSolicitante=Ht.medico.CEDULA),jt.xmlRes=function e(t){var a="";for(var o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(var i in t[o])a=(a=(a+="\n<"+o+">\n")+e(new Object(t[o][i])))+"</"+o+">";else"object"==Rt(t[o])?a+=e(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+">\n"}a=a.replace(/<\/?[0-9]{1,}>/g,"");return a}(f.data),console.log("documento",f.data),jt.nuevoPedido?jt.sendNuevoPedido(jt.xmlRes,f.numeroPedido,jt.vaTime):jt.sendXML(jt.xmlRes,f.numeroPedido,jt.vaTime)},sendNuevoPedido:function(e,t,a){r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-nuevo-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3),console.log("result",e)}).catch(function(e){})},sendXML:function(e,t,a){console.log("xmlRes",e),r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3)}).catch(function(e){})},oninit:function(){jt.examenes=[],jt.showLogs="",jt.dataXML=[],jt.nuevoPedido=!1,jt.logsEnvio=[],jt.examenes=[],jt.jsonObj=null,jt.vaTime=null,jt.xmlRes=null,Vt.disabledToma=!1,r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+f.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(e){e.data.map(function(e,t,a){void 0!==e.PedidoExameLab.listaExame.Exame&&jt.logsEnvio.push(e)}),console.log(jt.logsEnvio),0!==Object.keys(jt.logsEnvio).length&&(Vt.disabledToma=!0)}).catch(function(e){})},view:function(){return 0!==jt.logsEnvio.length?jt.logsEnvio.map(function(o,e,t){return[r()("tr",{oncreate:function(){e+1===t.length&&(Vt.impresora=o.PedidoExameLab.atendimento.nomeMaquina)}},[r()("td.tx-16.tx-normal.text-left",void 0!==o.PedidoExameLab.listaExame.Exame&&void 0!==o.PedidoExameLab.listaExame.Exame.length?[88e6<o.PedidoExameLab.codigoPedido?[o.PedidoExameLab.listaExame.Exame.map(function(e,t,a){return Vt.examenNuevoPedido(e,o.PedidoExameLab,o.Cabecalho),[r()(".d-inline",e.descExame),r()("br")]})]:[o.PedidoExameLab.listaExame.Exame.map(function(e,t,a){return[r()(".d-inline",e.descExame),r()("br")]})]]:[88e6<o.PedidoExameLab.codigoPedido?[Vt.examenNuevoPedido(o.PedidoExameLab.listaExame.Exame,o.PedidoExameLab,o.Cabecalho),r()(".d-inline",o.PedidoExameLab.listaExame.Exame.descExame),r()("br")]:[r()(".d-inline",o.PedidoExameLab.listaExame.Exame.descExame),r()("br")]]),r()("td.tx-16.tx-normal","TIPO: "+o.PedidoExameLab.operacao,r()("br"),r()(".d-inline.tx-danger.tx-semibold","SC: "+o.PedidoExameLab.codigoPedido),r()("br"),o.Cabecalho.dataHora),r()("td.tx-16.tx-normal.d-none",[88e6<o.PedidoExameLab.codigoPedido?[r()("button.btn.btn-xs.btn-block.wd-50p.btn-danger.d-none",{onclick:function(){}}," Eliminar ")]:[]])])]}):[r()("tr",[r()("td.tx-16.tx-medium.text-left","No existe envíos.")])]}},Bt={dataMuestras:[],checkedAll:!1,disabledFact:!1,agregarExamen:function(o){var i=!1;p.dataFactMuestras.map(function(e,t,a){p.dataFactMuestras[t].CD_EXA_LAB==o.CD_EXA_LAB&&(i=!0)}),i||Bt.dataMuestras.push(o),console.log(Bt.dataMuestras)},eliminarExamen:function(o){var i=!1,n=null;Bt.dataMuestras.map(function(e,t,a){Bt.dataMuestras[t].CD_EXA_LAB==o.CD_EXA_LAB&&(i=!0,n=t)}),i&&(Bt.dataMuestras.splice(n,1),console.log(Bt.dataMuestras))},seleccionarTodos:function(o){Bt.checkedAll=o;var i=moment().format("DD-MM-YYYY HH:mm");return p.dataFactMuestras.map(function(e,t,a){o?(p.dataFactMuestras[t].STATUS_FACT="1",p.dataFactMuestras[t].FECHA_FACT=i,p.dataFactMuestras[t].customCheked=!0,Bt.agregarExamen(p.dataFactMuestras[t])):(p.dataFactMuestras[t].STATUS_FACT="",p.dataFactMuestras[t].FECHA_FACT="",p.dataFactMuestras[t].customCheked=!1,Bt.eliminarExamen(p.dataFactMuestras[t]))})},validarStatusFact:function(){for(var e=0,t=0;t<p.dataFactMuestras.length;t++)"1"!=p.dataFactMuestras[t].STATUS_FACT&&e++;Bt.disabledFact=!(0<e)},validarUpdateMuestras:function(){for(var e=0,t=0;t<p.dataFactMuestras.length;t++)0!==p.dataFactMuestras[t].STATUS_FACT.length&&e++;if(0==e)throw alert("El regisro de Facturación es necesario."),"El regisro de Facturación es necesario."},udpateStatusFact:function(){return r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-fact-lab",body:{documento:JSON.stringify(p.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){p.documento=e.data,p.dataFactMuestras=e.data.dataFactMuestras.examenesFact}).catch(function(e){})},view:function(){},_view:function(){return p.error?[r()("p.mg-0",p.error)]:0!==p.dataFactMuestras.length?[r()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[r()(".",{oncreate:function(){setTimeout(function(){Bt.validarStatusFact()},100)}},[r()(".",{style:{"pointer-events":Bt.disabledFact?"none":"auto"}},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-left","EXAMEN(ES)"),r()("th[colspan='2']","CONFIRMACIÓN PARA FACTURACIÓN")])),r()("tbody",[r()("tr",{style:{"pointer-events":Bt.disabledFact?"none":"auto"}},[r()("td[colspan='2'].tx-normal",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='rf_selectTomaTodos']",{checked:Bt.checkedAll,onclick:function(e){Bt.seleccionarTodos(this.checked)}}),r()("label.custom-control-label[for='rf_selectTomaTodos']","Seleccionar Todos")]))]),p.dataFactMuestras.map(function(e,t,a){return[r()("tr",[r()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='r_"+e.CD_EXA_LAB+"']",{checked:p.dataFactMuestras[t].customCheked,onupdate:function(e){this.checked=p.dataFactMuestras[t].customCheked},onclick:function(e){e.preventDefault(),this.checked&&(p.dataFactMuestras[t].customCheked=!p.dataFactMuestras[t].customCheked,p.dataFactMuestras[t].STATUS_FACT="1",p.dataFactMuestras[t].FECHA_FACT=moment().format("DD-MM-YYYY HH:mm"),Bt.agregarExamen(p.dataMuestras[t]))}}),r()("label.custom-control-label.tx-16[for='r_"+e.CD_EXA_LAB+"']",0!==p.dataFactMuestras[t].STATUS_FACT.length?p.dataFactMuestras[t].FECHA_FACT:p.dataFactMuestras[t].STATUS_FACT)]))])]})])])),r()("div.pd-10",[r()("button.btn.btn-xs.btn-success.btn-block.tx-semibold[type='button']",{disabled:Bt.disabledFact,onclick:function(){Bt.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm"),t=B.getDataUser();p.documento.dataFacturacion.usuarioFact=null!=t.user.user.toUpperCase()?t.user.user.toUpperCase():"",p.documento.dataFacturacion.fechaFact=e,Bt.disabledFact=!0,Bt.udpateStatusFact()}},"Guardar y Facturar")])])])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]}},Vt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,impresora:"",examenNuevoPedido:function(o,i,e){return p.dataMuestras.map(function(e,t,a){o.codigoExame===e.CD_EXA_LAB&&(p.dataMuestras[t].NM_EXA_LAB="",p.dataMuestras[t].NM_EXA_LAB="*"+o.descExame+" ("+i.codigoPedido+")")})},seleccionarTodos:function(o){Vt.checkedAll=o;var i=moment().format("DD-MM-YYYY HH:mm");return p.dataMuestras.map(function(e,t,a){"542"!=p.dataMuestras[t].CD_EXA_LAB&&"543"!=p.dataMuestras[t].CD_EXA_LAB&&"544"!=p.dataMuestras[t].CD_EXA_LAB&&"545"!=p.dataMuestras[t].CD_EXA_LAB&&(o?(p.dataMuestras[t].STATUS_RECEP="1",p.dataMuestras[t].FECHA_RECEP=i,p.dataMuestras[t].customCheked=!0,jt.agregarExamen(p.dataMuestras[t]),""==p.dataFactMuestras[t].STATUS_FACT&&(p.dataFactMuestras[t].customCheked=!0,p.dataFactMuestras[t].STATUS_FACT="1",p.dataFactMuestras[t].FECHA_FACT=moment().format("DD-MM-YYYY HH:mm"))):(p.dataMuestras[t].STATUS_RECEP="",p.dataMuestras[t].FECHA_RECEP="",p.dataMuestras[t].customCheked=!1,jt.eliminarExamen(p.dataMuestras[t])))})},validarUpdateMuestras:function(){for(var e=0,t=0;t<p.dataMuestras.length;t++)0!==p.dataMuestras[t].STATUS_RECEP.length&&e++;if(0==e)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";jt.generarXML()},udpateStatusTomaMuestra:function(){p.documento.dataRecepcion.insumosRecep=b,r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(p.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){p.documento=e.data,p.dataMuestras=e.data.dataRecepcion.examenesRecep}).catch(function(e){})},view:function(){return p.error?[r()("p.mg-0",p.error)]:0!==p.dataMuestras.length?[r()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[r()("p.mg-5.tx-right",[r()("button.btn.btn-xs.btn-success.mg-r-5[type='button']",{class:Vt.disabledToma?"":"d-none",onclick:function(){Vt.disabledToma=!1}},r()("i.fas.fa-edit.mg-r-5")," EDITAR "),r()("button.btn.btn-xs.btn-primary.mg-r-5[type='button']",{onclick:function(){1==confirm("Esta seguro de generar un nuevo pedido 88.000.000.")&&(Vt.disabledToma=!1,jt.setNuevoPedido())}},r()("i.fas.fa-file-alt.mg-r-5")," NUEVO PEDIDO "),r()("button.btn.btn-xs.btn-warning[type='button']",{onclick:function(){0==jt.showLogs.length?jt.showLogs="d-none":jt.showLogs=""}}," VER HISTORIAL DE ENVÍO ")]),r()(".",[r()(".",{class:jt.showLogs,style:{"pointer-events":Vt.disabledToma?"none":"auto"}},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th[colspan='2'].text-dark.text-left.tx-semibold",{oncreate:function(e){e.dom.innerHTML="Recepcion de Muestras"},onupdate:function(e){jt.nuevoPedido?e.dom.innerHTML="Nuevo Pedido LISA:":e.dom.innerHTML="Recepcion de Muestras"}})]),r()("tr",[r()("th.text-left","EXAMEN(ES)"),r()("th[colspan='2']","CONFIRMACIÓN Y ENVÍO LISA")])),r()("tbody",[r()("tr",[r()("td[colspan='2'].tx-normal",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='r_selectTomaTodos']",{checked:Vt.checkedAll,onclick:function(e){Vt.seleccionarTodos(this.checked)}}),r()("label.custom-control-label[for='r_selectTomaTodos']","Seleccionar Todos")]))]),p.dataMuestras.map(function(t,a,e){return[r()("tr",[r()("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='r_"+t.CD_EXA_LAB+"']",{checked:p.dataMuestras[a].customCheked,onupdate:function(e){this.checked=p.dataMuestras[a].customCheked},oncreate:function(e){"542"!=t.CD_EXA_LAB&&"543"!=t.CD_EXA_LAB&&"544"!=t.CD_EXA_LAB&&"545"!=t.CD_EXA_LAB||(e.dom.parentElement.innerHTML="Banco de Sangre")},onclick:function(e){if(e.preventDefault(),this.checked)p.dataMuestras[a].customCheked=!p.dataMuestras[a].customCheked,p.dataMuestras[a].STATUS_RECEP="1",p.dataMuestras[a].FECHA_RECEP=moment().format("DD-MM-YYYY HH:mm"),jt.agregarExamen(p.dataMuestras[a]),""==p.dataFactMuestras[a].STATUS_FACT&&(p.dataFactMuestras[a].customCheked=!p.dataFactMuestras[a].customCheked,p.dataFactMuestras[a].STATUS_FACT="1",p.dataFactMuestras[a].FECHA_FACT=moment().format("DD-MM-YYYY HH:mm"));else{if(p.dataMuestras[a].NM_EXA_LAB.includes("(88"))throw alert("No es posible esta acción. Ya existe un pedido generado."),"No es posible esta acción. Ya existe un pedido generado.";if(jt.nuevoPedido)throw alert("No es posible generar un Nuevo Pedido de este exámen."),"No es posible generar un Nuevo Pedido de este exámen.";p.dataMuestras[a].customCheked=!p.dataMuestras[a].customCheked,Vt.checkedAll=!1,p.dataMuestras[a].STATUS_RECEP="",p.dataMuestras[a].FECHA_RECEP="",jt.eliminarExamen(p.dataMuestras[a])}}}),r()("label.custom-control-label.tx-16[for='r_"+t.CD_EXA_LAB+"']",0!==p.dataMuestras[a].STATUS_RECEP.length?p.dataMuestras[a].FECHA_RECEP:p.dataMuestras[a].STATUS_RECEP)]))])]})]),r()("thead",r()("tr",[r()("th[colspan='2'].text-primary.text-right.bg-light.tx-semibold",{},"IMPRESIÓN ETIQUETAS:")]),r()("tr",[r()("th.text-right[colspan='2']",r()("select.custom-select.wd-30p.tx-semibold",{onchange:function(e){Vt.impresora=e.target.value},disabled:0===Object.keys(jt.logsEnvio).length||jt.nuevoPedido?"":"disabled",value:Vt.impresora},["CAJA1","CAJA2","CAJA3","CAJA4","CAJA5","CAJA6","URGENCIAS","METROLAB"].map(function(e){return r()("option",e)})))]))])),r()("div.pd-10",[r()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:Vt.disabledToma,onclick:function(){Vt.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm"),t=B.getDataUser();p.documento.dataRecepcion.usuarioRecep=null!=t.user.user.toUpperCase()?t.user.user.toUpperCase():"",p.documento.dataRecepcion.fechaRecep=e,Vt.disabledToma=!0,Vt.udpateStatusTomaMuestra(),Bt.udpateStatusFact()}},jt.nuevoPedido?"Nuevo Pedido LISA":"Guardar y Enviar")])]),r()(".",{class:0!==jt.showLogs.length?"":"d-none"},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th[colspan='2'].text-primary.text-left",{},"Historial de Envios LISA:")]),r()("tr",[r()("th","EXAMENES:"),r()("th","FECHA Y HORA:"),r()("th.d-none","OPCIONES:")])),r()("tbody",[r()(jt)])]))])])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]}},f={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&void 0!==e.attrs.idTimeRecord&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,f.numeroPedido=e.attrs.numeroPedido,f.numeroAtencion=e.attrs.numeroAtencion,f.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,f.idTimeRecord=e.attrs.idTimeRecord,f.fetch())},fetch:function(){f.data=[],f.loader=!0,p.fetch()},view:function(e){var t,a;return 0!==f.data.length&&(t=moment(f.data.PedidoExameLab.paciente.dataNascimento),a=moment(),f.data.PedidoExameLab.paciente.anios=a.diff(t,"years")),f.loader?[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(21)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+f.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(21)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+f.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){f.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){f.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){f.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){f.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){window.close()}}))),"R"==f.data.PedidoExameLab.tipoSolicitacao?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),r()("td",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.codigoPedido),r()("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",r()("br"),r()(".d-inline.tx-danger","Fecha Toma de Muestra:")),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.dataExame,r()("br"),f.data.PedidoExameLab.dataColetaPedido),r()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.descSetorSolicitante)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.descPrestadorSolicitante),r()("th",{style:{"background-color":"#a8bed6"}},"Médico Tratante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},null!==Ht.medico&&!1!==Ht.medico?[r()("div.d-inline.tx-semibold.tx-danger",Ht.medico.PRESTADOR)]:f.data.PedidoExameLab.descPrestadorSolicitante)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='5']",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.paciente.nome),r()("th",{style:{"background-color":"#a8bed6"}},"Edad:"),r()("td",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.paciente.anios+" Año(s)"),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.paciente.codigoPaciente)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),r()("td",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.atendimento.codigoAtendimento),r()("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),r()("td",{style:{"background-color":"#eaeff5"}},"F"==f.data.PedidoExameLab.paciente.sexo?"Femenino":"Masculino"),r()("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),r()("td",{style:{"background-color":"#eaeff5"}},f.data.PedidoExameLab.paciente.dataNascimento),r()("th",{style:{"background-color":"#a8bed6"}},"Dg:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(null==f.data.PedidoExameLab.diagnostico.codigoDiagnostico.length?"":"CIE: "+f.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(null==f.data.PedidoExameLab.diagnostico.dsDiagostico.length?"":" - "+f.data.PedidoExameLab.diagnostico.dsDiagostico))]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","EXÁMENES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()(Ht))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",{style:{"pointer-events":null!==Ht.data?"auto":"none"}},[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),r()("li.nav-item",r()("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),r()("li.nav-item",r()("a.nav-link[id='home-recep'][data-toggle='tab'][href='#recep'][role='tab'][aria-controls='recep']",{style:{color:"#476ba3"}},r()("i.fas.fa-inbox.pd-1.mg-r-2")," RECEP. DE MUESTRA ")),r()("li.nav-item.d-none",r()("a.nav-link[id='home-facturar'][data-toggle='tab'][href='#facturar'][role='tab'][aria-controls='facturar']",{style:{color:"#476ba3"}},r()("i.fas.fa-inbox.pd-1.mg-r-2")," FACTURACIÓN ")),r()("li.nav-item",r()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},r()("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),r()("tr.d-print-none",[r()("td[colspan='10']",r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(Lt)]),r()(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[r()(Yt)]),r()(".tab-pane.fade[id='recep'][role='tabpanel'][aria-labelledby='home-recep']",[r()(Vt)]),r()(".tab-pane.fade.d-none[id='facturar'][role='tabpanel'][aria-labelledby='home-facturar']",[r()(Bt)]),r()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Ut.observaciones=e.target.value},value:Ut.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==Ut.observaciones.length?Ut.sendNotiLab():alert("Observaciones es obligatorio.")}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}};var $t=f,zt={loadPage:"",view:function(e){return window.localStorage.removeItem("updates"),Ge.num=0,[r()(q),setTimeout(function(){return r().route.set(zt.loadPage)},300)]}},Jt=zt,qt={view:function(e){return[r()("p.mg-0.tx-18",[r()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.NM_PACIENTE]),r()("p.mg-0",[r()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.CD_PACIENTE)]),r()("p.mg-0",[r()("div.tx-15.text-secondary.mg-r-5","N° Atención MV: "+e.attrs.CD_ATENDIMENTO)])]}};var Xt={notificaciones:[],pedidos:[],oninit:function(){o.page="",i.page="",d.isAuth()},oncreate:function(){var t;document.title="Formularios Epidemiológicos | "+d.title,Jt.loadPage="/laboratorio/formularios",$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-formularios").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/formularios-epis",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"15%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"50%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],width:"35%",orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){r().mount(e.anCells[3],{view:function(){return r()("p.mg-0.tx-12",[r()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.DT_ATENDIMENTO])}}),r().mount(e.anCells[4],{view:function(){return r()(qt,e._aData)}}),r().mount(e.anCells[5],{view:function(){return"313"==e._aData.CD_DOCUMENTO?r()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[r()("a.btn.btn-xs.btn-primary",{href:e._aData.URL,target:"_blank"},[r()("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epi 1")]):r()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[r()("a.btn.btn-xs.btn-primary",{href:e._aData.URL,target:"_blank"},[r()("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epidemiológica")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()})},view:function(){return[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(6)}),r()("div.content.content-components",r()("div.container",[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},["Metrovirtual"])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},["Laboratorio"])),r()("li.breadcrumb-item.active[aria-current='page']","Formularios Epidemiológicos")]),r()("h1.df-title.mg-t-20.mg-b-10","Formularios Epidemiológicos:"),r()("div.row.tx-14",[r()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",r()("div.row",[r()("div.col-sm-12.pd-b-10",r()("div.input-group",[r()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Apellidos y Nombres completos del Paciente'][title='Buscar'][type='text']"),r()("div.input-group-append",r()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[r()("i.icon.ion-md-search")," Buscar "]),r()("button.btn.btn-outline-light[id='resetTable'][type='button']",[r()("i.icon.ion-md-close-circle")," Borrar "]))])),r()("div.col-sm-12.pd-b-10.d-none",r()("div.input-group",[r()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),r()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),r()("div.input-group-append",[r()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[r()("i.icon.ion-md-funnel")," Filtrar "])])]))])),r()("div.col-12",[r()("div.table-loader.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",r()("table.table.table-sm[id='table-formularios'][width='100%']"),r()("table.d-none[id='table-status-formularios'][width='100%']"))])])]))]}},Gt=wl(1360),Zt={view:function(){return[Gt("header",Gt("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[Gt("div.overlay.op-P9"),Gt("div.container",Gt("div.row",Gt("div.col-md-12")))]),Gt("div.toolbar",Gt("div.container",Gt("div.row",[Gt("div.col-6.text-left",Gt("a.mt-2.logo.d-none.d-md-block[href='/']",Gt("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']")),Gt("a.mt-2.d-block.d-md-none[href='/']",Gt("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']"))),Gt("div.col-6.text-right",[Gt(Gt.route.Link,{href:"/mi-perfil",class:"nav-link"},[Gt("div.features-circle.m-bg-3.text-active.d-inline-flex.align-items-center.justify-content-center.rounded-circle",{style:{height:"50px",width:"50px"}},Gt("i.icofont-doctor",{style:{fontSize:"20px"}}))])])]))))]}},Kt=wl(1360),Wt={view:function(){return[Kt("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[Kt("div.overlay.op-P9"),Kt("div.container",Kt("div.row",Kt("div.col-md-12",Kt("div.breadcrumb-inner.align-items-start.flex-column.justify-content-center.d-flex."))))]),Kt("div.m-bg-1.single-doctor-container.type-2.m-pb-120",Kt("div.container",[Kt("div.row",Kt("div.col-md-12.text-center",[Kt("div.doctors-image.mb-1.d-inline-block.bg-white.rounded-circle.p-2.s-10-80",Kt("img[src='assets/images/doctors-image5.jpg'][alt='']")),Kt("h3.m-mt-10.text-dark.font-weight-bold","Dr. Rojana Rossy"),Kt("h6.fz-18.text-uppercase.font-weight-normal","Medicina Interna"),Kt("div.social-icon.mt-3.circle-link.position-relative",[Kt("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",Kt("i.icofont-facebook")),Kt("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",Kt("i.icofont-twitter")),Kt("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",Kt("i.icofont-instagram"))])])),Kt("div.row.m-mb-60.m-mt-60.",[Kt("div.col-md-4",Kt("div.bg-white.mb-0.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[Kt("span.position-absolute.flaot-icon",Kt("i.icofont-stethoscope-alt.text-active")),Kt("h5.m-text-2.mb-3.text-uppercase","Mis Datos"),Kt("div.media.",Kt("div.media-body",Kt("p.m-0.","Mis datos personales y configuración de Perfil.")))])),Kt("div.col-md-4",Kt("div.bg-white.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[Kt("span.position-absolute.flaot-icon",Kt("i.icofont-stethoscope-alt")),Kt("h5.m-text-2.mb-3.text-uppercase","Cambio de Contraseña"),Kt("div.media.",Kt("div.media-body",Kt("p.m-0.","Actualización de credenciales de acceso.")))]))]),Kt("div.row",Kt("div.col-md-12.text-center.m-mb-50",Kt("a.btn.bordered-blue.fadeInDown-slide.animated.medim-btn.btn-bordered.mt-0.text-medium.radius-pill.bg-transparent.text-active.text-uppercase.[href='#!/salir']"," Salir ")))])),Kt("div.button-menu-center.text-center",Kt("a.btn.fadeInDown-slide.position-relative.animated.pl-4.pr-4.lsp-0.no-border.bg-transparent.medim-btn.grad-bg--3.solid-btn.mt-0.text-medium.radius-pill.text-active.text-white.s-dp-1-2[href='/']",[Kt("i.icofont-home")," Inicio "]))]}},Qt=wl(1360),ea={oninit:function(){if(!z.isLogin())return Qt.route.set("/auth")},oncreate:function(){document.title="Mi Perfil | "+d.title},view:function(){return[Qt(Zt),Qt(Wt)]}},ta=wl(1360),aa={view:function(){return[ta("div.content.content-fixed.content-auth-alt",ta("div.container.ht-100p.tx-center",ta("div.ht-100p.d-flex.flex-column.align-items-center.justify-content-center",[ta("div.wd-70p.wd-sm-250.wd-lg-300.mg-b-15",ta("img.img-fluid[src='assets/dashforge/img/img19.png'][alt='']")),ta("h1.tx-color-01.tx-24.tx-sm-32.tx-lg-36.mg-xl-b-5","404 Página no encontrada"),ta("h5.tx-16.tx-sm-18.tx-lg-20.tx-normal.mg-b-20","Oopps. La página que estabas buscando no existe."),ta("p.tx-color-03.mg-b-30","Es posible que haya escrito mal la dirección o que la página se haya movido. Regresa al inicio."),ta("div.d-flex.mg-b-40",[ta("a.button.btn.btn-brand-02.bd-0.mg-l-5.pd-sm-x-25[href='/']","Ir al Inicio")]),ta("span.tx-12.tx-color-03",[d.title,ta("a[href='https://www.hospitalmetropolitano.org']"," Hospital Metropolitano")])])))]}},oa={view:function(){var e=B.getDataUser();if(null!==e&&0!==e.length)return[r()("li.bg-primary.wd-100p.nav-item.d-none",r()(r().route.Link,{href:"/inicio",class:"nav-link"},[r()("i[data-feather='layout']")," Inicio "]))]}},ia={view:function(e){return void 0!==e.children[0].modulo&&"farmacia"==e.children[0].modulo?(e.children[0].modulo="Farmacia",e.children[0].icon="fas fa-pills",e.children[0].href="farmacia"):void 0!==e.children[0].modulo&&"laboratorio"==e.children[0].modulo?(e.children[0].modulo="Laboratorio",e.children[0].icon="fas fa-microscope",e.children[0].href="laboratorio"):void 0!==e.children[0].modulo&&"imagen"==e.children[0].modulo?(e.children[0].modulo="Imagen",e.children[0].icon="fas fa-file-prescription",e.children[0].href="imagen"):void 0!==e.children[0].modulo&&"emergencia"==e.children[0].modulo?(e.children[0].modulo="Emergencia",e.children[0].icon="fas fa-first-aid",e.children[0].href="emergencia"):void 0!==e.children[0].modulo&&"bco-sangre"==e.children[0].modulo?(e.children[0].icon="fas fa-burn",e.children[0].modulo="Bco. de Sangre",e.children[0].href="bco-sangre"):void 0!==e.children[0].modulo&&"terapia-respiratoria"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Terapia Respiratoria",e.children[0].href="terapia-respiratoria"):void 0!==e.children[0].modulo&&"terapia-fisica"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Terapia Física",e.children[0].href="terapia-fisica"):void 0!==e.children[0].modulo&&"cardiologia"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Cardiología",e.children[0].href="cardiologia"):void 0!==e.children[0].modulo&&"neurofisiologia"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Neurofisiología",e.children[0].href="neurofisiologia"):void 0!==e.children[0].modulo&&"hospitalizacion"==e.children[0].modulo?(e.children[0].icon="fas fa-procedures",e.children[0].modulo="Hospitalizacion",e.children[0].href="hospitalizacion"):void 0!==e.children[0].modulo&&"admisiones"==e.children[0].modulo?(e.children[0].icon="fas fa-folder-open",e.children[0].modulo="Admisiones",e.children[0].href="admisiones"):void 0!==e.children[0].modulo&&"mantenimiento"==e.children[0].modulo?(e.children[0].icon="fas fa-h-square ",e.children[0].modulo="Mantenimento",e.children[0].href="mantenimiento"):void 0!==e.children[0].modulo&&"endoscopia"==e.children[0].modulo?(e.children[0].icon="fas fa-compact-disc",e.children[0].modulo="Endoscopìa",e.children[0].href="endoscopia"):void 0!==e.children[0].modulo&&"patologia"==e.children[0].modulo?(e.children[0].icon="fas fa-microscope",e.children[0].modulo="Patología",e.children[0].href="patologia"):void 0!==e.children[0].modulo&&"contabilidad"==e.children[0].modulo?(e.children[0].icon="fas fa-book",e.children[0].modulo="Contabilidad",e.children[0].href="contabilidad"):(e.children[0].icon="fas fa-hospital",e.children[0].href=e.children[0].modulo.charAt(0).toUpperCase(),e.children[0].modulo=e.children[0].modulo.charAt(0).toUpperCase()+e.children[0].modulo.slice(1)),[r()("li",{class:"list-item bg-white wd-50p",style:{cursor:"pointer"},onclick:function(){r().route.set(e.children[0].href,{})}},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:e.children[0].icon+" tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-18 mg-b-0"},e.children[0].modulo),r()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a "+e.children[0].modulo)])])])]}},na={isContent:!1,view:function(){oa.isContent=!1;var o=B.getDataUser();if(null!==o&&0!==o.length)return[Object.keys(o.modulesAccess).map(function(e,t,a){return 0!==o.modulesAccess[e].length?(oa.isContent=!0,r()(ia,o.modulesAccess[e])):Object.keys(o.modulesAccess).length!=t+1||oa.isContent?void 0:[r()("p.df-lead.pd-15","Todavía no tienes acceso a ningún Módulo disponible. Comunícate a CONCAS Ext: 2020 y solicita activación. Att: Metrovirtual Plus.")]})]}};var ra={oninit:function(){o.page="",d.isAuth()},oncreate:function(){function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}var t;document.title="Inicio | "+d.title,feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))})},view:function(){return[r()("header.navbar.navbar-header.navbar-header-fixed",[r()("div.navbar-brand",r()(r().route.Link,{href:"/",class:"df-logo"},["Metro",r()("span","Plus+")])),r()(".navbar-menu-wrapper[id='navbarMenu']",[r()("div.navbar-menu-header",[r()(r().route.Link,{href:"/",class:"df-logo"},["Metro",r()("span","Plus+")]),r()("a[id='mainMenuClose'][href='']",r()("i[data-feather='x']"))]),r()("ul.nav.navbar-menu",[r()("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),r()(oa)])]),r()(ne)]),r()("div.content.content-components",{},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},["MetroPlus"])),r()("li.breadcrumb-item.active[aria-current='page']","Inicio")]),r()("h1.df-title.mg-t-20.mg-b-10","Inicio:"),r()("div.row.tx-14",[r()(na)])]))]}},da=wl(1360),sa={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.emergencia.map(function(e,t,a){return[da(da.route.Link,{href:"/"+e.href,class:la.page==e.idModulo?"active":""},[e.label])]})]}},la={page:"",setPage:function(e){la.page=e},view:function(){return[da(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[da("div.sidebar-header",[da("a[href=''][id='mainMenuOpen']",da("i[data-feather='menu']")),da("h5","Menu"),da("a[href=''][id='sidebarMenuClose']",da("i[data-feather='x']"))]),da("div.sidebar-body",da("ul.sidebar-nav",[da("li.nav-label.mg-b-15","Emergencia"),da("li.nav-item.show",[da(da.route.Link,{href:"/emergencia",class:"nav-link with-sub"},[da("i[data-feather='layout']"),"Emergencia"]),da("nav.nav",[da(sa)])])]))])]}},ca=la,ua=wl(1360),ma={view:function(){return[ua("div.content.content-components",ua("div.container",[ua("ol.breadcrumb.df-breadcrumbs.mg-b-10",[ua("li.breadcrumb-item",ua(ua.route.Link,{href:"/"},["Metrovirtual"])),ua("li.breadcrumb-item.active[aria-current='page']","Emergencia")]),ua("h1.df-title.mg-t-20.mg-b-10","Emergencia:"),ua("div.row.tx-14",[ua("div.col-sm-6.mg-b-20",ua("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[ua("div.mg-b-25",ua("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),ua("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Auxiliar"),ua(ua.route.Link,{href:"/emergencia/auxiliar/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Auxiliar",ua("i.icon.ion-md-arrow-forward.mg-l-5")])])),ua("div.col-sm-6..mg-b-20",ua("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[ua("div.mg-b-25",ua("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),ua("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Enfermería"),ua(ua.route.Link,{href:"/emergencia/enfermeria/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Enfermería",ua("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]))]}},pa={oninit:function(){o.page="",ca.page="",d.isAuth()},oncreate:function(){document.title="Emergencia | "+d.title},view:function(){return[ua(o,{oncreate:o.setPage("emergencia")}),ua(ca),ua(ma)]}},ba={view:function(e){return[r()("p.mg-0.tx-18",[r()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.PTE_MV]),r()("p.mg-0",[r()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.HC_MV)]),r()("p.mg-0",[r()("div.tx-15.text-secondary.mg-r-5","N° Pedido MV: "+e.attrs.NUM_PEDIDO_MV)])]}};var fa={notificaciones:[],pedidos:[],oninit:function(){o.page="",ca.page="",d.isAuth("emergencia",2)},oncreate:function(){var t;document.title="Pedidos de Laboratorio | "+d.title,Jt.loadPage="/emergencia/pedidos",$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){r().mount(e.anCells[3],{view:function(){return r()("p.mg-0.tx-12",[r()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO])}}),r().mount(e.anCells[4],{view:function(){return r()(ba,e._aData)}}),r().mount(e.anCells[5],{view:function(){return r()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[r()(r().route.Link,{href:"/emergencia/auxiliar/pedido/"+e._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[r()("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){r().mount(e.anCells[0],{view:function(){return r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:function(){r().route.set("/emergencia/auxiliar/pedido/"+e._aData.idPedido)}},[r()("div.toast-header.bg-danger",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message.substring(0,10)+"...")]))}})})}})},view:function(){return[r()(o,{oncreate:o.setPage("emergencia")}),r()(ca,{oncreate:ca.setPage(2)}),r()("div.content.content-components",r()("div.container",[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()("a[href='#']","Metrovirtual")),r()("li.breadcrumb-item",r()("a",{href:"#!/emergencia"},"Emergencia")),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Auxiliar")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Auxiliar:"),r()("div.row.tx-14",[r()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",r()("div.row",[r()("div.col-sm-12.pd-b-10",r()("div.input-group",[r()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),r()("div.input-group-append",r()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[r()("i.icon.ion-md-search")," Buscar "]),r()("button.btn.btn-outline-light[id='resetTable'][type='button']",[r()("i.icon.ion-md-close-circle")," Borrar "]))])),r()("div.col-sm-12.pd-b-10.d-none",r()("div.input-group",[r()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),r()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),r()("div.input-group-append",[r()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[r()("i.icon.ion-md-funnel")," Filtrar "])])]))])),r()("div.col-12",[r()("div.table-loader.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",r()("table.table.table-sm[id='table-pedidos'][width='100%']"),r()("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),r()("div.section-nav",[r()("label.nav-label","Notificaciones"),r()("nav.nav.flex-column[id='navSection']",[r()("table.table.table-sm[id='table-notificaciones'][width='100%']")]),r()("label.nav-label.mg-t-20.tx-center.d-none",[r()("a",{href:"#!/notificaciones-lab"},"Ver Todo")])])]}},ha={data:!1,fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+wa.idPedido}).then(function(e){ha.data=e.data,moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({data:ha.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[0],{view:function(){return"Nuevo Mensaje"==e._aData.title?r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message)])):r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-danger",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message)]))}})})}})}).catch(function(e){})},view:function(){return ha.data?0==ha.data.length?r()("p","Sin Notificaciones"):0!==ha.data.length?ha.data.map(function(e,t,a){if(t<4)return"Nuevo Mensaje"==e.title?r()("div.demo-static-toast.mg-b-5",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),r()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e.message)])):r()("div.demo-static-toast.mg-b-5",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[r()("div.toast-header.bg-danger",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),r()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e.message)]))}):void 0:r()("p.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])}},ga={messagePedido:null,oncreate:function(){ha.fetch()},sendMessage:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+wa.idPedido,body:{dataPedido:va.data,message:ga.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(ga.messagePedido="",ha.fetch(),alert("Mensaje enviado con éxito."),Aa())}).catch(function(e){xa.error=e.message})},view:function(){return r()("table.table.table-sm[id='table-notificaciones'][width='100%']")}},va={data:[],detalle:[],error:"",numPedido:0,fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+wa.idPedido}).then(function(e){va.data=e.data,e.data.DESCRIPCION.map(function(e,t,a){va.detalle.push(e),xa.detalle.push(e),-1!==e.indexOf("-R-")&&(va.numPedido=va.numPedido+1)})}).catch(function(e){va.error=e.message})},view:function(){if(0!==xa.detalle.length)return va.detalle.map(function(e,t,a){return-1!==xa.detalle[t].indexOf("...")?r()("p.mg-0",va.detalle[t]+" "+xa.detalle[t].split("...")[1]):r()("p.mg-0",va.detalle[t])})}},xa={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:function(){return[r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:xa.checkedAll,onclick:function(e){xa.seleccionarTodos(this.checked)}}),r()("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),xa.detalle.map(function(e,t,a){return-1!==e.indexOf("...")?r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='"+wa.idPedido+"-"+t+"']",{checked:!0,onclick:function(e){this.checked||(xa.detalle[t]=va.detalle[t],ya.statusPedido=3,ya.classPedido="tx-warning",ya.descPedido="Muestras Pendientes",xa.checkedAll=!1),xa.updateDataPedido()},onupdate:function(e){-1!==xa.detalle[t].indexOf("...")?(va.detalle[t],xa.detalle[t].split("...")[1]):va.detalle[t]}}),r()("label.custom-control-label[for='"+wa.idPedido+"-"+t+"']",-1!==xa.detalle[t].indexOf("...")?va.detalle[t]+xa.detalle[t].split("...")[1]:va.detalle[t])]):r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='"+wa.idPedido+"-"+t+"']",{onclick:function(e){this.checked&&(xa.detalle[t]=va.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),xa.updateDataPedido()},onupdate:function(e){-1!==xa.detalle[t].indexOf("...")?(va.detalle[t],xa.detalle[t].split("...")[1]):va.detalle[t]}}),r()("label.custom-control-label[for='"+wa.idPedido+"-"+t+"']",-1!==xa.detalle[t].indexOf("...")?va.detalle[t]+xa.detalle[t].split("...")[1]:va.detalle[t])])})]},oninit:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+wa.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(xa.detalle=e.data,ha.fetch())}).catch(function(e){xa.error=e.message})},updateDataPedido:function(){xa.validarStatus(),r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+wa.idPedido,body:{dataPedido:xa.detalle,statusPedido:ya.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(xa.detalle=e.data,xa.validarStatus())}).catch(function(e){xa.error=e.message})},sendNotiLab:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+wa.idPedido,body:{dataPedido:va.data,message:xa.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(xa.observaciones="",ha.fetch(),alert("Mensaje enviado con éxito."),Aa())}).catch(function(e){xa.error=e.message})},validarStatus:function(){xa.detalle.map(function(e,t,a){-1!==e.indexOf("...")?0:0})},seleccionarTodos:function(o){return xa.detalle.map(function(e,t,a){o?(xa.detalle[t]=va.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(wa.idPedido+"-"+t).checked=!0):(xa.detalle[t]=va.detalle[t],document.getElementById(wa.idPedido+"-"+t).checked=!1),xa.detalle.length===t+1&&xa.updateDataPedido()})}},ya={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:function(){va.fetch()},view:function(){return va.error?[r()(".alert.alert-danger[role='alert']",va.error)]:0!==va.detalle.length?[r()("p.mg-5.tx-20",[r()("i.fas.fa-user.mg-r-5.text-secondary"),va.data.NOMBRE_PACIENTE]),r()("p.mg-5.tx-15",["Fecha Pedido: "+va.data.FECHA_PEDIDO,2===ya.statusPedido?[r()("span.tx-indigo.tx-semibold"," Usuario: "+z.user.user)]:""]),r()("p.mg-5",[r()("span.badge.badge-primary.mg-r-5.tx-14","HC: "+va.data.HC)]),r()("p.mg-5","Opciones Disponibles:"),r()("hr.wd-100p.mg-t-0.mg-b-5"),r()("p.mg-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ya.ver=!0,ya.editar=!1,ya.entregar=!1,ya.enviar=!1,ya.nuevoMensaje=!1,ya.labelOperation="Detalle:"}},[r()("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),r()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ya.ver=!1,ya.editar=!1,ya.entregar=!0,ya.enviar=!1,ya.nuevoMensaje=!1,ya.labelOperation="Entregar Muestras:",Ea.status="Entregada"}},[r()("i.fas.fa-user-edit.mg-r-5")],"Entregar Muestras"),r()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ya.ver=!1,ya.editar=!1,ya.entregar=!1,ya.enviar=!1,ya.nuevoMensaje=!0,ya.labelOperation="Nuevo Mensaje:"}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14",ya.labelOperation)]),r()("p.mg-5."+(ya.ver||ya.nuevoMensaje?"":"d-none"),[r()(va)]),r()("p.mg-5.d-none",[r()(xa)]),r()("hr.wd-100p.mg-t-0.mg-b-5"),r()("p.mg-5."+(ya.entregar||ya.enviar?"":"d-none"),[r()(Ea)]),r()("p.mg-5."+(ya.ver?"":"d-none"),[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),r()(ga)]),r()("p.mg-5."+(ya.nuevoMensaje?"":"d-none"),[r()("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(e){ga.messagePedido=e.target.value},value:ga.messagePedido}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==ga.messagePedido.length?ga.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),r()("hr.wd-100p.mg-t-0.mg-b-5")]:r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])}},wa={idPedido:null,oninit:function(e){d.isAuth(),o.page="",ca.page="",wa.idPedido=e.attrs.idPedido,va.data=[],va.detalle=[],xa.detalle=[]},oncreate:function(){document.title="Detalle Pedido N°: "+wa.idPedido+" | "+d.title},view:function(){return[r()(o,{oncreate:o.setPage("emergencia")}),r()(ca),r()("div.content.content-components",r()("div.container",[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},["Metrovirtual"])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},["Laboratorio"])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle")]),r()("h1.df-title","Detalle de Pedido N°: "+wa.idPedido),r()("div.row.tx-14",[r()("div.col-12",r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("div.mg-b-25",r()("i.tx-60.fas.fa-file."+ya.classPedido)),r()("h5.tx-inverse.mg-b-20","Detalle de Pedido N°: "+wa.idPedido+" - Status: "+ya.descPedido),r()(ya)]))])])),r()("div.section-nav",[r()("label.nav-label","Notificaciones"),r()("nav.nav.flex-column[id='navSection']",[r()(ha)])])]}},_a={numero:0,items:[],oninit:function(e){e=e.attrs._id;console.log("idc",e),_a.items[e]={numero:0}},view:function(e){var t=e.attrs._id;return[r()("div.card.text-right",r()("div.card-body",[r()("h5.card-title",_a.items[t].numero),r()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){_a.items[t].numero=_a.items[t].numero+1}},"+"),r()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){_a.items[t].numero=_a.items[t].numero-1}},"-")]))]}},Ea={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+wa.idPedido,body:{dataPedido:Ea.muestras,statusPedido:ya.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(ya.statusPedido=e.statusPedido,Ea.detalle=e.data,Ea.validarStatus())}).catch(function(e){Ea.error=e.message})},view:function(){if(0!==Ea.detalle.length)return[r()("div.custom-control.custom-checkbox.tx-18",[r()("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:Ea.checkedAll,onclick:function(e){Ea.seleccionarTodos(this.checked)}}),r()("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),r()("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(Ea.detalle).map(function(t){var a=Ea.muestras[t].toLowerCase().replaceAll(" ","_");return-1!==Ea.detalle[t].indexOf("...")?(void 0!==_a.items[a]&&(_a.items[a].numero=parseFloat(Ea.detalle[t].split("...")[2])),[r()(_a,{_id:a}),r()("div.pd-25.custom-control.custom-checkbox.tx-18",[r()("input.custom-control-input[type='checkbox'][id='"+Ea.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(e){this.checked||(ya.statusPedido=1,Ea.checkedAll=!1,Ea.detalle[t]=Ea.muestras[t],_a.items[Ea.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),Ea.updateDataMuestras()},onupdate:function(e){-1!==Ea.detalle[t].indexOf("...")?(Ea.muestras[t],Ea.detalle[t].split("...")[1]):Ea.muestras[t]}}),r()("label.custom-control-label[for='"+Ea.detalle[t].toLowerCase().replaceAll(" ","_")+"']",-1!==Ea.detalle[t].indexOf("...")?Ea.muestras[t]+Ea.detalle[t].split("...")[1]:Ea.detalle[t])]),r()("hr.wd-100p.mg-t-0.mg-b-5")]):[r()(_a,{_id:a}),r()("div.pd-25.custom-control.custom-checkbox.tx-18",[r()("input.custom-control-input[type='checkbox'][id='"+Ea.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(e){this.checked&&(ya.statusPedido=2,Ea.detalle[t]=Ea.muestras[t]+" ... - "+Ea.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+_a.items[a].numero),Ea.updateDataMuestras()},onupdate:function(e){-1!==Ea.detalle[t].indexOf("...")?(Ea.muestras[t],Ea.detalle[t].split("...")[1]):Ea.muestras[t]}}),r()("label.custom-control-label[for='"+Ea.detalle[t].toLowerCase().replaceAll(" ","_")+"']",Ea.detalle[t])]),r()("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:function(a){return a?(ya.statusPedido=2,Ea.checkedAll=!0):(ya.statusPedido=1,Ea.checkedAll=!1),[Object.keys(Ea.detalle).map(function(e){var t=Ea.detalle[e].toLowerCase().replaceAll(" ","_");a?(Ea.detalle[e]=Ea.muestras[e]+" ... - "+Ea.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(t).checked=!0):(Ea.detalle[e]=Ea.muestras[e],document.getElementById(t).checked=!1)}),Ea.updateDataMuestras()]},validarStatus:function(){1==ya.statusPedido&&(ya.classPedido="tx-gray-500",ya.descPedido="Pendiente"),2==ya.statusPedido&&(ya.classPedido="tx-primary",ya.descPedido="Gestionado");var t=0;Object.keys(Ea.detalle).map(function(e){-1===Ea.detalle[e].indexOf("...")?(t+=1,Object.keys(Ea.detalle).length===t&&t===Object.keys(Ea.detalle).length&&(ya.statusPedido,ya.classPedido="tx-gray-500",ya.descPedido="Pendiente")):(ya.statusPedido=2,ya.classPedido="tx-primary",ya.descPedido="Gestionado")})},updateDataMuestras:function(){return[Ea.validarStatus(),r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+wa.idPedido,body:{dataPedido:Ea.detalle,statusPedido:ya.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Ea.detalle=e.data,Ea.validarStatus())}).catch(function(e){Ea.error=e.message})]}};function Aa(){var e=$("#table-notificaciones").DataTable();e.clear(),e.rows.add(ha.data).draw()}var Da=wa,Ta={data:{pedidos:[],notificaciones:[]},fetchPedidos:function(){r().request({method:"GET",url:" https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio?start=0&length=10"}).then(function(e){Ta.data.pedidos=e.data,Ta.fetchNotificaciones()}).catch(function(e){})},fetchNotificaciones:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos?start=0&length=6"}).then(function(e){Ta.data.notificaciones=e.data,null==localStorage.updates&&B.setData(Ta.data),Ta.notificar()}).catch(function(e){})},fetch:function(){Ta.fetchPedidos()},notificar:function(){for(var e=B.getData(),t=0;t<Ta.data.notificaciones.length;t++){for(var a=!1,o=0;o<e.notificaciones.length&!a;o++)Ta.data.notificaciones[t].id==e.notificaciones[o].id&&(a=!0);a||!function(e){{var t,a,o;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),Ge.setNot(),a=JSON.parse(e.dataPedido),t="Metrovirtual: "+e.title,a={icon:"assets/favicon.ico",body:"Pedido N°: "+e.idPedido+"\nHC: "+a.HC+"\nPte: "+a.NOMBRE_PACIENTE},(o=new Notification(t,a)).onclick=function(){r().route.set("/emergencia/enfermeria/pedido/"+e.idPedido)},o.onclose={},setTimeout(function(){o.close()},3e4))}}(Ta.data.notificaciones[t])}for(t=0;t<Ta.data.pedidos.length;t++){for(a=!1,o=0;o<e.pedidos.length&!a;o++)Ta.data.pedidos[t].NUM_PEDIDO_MV==e.pedidos[o].NUM_PEDIDO_MV&&(a=!0);a||!function(e){{var t,a;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),Ge.setNot(),t={icon:"assets/favicon.ico",body:"Pedido N°: "+e.NUM_PEDIDO_MV+"\nHC: "+e.HC_MV+"\nPte: "+e.PTE_MV},(a=new Notification("Metrovirtual: Nuevo Pedido",t)).onclick=function(){r().route.set("/emergencia/enfermeria/pedido/"+e.NUM_PEDIDO_MV)},a.onclose={},setTimeout(function(){a.close()},3e4))}}(Ta.data.pedidos[t])}B.setData(Ta.data),setTimeout(function(){console.log("updates",Ta.data),Ta.fetch()},5e3)}},Ma={view:function(e){return[r()("p.mg-0.tx-18",[r()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.PTE_MV]),r()("p.mg-0",[r()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.HC_MV)]),r()("p.mg-0",[r()("div.tx-15.text-secondary.mg-r-5","N° Pedido MV: "+e.attrs.NUM_PEDIDO_MV)])]}};var Pa={notificaciones:[],pedidos:[],oninit:function(){o.page="",ca.page="",d.isAuth("emergencia",4)},oncreate:function(){function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}var t,a,o;function i(){window.location.reload()}function n(){clearTimeout(o),o=setTimeout(i,3e5)}document.title="Pedidos de Laboratorio | "+d.title,Jt.loadPage="/emergencia/pedidos",Ta.fetch(),feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))}),$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",a=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){r().mount(e.anCells[3],{view:function(){return r()("p.mg-0.tx-12",[r()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO])}}),r().mount(e.anCells[4],{view:function(){return r()(Ma,e._aData)}}),r().mount(e.anCells[5],{view:function(){return r()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[r()(r().route.Link,{href:"/emergencia/enfermeria/pedido/"+e._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[r()("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),a.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),a.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),a.search("").draw()}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){r().mount(e.anCells[0],{view:function(){return r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:function(){r().route.set("/emergencia/enfermeria/pedido/"+e._aData.idPedido)}},[r()("div.toast-header.bg-danger",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message.substring(0,10)+"...")]))}})})}}),window.onload=n,window.onmousemove=n,window.onmousedown=n,window.ontouchstart=n,window.ontouchmove=n,window.onclick=n,window.onkeydown=n,window.addEventListener("scroll",n,!0)},view:function(){return[r()(o,{oncreate:o.setPage("emergencia")}),r()(ca,{oncreate:ca.setPage(4)}),r()("div.content.content-components",r()("div.container",[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},["Metrovirtual"])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/emergencia"},["Emergencia"])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Enfermería")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Enfermería:"),r()("div.row.tx-14",[r()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",r()("div.row",[r()("div.col-sm-12.pd-b-10",r()("div.input-group",[r()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),r()("div.input-group-append",r()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[r()("i.icon.ion-md-search")," Buscar "]),r()("button.btn.btn-outline-light[id='resetTable'][type='button']",[r()("i.icon.ion-md-close-circle")," Borrar "]))])),r()("div.col-sm-12.pd-b-10.d-none",r()("div.input-group",[r()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),r()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),r()("div.input-group-append",[r()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[r()("i.icon.ion-md-funnel")," Filtrar "])])]))])),r()("div.col-12",[r()("div.table-loader.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",r()("table.table.table-sm[id='table-pedidos'][width='100%']"),r()("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),r()("div.section-nav",[r()("label.nav-label","Notificaciones"),r()("nav.nav.flex-column[id='navSection']",[r()("table.table.table-sm[id='table-notificaciones'][width='100%']")]),r()("label.nav-label.mg-t-20.tx-center.d-none",[r()(r().route.Link,{href:"/notificaciones-lab"},["Ver Todo"])])])]}},ka={data:!1,fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+Ra.idPedido}).then(function(e){ka.data=e.data,moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({data:ka.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[0],{view:function(){return"Nuevo Mensaje"==e._aData.title?r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message)])):r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-danger",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message)]))}})})}})}).catch(function(e){})},view:function(){return ka.data?0==ka.data.length?r()("p","Sin Notificaciones"):0!==ka.data.length?ka.data.map(function(e,t,a){if(t<4)return"Nuevo Mensaje"==e.title?r()("div.demo-static-toast.mg-b-5",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),r()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e.message)])):r()("div.demo-static-toast.mg-b-5",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[r()("div.toast-header.bg-danger",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),r()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e.message)]))}):void 0:r()("p.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])}},Sa={messagePedido:null,oncreate:function(){ka.fetch()},sendMessage:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+Ra.idPedido,body:{dataPedido:Ca.data,message:Sa.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Sa.messagePedido="",ka.fetch(),alert("Mensaje enviado con éxito."),La())}).catch(function(e){Ia.error=e.message})},view:function(){return r()("table.table.table-sm[id='table-notificaciones'][width='100%']")}},Ca={data:[],detalle:[],error:"",numPedido:0,fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+Ra.idPedido}).then(function(e){Ca.data=e.data,e.data.DESCRIPCION.map(function(e,t,a){Ca.detalle.push(e),Ia.detalle.push(e),-1!==e.indexOf("-R-")&&(Ca.numPedido=Ca.numPedido+1)})}).catch(function(e){Ca.error=e.message})},view:function(){if(0!==Ia.detalle.length)return Ca.detalle.map(function(e,t,a){return-1!==Ia.detalle[t].indexOf("...")?r()("p.mg-0",Ca.detalle[t]+" "+Ia.detalle[t].split("...")[1]):r()("p.mg-0",Ca.detalle[t])})}},Ia={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:function(){return[r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:Ia.checkedAll,onclick:function(e){Ia.seleccionarTodos(this.checked)}}),r()("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),Ia.detalle.map(function(e,t,a){return-1!==e.indexOf("...")?r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='"+Ra.idPedido+"-"+t+"']",{checked:!0,onclick:function(e){this.checked||(Ia.detalle[t]=Ca.detalle[t],Oa.statusPedido=3,Oa.classPedido="tx-warning",Oa.descPedido="Muestras Pendientes",Ia.checkedAll=!1),Ia.updateDataPedido()},onupdate:function(e){-1!==Ia.detalle[t].indexOf("...")?(Ca.detalle[t],Ia.detalle[t].split("...")[1]):Ca.detalle[t]}}),r()("label.custom-control-label[for='"+Ra.idPedido+"-"+t+"']",-1!==Ia.detalle[t].indexOf("...")?Ca.detalle[t]+Ia.detalle[t].split("...")[1]:Ca.detalle[t])]):r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='"+Ra.idPedido+"-"+t+"']",{onclick:function(e){this.checked&&(Ia.detalle[t]=Ca.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),Ia.updateDataPedido()},onupdate:function(e){-1!==Ia.detalle[t].indexOf("...")?(Ca.detalle[t],Ia.detalle[t].split("...")[1]):Ca.detalle[t]}}),r()("label.custom-control-label[for='"+Ra.idPedido+"-"+t+"']",-1!==Ia.detalle[t].indexOf("...")?Ca.detalle[t]+Ia.detalle[t].split("...")[1]:Ca.detalle[t])])})]},oninit:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+Ra.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Ia.detalle=e.data,ka.fetch())}).catch(function(e){Ia.error=e.message})},updateDataPedido:function(){Ia.validarStatus(),r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+Ra.idPedido,body:{dataPedido:Ia.detalle,statusPedido:Oa.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Ia.detalle=e.data,Ia.validarStatus())}).catch(function(e){Ia.error=e.message})},sendNotiLab:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+Ra.idPedido,body:{dataPedido:Ca.data,message:Ia.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Ia.observaciones="",ka.fetch(),alert("Mensaje enviado con éxito."),La())}).catch(function(e){Ia.error=e.message})},validarStatus:function(){Ia.detalle.map(function(e,t,a){-1!==e.indexOf("...")?0:0})},seleccionarTodos:function(o){return Ia.detalle.map(function(e,t,a){o?(Ia.detalle[t]=Ca.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(Ra.idPedido+"-"+t).checked=!0):(Ia.detalle[t]=Ca.detalle[t],document.getElementById(Ra.idPedido+"-"+t).checked=!1),Ia.detalle.length===t+1&&Ia.updateDataPedido()})}},Oa={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:function(){Ca.fetch()},view:function(){return Ca.error?[r()(".alert.alert-danger[role='alert']",Ca.error)]:0!==Ca.detalle.length?[r()("p.mg-5.tx-20",[r()("i.fas.fa-user.mg-r-5.text-secondary"),Ca.data.NOMBRE_PACIENTE]),r()("p.mg-5.tx-15",["Fecha Pedido: "+Ca.data.FECHA_PEDIDO,2===Oa.statusPedido?[r()("span.tx-indigo.tx-semibold"," Usuario: "+z.user.user)]:""]),r()("p.mg-5",[r()("span.badge.badge-primary.mg-r-5.tx-14","HC: "+Ca.data.HC)]),r()("p.mg-5","Opciones Disponibles:"),r()("hr.wd-100p.mg-t-0.mg-b-5"),r()("p.mg-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){Oa.ver=!0,Oa.editar=!1,Oa.entregar=!1,Oa.enviar=!1,Oa.nuevoMensaje=!1,Oa.labelOperation="Detalle:"}},[r()("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),r()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){Oa.ver=!1,Oa.editar=!1,Oa.entregar=!0,Oa.enviar=!1,Oa.nuevoMensaje=!1,Oa.labelOperation="Enviar Muestras:",Fa.status="Enviada"}},[r()("i.fas.fa-user-edit.mg-r-5")],"Enviar Muestras"),r()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){Oa.ver=!1,Oa.editar=!1,Oa.entregar=!1,Oa.enviar=!1,Oa.nuevoMensaje=!0,Oa.labelOperation="Nuevo Mensaje:"}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14",Oa.labelOperation)]),r()("p.mg-5."+(Oa.ver||Oa.nuevoMensaje?"":"d-none"),[r()(Ca)]),r()("p.mg-5.d-none",[r()(Ia)]),r()("hr.wd-100p.mg-t-0.mg-b-5"),r()("p.mg-5."+(Oa.entregar||Oa.enviar?"":"d-none"),[r()(Fa)]),r()("p.mg-5."+(Oa.ver?"":"d-none"),[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),r()(Sa)]),r()("p.mg-5."+(Oa.nuevoMensaje?"":"d-none"),[r()("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(e){Sa.messagePedido=e.target.value},value:Sa.messagePedido}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==Sa.messagePedido.length?Sa.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),r()("hr.wd-100p.mg-t-0.mg-b-5")]:r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])}},Ra={idPedido:null,oninit:function(e){d.isAuth(),o.page="",ca.page="",Ra.idPedido=e.attrs.idPedido,Ca.data=[],Ca.detalle=[],Ia.detalle=[]},oncreate:function(){document.title="Detalle Pedido N°: "+Ra.idPedido+" | "+d.title},view:function(){return[r()(o,{oncreate:o.setPage("emergencia")}),r()(ca),r()("div.content.content-components",r()("div.container",[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},["Metrovirtual"])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},["Laboratorio"])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle")]),r()("h1.df-title","Detalle de Pedido N°: "+Ra.idPedido),r()("div.row.tx-14",[r()("div.col-12",r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("div.mg-b-25",r()("i.tx-60.fas.fa-file."+Oa.classPedido)),r()("h5.tx-inverse.mg-b-20","Detalle de Pedido N°: "+Ra.idPedido+" - Status: "+Oa.descPedido),r()(Oa)]))])])),r()("div.section-nav",[r()("label.nav-label","Notificaciones"),r()("nav.nav.flex-column[id='navSection']",[r()(ka)])])]}},Na={numero:0,items:[],oninit:function(e){e=e.attrs._id;console.log("idc",e),Na.items[e]={numero:0}},view:function(e){var t=e.attrs._id;return[r()("div.card.text-right",r()("div.card-body",[r()("h5.card-title",Na.items[t].numero),r()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){Na.items[t].numero=Na.items[t].numero+1}},"+"),r()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){Na.items[t].numero=Na.items[t].numero-1}},"-")]))]}},Fa={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+Ra.idPedido,body:{dataPedido:Fa.muestras,statusPedido:Oa.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Oa.statusPedido=e.statusPedido,Fa.detalle=e.data,Fa.validarStatus())}).catch(function(e){Fa.error=e.message})},view:function(){if(0!==Fa.detalle.length)return[r()("div.custom-control.custom-checkbox.tx-18",[r()("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:Fa.checkedAll,onclick:function(e){Fa.seleccionarTodos(this.checked)}}),r()("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),r()("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(Fa.detalle).map(function(t){var a=Fa.muestras[t].toLowerCase().replaceAll(" ","_");return-1!==Fa.detalle[t].indexOf("...")?(void 0!==Na.items[a]&&(Na.items[a].numero=parseFloat(Fa.detalle[t].split("...")[2])),[r()(Na,{_id:a}),r()("div.pd-25.custom-control.custom-checkbox.tx-18",[r()("input.custom-control-input[type='checkbox'][id='"+Fa.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(e){this.checked||(Oa.statusPedido=1,Fa.checkedAll=!1,Fa.detalle[t]=Fa.muestras[t],Na.items[Fa.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),Fa.updateDataMuestras()},onupdate:function(e){-1!==Fa.detalle[t].indexOf("...")?(Fa.muestras[t],Fa.detalle[t].split("...")[1]):Fa.muestras[t]}}),r()("label.custom-control-label[for='"+Fa.detalle[t].toLowerCase().replaceAll(" ","_")+"']",-1!==Fa.detalle[t].indexOf("...")?Fa.muestras[t]+Fa.detalle[t].split("...")[1]:Fa.detalle[t])]),r()("hr.wd-100p.mg-t-0.mg-b-5")]):[r()(Na,{_id:a}),r()("div.pd-25.custom-control.custom-checkbox.tx-18",[r()("input.custom-control-input[type='checkbox'][id='"+Fa.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(e){this.checked&&(Oa.statusPedido=2,Fa.detalle[t]=Fa.muestras[t]+" ... - "+Fa.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+Na.items[a].numero),Fa.updateDataMuestras()},onupdate:function(e){-1!==Fa.detalle[t].indexOf("...")?(Fa.muestras[t],Fa.detalle[t].split("...")[1]):Fa.muestras[t]}}),r()("label.custom-control-label[for='"+Fa.detalle[t].toLowerCase().replaceAll(" ","_")+"']",Fa.detalle[t])]),r()("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:function(a){return a?(Oa.statusPedido=2,Fa.checkedAll=!0):(Oa.statusPedido=1,Fa.checkedAll=!1),[Object.keys(Fa.detalle).map(function(e){var t=Fa.detalle[e].toLowerCase().replaceAll(" ","_");a?(Fa.detalle[e]=Fa.muestras[e]+" ... - "+Fa.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(t).checked=!0):(Fa.detalle[e]=Fa.muestras[e],document.getElementById(t).checked=!1)}),Fa.updateDataMuestras()]},validarStatus:function(){1==Oa.statusPedido&&(Oa.classPedido="tx-gray-500",Oa.descPedido="Pendiente"),2==Oa.statusPedido&&(Oa.classPedido="tx-primary",Oa.descPedido="Gestionado");var t=0;Object.keys(Fa.detalle).map(function(e){-1===Fa.detalle[e].indexOf("...")?(t+=1,Object.keys(Fa.detalle).length===t&&t===Object.keys(Fa.detalle).length&&(Oa.statusPedido,Oa.classPedido="tx-gray-500",Oa.descPedido="Pendiente")):(Oa.statusPedido=2,Oa.classPedido="tx-primary",Oa.descPedido="Gestionado")})},updateDataMuestras:function(){return[Fa.validarStatus(),r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+Ra.idPedido,body:{dataPedido:Fa.detalle,statusPedido:Oa.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Fa.detalle=e.data,Fa.validarStatus())}).catch(function(e){Fa.error=e.message})]}};function La(){var e=$("#table-notificaciones").DataTable();e.clear(),e.rows.add(ka.data).draw()}var Ha=Ra,Ua=wl(1360),Ya={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.farmacia.map(function(e,t,a){return[Ua(Ua.route.Link,{href:"/"+e.href,class:ja.page==e.idModulo?"active":""},[e.label])]})]}},ja={page:"",setPage:function(e){ja.page=e},view:function(){return[Ua(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Ua("div.sidebar-header",[Ua("a[href=''][id='mainMenuOpen']",Ua("i[data-feather='menu']")),Ua("h5","Menu"),Ua("a[href=''][id='sidebarMenuClose']",Ua("i[data-feather='x']"))]),Ua("div.sidebar-body",Ua("ul.sidebar-nav",[Ua("li.nav-label.mg-b-15","Farmacia"),Ua("li.nav-item.show",[Ua(Ua.route.Link,{href:"/farmacia",class:"nav-link with-sub"},[Ua("i[data-feather='layout']")," Farmacia"]),Ua("nav.nav",[Ua(Ya)])])]))])]}},Ba=ja,Va=wl(1360),$a={view:function(){return[Va("div.content.content-components",Va("div.container",{style:{"max-width":"100%"}},[Va("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Va("li.breadcrumb-item",Va(Va.route.Link,{href:"/"},["Metroplus"])),Va("li.breadcrumb-item.active[aria-current='page']","Farmacia")]),Va("h1.df-title.mg-t-20.mg-b-10","Farmacia:"),Va("div.row.tx-14",[d.isShow("farmacia",5)?[Va("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Va.route.set("/farmacia/recetas")}},[Va("div",{class:"media"},[Va("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Va("i",{class:"fas fa-file tx-30 tx-white"})),Va("div",{class:"media-body mg-l-15"},[Va("p",{class:"tx-18 mg-b-0"},"Recetas de Alta"),Va("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recetas de Alta")])])])]:[]])]))]}},za={oninit:function(){o.page="",Ba.page="",d.isAuth()},oncreate:function(){document.title="Farmacia | "+d.title},view:function(){return[Va(o,{oncreate:o.setPage("farmacia")}),Va(Ba),Va($a)]}},Ja=wl(1360),qa={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.admisiones.map(function(e,t,a){return[Ja(Ja.route.Link,{href:"/"+e.href,class:Xa.page==e.idModulo?"active":""},[e.label])]})]}},Xa={page:"",setPage:function(e){Xa.page=e},view:function(){return[Ja(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Ja("div.sidebar-header",[Ja("a[href=''][id='mainMenuOpen']",Ja("i[data-feather='menu']")),Ja("h5","Menu"),Ja("a[href=''][id='sidebarMenuClose']",Ja("i[data-feather='x']"))]),Ja("div.sidebar-body",Ja("ul.sidebar-nav",[Ja("li.nav-label.mg-b-15","Admisiones"),Ja("li.nav-item.show",[Ja(Ja.route.Link,{href:"/admisiones",class:"nav-link with-sub"},[Ja("i[data-feather='layout']")," Admisiones "]),Ja("nav.nav",[Ja(qa)])])]))])]}},Ga=Xa,Za=wl(1360),Ka={view:function(){return[Za("div.content.content-components",Za("div.container",{style:{"max-width":"100%"}},[Za("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Za("li.breadcrumb-item",Za(Za.route.Link,{href:"/"},["Metroplus"])),Za("li.breadcrumb-item.active[aria-current='page']","Admisiones")]),Za("h1.df-title.mg-t-20.mg-b-10","Admisiones:"),Za("div.row.tx-14",[d.isShow("admisiones",7)?[Za("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Za.route.set("/admisiones/pre")}},[Za("div",{class:"media"},[Za("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Za("i",{class:"fas fa-hospital tx-30 tx-white"})),Za("div",{class:"media-body mg-l-15"},[Za("p",{class:"tx-18 mg-b-0"},"Pre Admisiones"),Za("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pre Admisiones")])])])]:[],d.isShow("admisiones",27)?[Za("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Za.route.set("/admisiones/etiquetas")}},[Za("div",{class:"media"},[Za("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Za("i",{class:"fas fa-user-tag tx-30 tx-white"})),Za("div",{class:"media-body mg-l-15"},[Za("p",{class:"tx-18 mg-b-0"},"Impresión de Etiquetas"),Za("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Impresión de Etiquetas")])])])]:[],d.isShow("admisiones",27)?[Za("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Za.route.set("/admisiones/contratos")}},[Za("div",{class:"media"},[Za("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Za("i",{class:"fas fa-file tx-30 tx-white"})),Za("div",{class:"media-body mg-l-15"},[Za("p",{class:"tx-18 mg-b-0"},"Contratos Digitalizados"),Za("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Contratos Digitalizados")])])])]:[]])]))]}},Wa={oninit:function(){o.page="",Ga.page="",d.isAuth()},oncreate:function(){document.title="Admisiones | "+d.title},view:function(){return[Za(o,{oncreate:o.setPage("admisiones")}),Za(Ga),Za(Ka)]}};var Qa={increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(Qa.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=0},toggle:function(e){e.isPaused?Qa.start(e):Qa.stop(e),e.isPaused=!e.isPaused}};function eo(){var t={interval:null,seconds:89,isPaused:!1};return Qa.start(t),{view:function(){return[r()("div.mg-b-20",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play",{onclick:function(){Qa.toggle(t)}})]:[r()("i.fas.fa-pause",{onclick:function(){Qa.toggle(t)}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Qa.stop(t)}}}var to={pacientes:[],oninit:function(e){o.page="",Ga.page="",to.dataPendientesAlta=[],to.dataCamaTotales=[],d.isAuth("admisiones",7)},oncreate:function(e){var t;document.title="Pre Admisiones | "+d.title,function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(e.attrs)&&($(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-data-pacientes").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/admisiones/pre",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.ADM},visible:!0,aTargets:[3]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){to.pacientes.push(e._aData)}),r().redraw.sync(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-preadmisiones").DataTable({data:to.pacientes,dom:"ftp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,pageLength:200,columns:[{title:"FECHA:"},{title:"HC:"},{title:"M° ADM:"},{title:"PACIENTE:"},{title:"F. PROGRAMADA:"},{title:"ADM POSTERIOR:"},{title:"TIPO DCTO.:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.FECHA_PREAD},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.HC},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.ADM},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.NOMBRE_PTE},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.FECHA_POSIBLE_ADM},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.ADMISION_POSTERIOR},visible:!0,aTargets:[5]},{mRender:function(e,t,a){return a.TIPO_DCTO},visible:!0,aTargets:[6]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){},order:[[3,"Desc"]]})},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,i){to.dataPendientesAlta=[],to.camasTotales=[],to.camasTotales=0,void(to.pendienteAlta=0)!==a&&0!==a.delete.length&&(ao("#table-preadmisiones",to.dataPendientesAlta),ao("#table-camas-totales",to.camasTotales)),void 0!==a&&0!==a.create.length&&(ao("#table-preadmisiones",to.dataPendientesAlta),ao("#table-camas-totales",to.camasTotales)),void 0!==a&&0!==Object.keys(a.update).length&&(ao("#table-preadmisiones",to.dataPendientesAlta),ao("#table-camas-totales",to.camasTotales))}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").change(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}))},view:function(e){moment().format("DD-MM-YYYY");return[r()(o,{oncreate:o.setPage("admisiones")}),r()(Ga,{oncreate:Ga.setPage(7)}),r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" Metroplus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admisiones "])),r()("li.breadcrumb-item.active[aria-current='page']","Pre Admisiones")]),r()("h1.df-title.mg-t-20","Pre Admisiones:"),r()("div.row.animated.fadeInUp",{},[r()("div.col-12.mg-b-5.wd-100p.d-none[data-label='Filtrar'][id='filterTable']",r()("div.row",[r()("div.col-sm-12.pd-b-10",r()("div.input-group",[r()(".df-example.demo-forms.wd-100p[data-label='Buscar']",[r()("input.form-control[type='text'][id='searchField'][data-role='tagsinput']",{oncreate:function(){new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("text"),queryTokenizer:Bloodhound.tokenizers.whitespace})}})])]))])),r()("div.col-12",[r()("div.table-loader.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()(eo),r()("table.table.table-xs.d-none[id='table-data-pacientes'][width='100%']"),r()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[r()("h5.mg-b-0","Pre Admisiones de Pacientes: ")]),r()("table.table.table-sm.tx-12[id='table-preadmisiones'][width='100%']")])])])])),r()("div.section-nav",[])]}};function ao(e,t){e=$(e).DataTable();e.clear(),e.rows.add(t).draw()}var oo=to,io=wl(1360),no={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.mantenimiento.map(function(e,t,a){return[io(io.route.Link,{href:"/"+e.href,class:ro.page==e.idModulo?"active":""},[e.label])]})]}},ro={page:"",setPage:function(e){ro.page=e},view:function(){return[io(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[io("div.sidebar-header",[io("a[href=''][id='mainMenuOpen']",io("i[data-feather='menu']")),io("h5","Menu"),io("a[href=''][id='sidebarMenuClose']",io("i[data-feather='x']"))]),io("div.sidebar-body",io("ul.sidebar-nav",[io("li.nav-label.mg-b-15","Mantenimiento"),io("li.nav-item.show",[io(io.route.Link,{href:"/mantenimiento",class:"nav-link with-sub"},[io("i[data-feather='layout']")," Mantenimiento "]),io("nav.nav",[io(no)])])]))])]}},so=ro,lo=wl(1360),co={view:function(){return[lo("div.content.content-components",lo("div.container",{style:{"max-width":"100%"}},[lo("ol.breadcrumb.df-breadcrumbs.mg-b-10",[lo("li.breadcrumb-item",lo(lo.route.Link,{href:"/"},["Metroplus"])),lo("li.breadcrumb-item.active[aria-current='page']","Mantenimiento")]),lo("h1.df-title.mg-t-20.mg-b-10","Mantenimiento:"),lo("div.row.tx-14",[d.isShow("mantenimiento",8)?[lo("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){lo.route.set("/mantenimiento/higienizacion")}},[lo("div",{class:"media"},[lo("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},lo("i",{class:"fas fa-sitemap tx-30 tx-white"})),lo("div",{class:"media-body mg-l-15"},[lo("p",{class:"tx-18 mg-b-0"},"Integración Higienización"),lo("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Integración Higienización")])])])]:[],d.isShow("mantenimiento",40)?[lo("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){lo.route.set("/mantenimiento/configuracion-usrs")}},[lo("div",{class:"media"},[lo("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},lo("i",{class:"fas fa-cog tx-30 tx-white"})),lo("div",{class:"media-body mg-l-15"},[lo("p",{class:"tx-18 mg-b-0"},"Configuración de Roles y Permisos"),lo("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuración de Roles y Permisos")])])])]:[]])]))]}},uo={oninit:function(){o.page="",so.page="",d.isAuth()},loadReport:function(){lo.request({method:"GET",url:"https://api.hospitalmetropolitano.org/v2/medicos/update-logs"}).then(function(e){console.log(e)}).catch(function(e){})},oncreate:function(){document.title="Mantenimiento | "+d.title,setInterval(function(){uo.loadReport()},9e3)},view:function(){return[lo(o,{oncreate:o.setPage("mantenimiento")}),lo(so),lo(co)]}},mo=uo,po={mensajes:[],fetchPacientes:function(){po.showBusquedas="d-none",po.showPacientes="d-none",po.showProcess="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/integracion-higienizacion"}).then(function(e){po.showPacientes="",po.showProcess="d-none",po.mensajes=e.data;e=$("#table-higienizacion").DataTable();e.clear(),e.rows.add(po.mensajes).draw()}).catch(function(e){})},oninit:function(){o.page="",so.page="",po.mensajes=[],d.isAuth()},oncreate:function(){document.title="Integración de Higienización | "+d.title,$(".table-content-in").hide(),$(".table-loader-in").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-inboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-in",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACIÓN:"},{title:"TIMESTAMP:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.status},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.hab},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.timestamp},visible:!0,aTargets:[4],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content-in").show(),$(".table-loader-in").hide()}}).on("xhr.dt",function(e,t,a,o){$(".table-loader-in").hide(),$(".table-content-in").show()}).on("page.dt",function(e,t,a,o){$(".table-loader-in").show(),$(".table-content-in").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$(".table-content-out").hide(),$(".table-loader-out").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-outboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-out",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACIÓN:"},{title:"TIMESTAMP:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.ESTADO},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.PK_FK_HABITACION},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.timestamp},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return'<a href="'+a.URL_LOG+'" role="button" class="btn btn-xs btn-block btn-primary" target="_blank">Ver Log</a>'},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content-out").show(),$(".table-loader-out").hide()}}).on("xhr.dt",function(e,t,a,o){$(".table-loader-out").hide(),$(".table-content-out").show()}).on("page.dt",function(e,t,a,o){$(".table-loader-out").show(),$(".table-content-out").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0})},view:function(){return[r()(o,{oncreate:o.setPage("mantenimiento")}),r()(so,{oncreate:so.setPage(8)}),r()("div.content.content-components",r()("div.container",[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" Metrovirtual "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/mantenimiento"},[" Mantenimiento "])),r()("li.breadcrumb-item.active[aria-current='page']","Integración de Higienización")]),r()("h1.df-title.mg-t-20.mg-b-10","Integración de Higienización:"),r()("div.row.tx-14",[r()("div.col-12.mg-b-10.wd-100p",r()("div.row.mg-t-10",[r()("div.col-sm-12.pd-b-10",[r()("label.nav-label.tx-semibold","Transacciones Inbound:"),r()("hr")])])),r()("div.table-loader-in.col-12.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.table-content-in.col-12.mg-b-10",[r()("div.col-12.pd-r-0.pd-l-0.pd-b-20.",r()("table.table.table-sm[id='table-inboundTRX'][width='100%']"))]),r()("div.col-12.mg-t-10.mg-b-10.wd-100p",r()("div.row.mg-t-10",[r()("div.col-sm-12.pd-b-10",[r()("label.nav-label.tx-semibold","Transacciones Outbound:"),r()("hr")])])),r()("div.table-loader-out.col-12.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.table-content-out.col-12.mg-b-10",[r()("div.col-12.pd-r-0.pd-l-0.pd-b-20.",r()("table.table.table-sm[id='table-outboundTRX'][width='100%']"))])])]))]}};var bo=po,fo=wl(1360),ho={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.hospitalizacion.map(function(e,t,a){return[fo(fo.route.Link,{href:"/"+e.href,class:go.page==e.idModulo?"active":""},[e.label])]})]}},go={page:"",setPage:function(e){go.page=e},view:function(){return[fo(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[fo("div.sidebar-header",[fo("a[href=''][id='mainMenuOpen']",fo("i[data-feather='menu']")),fo("h5","Menu"),fo("a[href=''][id='sidebarMenuClose']",fo("i[data-feather='x']"))]),fo("div.sidebar-body",fo("ul.sidebar-nav",[fo("li.nav-label.mg-b-15","Hospitalización"),fo("li.nav-item.show",[fo(fo.route.Link,{href:"/hospitalizacion",class:"nav-link with-sub"},[fo("i[data-feather='layout']")," Hospitalización "]),fo("nav.nav",[fo(ho)])])]))])]}},vo=go,xo=wl(1360),yo={view:function(){return[xo("div.content.content-components",xo("div.container",[xo("ol.breadcrumb.df-breadcrumbs.mg-b-10",[xo("li.breadcrumb-item",xo(xo.route.Link,{href:"/"},["MetroPlus"])),xo("li.breadcrumb-item.active[aria-current='page']","Hospitalización")]),xo("h1.df-title.mg-t-20.mg-b-10","Hospitalización:"),xo("div.row.tx-14",[d.isShow("hospitalizacion",17)?[xo("div.col-sm-6",xo("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[xo("div.mg-b-25",xo("i.tx-50.tx-gray-500.fas.fa-procedures")),xo("h5.tx-inverse.mg-b-20","Control de Camas GEMA-MV"),xo(xo.route.Link,{href:"/hospitalizacion/control-camas",class:"tx-medium"},["Ir a Control de Camas GEMA-MV",xo("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[],d.isShow("hospitalizacion",9)?[xo("div.col-sm-6",xo("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[xo("div.mg-b-25",xo("i.tx-50.tx-gray-500.fas.fa-file-alt")),xo("h5.tx-inverse.mg-b-20","Pasaportes de Pacientes"),xo(xo.route.Link,{href:"/hospitalizacion/pasaportes",class:"tx-medium"},["Ir a Pasaportes de Pacientes",xo("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[]])]))]}},wo={oninit:function(){o.page="",vo.page="",d.isAuth()},oncreate:function(){document.title="Hospitalización | "+d.title},view:function(){return[xo(o,{oncreate:o.setPage("hospitalizacion")}),xo(vo),xo(yo)]}},_o={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:function(){o.page="",vo.page="",_o.searchField="",_o.showBusquedas="",_o.pacientes=[],d.isAuth()},oncreate:function(){document.title="Hospitalización Pasaportes | "+d.title},view:function(){return[r()(o,{oncreate:o.setPage("hospitalizacion")}),r()(vo,{oncreate:vo.setPage(9)}),r()("div.content.content-components",r()("div.container",[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" Metrovirtual "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/hospitalizacion"},[" Hospitalización "])),r()("li.breadcrumb-item.active[aria-current='page']","Pasaportes de Pacientes")]),r()("h1.df-title.mg-t-20.mg-b-10","Pasaportes de Pacientes"),r()("div.row.tx-14",[r()("div.col-12.mg-b-10.wd-100p",r()("div.row.mg-t-10",[r()("div.col-sm-12.pd-b-10.mg-b-10",[r()("label.nav-label.tx-semibold","Búsqueda de Pacientes:"),r()("hr")])])),r()("div.table-loader.col-12.wd-100p",{class:_o.showProcess},r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.col-12",{class:"d-none"},[r()("label.nav-label.tx-semibold","Búsquedas Recientes:"),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",r()("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),r()("div.section-nav",[r()("label.nav-label.mg-b-10","Opciones Pacientes"),r()("a.nav-link[href='#section1']","Feather Icons")])]}},Eo=_o,Ao={view:function(e){return[r()("p.mg-0",[r()("div.tx-12",1==e.attrs.DIFERENCIA?[r()("span",{class:"badge badge-danger mg-l-5 mg-r-5",title:"Diferencia"},[],"X")]:[],"CAMAS TOTAL"!==e.attrs.TIPO?[r()("span.wd-20p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.TIPO)]:[],null!==e.attrs.NOMBRE_GEMA?[r()("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],"NOMBRE GEMA: "+e.attrs.NOMBRE_GEMA)]:[],r()("span.wd-10p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.HABITACION_GEMA),r()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),e.attrs.NHCL,r()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO GEMA"),e.attrs.ESTADO_GEMA,r()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO MV"),e.attrs.ESTADO_MV,null!==e.attrs.NOMBRE_MV?[r()("span.wd-100p",{class:"badge badge-dark mg-l-5 mg-r-5"},[],"NOMBRE MV: "+e.attrs.NOMBRE_MV)]:[])])]}},Do={view:function(e){return[r()("p.mg-0",[r()("div.tx-12",r()("span.wd-10p",{class:"badge badge-danger mg-l-5 mg-r-5"},e.attrs.HABITACION_MV),r()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),e.attrs.NHCL,r()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ATENCION MV"),e.attrs.ATENCION_MV,null!==e.attrs.NOMBRE_MV?[r()("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.NOMBRE_MV)]:[])])]}},To={error:"",data:[],dataMuestras:[],fetch:function(){To.error="",To.data=[],r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-lab",body:{numeroPedido:ko.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(To.data=e.data,ko.data=e.data[0],ko.validarStatus()):To.error=e.message}).catch(function(e){})}},Mo={tuboLila:1,tuboRojo:1,tuboCeleste:1,tuboNegro:1,tuboVerde:1,gsav:1,hemocultivo:1,qtb:1},Po={checkedAll:!1,seleccionarTodos:function(o){Po.checkedAll=o;var i=moment().format("DD-MM-YYYY HH:mm");return To.data.map(function(e,t,a){o?(To.data[t].STATUS_TOMA=i,To.data[t].customCheked=!0,Po.udpateStatusTomaMuestra(To.data[t].CD_EXA_LAB,1)):(To.data[t].STATUS_TOMA="",To.data[t].customCheked=!1,Po.udpateStatusTomaMuestra(To.data[t].CD_EXA_LAB,2))})},udpateStatusTomaMuestra:function(e,t){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-status-pedido-lab",body:{numeroPedido:ko.numeroPedido,cod_exa_lab:e,sts:t},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),ko.validarStatus()}).catch(function(e){})},view:function(){return To.error?[r()("p.mg-0",To.error)]:0!==To.data.length?[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("div.mg-b-30",r()("i.tx-60.fas.fa-file."+ko.classPedido)),r()("h5.tx-inverse.mg-b-10","Detalle de Pedido N°: "+ko.numeroPedido+" - Status: "+ko.descSstatusPedido),"R"==ko.data.TIPO_PEDIDO?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],r()("p.mg-5.tx-20.mg-t-10",[r()("i.fas.fa-user.mg-r-8.text-secondary"),ko.data.PTE_MV]),r()("p.mg-5.tx-15",["Fecha Pedido: ",ko.data.FECHA_TOMA]),r()("p.mg-5.tx-15",["Médico: ",ko.data.MED_MV]),r()("p.mg-5.tx-15",["Ubicaciòn: ",ko.data.SECTOR,": ",ko.data.CAMA]),r()("p.mg-5",["Historía Clínica: "]),r()("p.mg-5",[r()("span.badge.badge-primary.mg-r-5.tx-14","GEMA: "+ko.data.HC_MV+"01"),r()("span.badge.badge-success.mg-r-5.tx-14","MV: "+ko.data.HC_MV)]),r()("ul.nav.nav-tabs.mg-t-15[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link.active[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']","Detalle Pedido")),r()("li.nav-item",r()("a.nav-link[id='profile-tab'][data-toggle='tab'][href='#profile'][role='tab'][aria-controls='profile'][aria-selected='false']","Toma de Muestras"))]),r()(".tab-content.bd.bd-gray-300.bd-t-0.pd-20.mg-t-10[id='myTabContent']",[r()(".tab-pane.fade.show.active[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[To.error?[r()("p.mg-0",To.error)]:void 0!==To.data&&0!==To.data.length?[r()("h6","Detalle Pedido:"),r()("div.table-responsive",r()("table.table.table-dashboard.mg-b-0",[r()("thead",r()("tr",[r()("th","FECHA PROGRAMADA"),r()("th","FECHA TOMA MUESTRA"),r()("th","FECHA RECEP. LAB."),r()("th.text-right","EXAMEN")])),r()("tbody",[To.data.map(function(e,t,a){return[r()("tr",[r()("td.tx-color-03.tx-normal",e.FECHA_TOMA+" "+e.HORA_TOMA),r()("td.tx-color-03.tx-normal",0!==e.STATUS_TOMA.length?e.STATUS_TOMA:"Pendiente"),r()("td.tx-color-03.tx-normal",0!==e.STATUS_TOMA.length?e.STATUS_TOMA:"Pendiente"),r()("td.tx-medium.text-right",e.NM_EXA_LAB)])]})])]))]:r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])]),r()(".tab-pane.fade[id='profile'][role='tabpanel'][aria-labelledby='profile-tab']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Registro de Toma de Muestras")]),r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-left","EXAMEN"),r()("th","FECHA DE TOMA DE MUESTRA")])),r()("tbody",[r()("tr.d-none",[r()("td.tx-normal",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:Po.checkedAll,onclick:function(e){Po.seleccionarTodos(this.checked)}}),r()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),r()("td.tx-medium.text-right")]),To.data.map(function(t,a,e){return[r()("tr",[r()("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:To.data[a].customCheked,onupdate:function(e){this.checked=To.data[a].customCheked},onclick:function(e){e.preventDefault();e=this.checked;To.data[a].customCheked=!To.data[a].customCheked,e?(this.checked=!0,To.data[a].STATUS_TOMA=moment().format("DD-MM-YYYY HH:mm"),Po.udpateStatusTomaMuestra(t.CD_EXA_LAB,1)):(this.checked=!1,Po.checkedAll=!1,To.data[a].STATUS_TOMA="",Po.udpateStatusTomaMuestra(t.CD_EXA_LAB,2))}}),r()("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",(To.data[a].STATUS_TOMA.length,To.data[a].STATUS_TOMA))]))])]})])])),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Registro de Insumos")]),r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-left","INSUMOS"),r()("th.text-left","CANTIDAD")])),r()("tbody",[r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']"),r()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Mo.tuboLila},onupdate:function(e){e.dom.innerText=Mo.tuboLila}})),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboLila++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboLila--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']"),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Mo.tuboRojo},onupdate:function(e){e.dom.innerText=Mo.tuboRojo}})),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboRojo++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboRojo--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']"),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Mo.tuboCeleste},onupdate:function(e){e.dom.innerText=Mo.tuboCeleste}})),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboCeleste++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboCeleste--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']"),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Mo.tuboNegro},onupdate:function(e){e.dom.innerText=Mo.tuboNegro}})),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboNegro++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboNegro--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']"),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Mo.tuboVerde},onupdate:function(e){e.dom.innerText=Mo.tuboVerde}})),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboVerde++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){Mo.tuboVerde--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']"),r()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Mo.gsav},onupdate:function(e){e.dom.innerText=Mo.gsav}})),r()("button.btn.btn[type='button']",{onclick:function(){Mo.gsav++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){Mo.gsav--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']"),r()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Mo.hemocultivo},onupdate:function(e){e.dom.innerText=Mo.hemocultivo}})),r()("button.btn.btn[type='button']",{onclick:function(){Mo.hemocultivo++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){Mo.hemocultivo--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']"),r()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Mo.qtb},onupdate:function(e){e.dom.innerText=Mo.qtb}})),r()("button.btn.btn[type='button']",{onclick:function(){Mo.qtb++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){Mo.qtb--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])]))])])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]}},ko={numeroPedido:"",numeroHistoriaClinica:"",track:"",data:[],classPedido:"",descSstatusPedido:"",validarStatus:function(){for(var e=0;e<To.data.length;e++)0!==To.data[e].STATUS_TOMA.length&&(To.data[e].customCheked=!0);for(var t=0,a=0,e=0;e<To.data.length;e++)0!==To.data[e].STATUS_RESULTADO.length&&t++,0!==To.data[e].STATUS_TOMA.length&&a++;To.data.length!==a&&To.data.length!==t&&(ko.classPedido="tx-warning",ko.descSstatusPedido="Muestras Pendientes"),To.data.length==a&&To.data.length!==t&&(Po.checkedAll=!0,ko.classPedido="tx-orange",ko.descSstatusPedido="Pendiente Resultado"),To.data.length==a&&To.data.length==t&&(Po.checkedAll=!0,ko.classPedido="tx-success",ko.descSstatusPedido="Finalizado - Gestionado")},view:function(){return[r()("div.animated.fadeInUp",{class:0!==h.showBitacora.length?"":"d-none"},[r()(Po)])]}};var So={increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(So.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=0},toggle:function(e){e.isPaused?So.start(e):So.stop(e),e.isPaused=!e.isPaused}};function Co(){var t={interval:null,seconds:89,isPaused:!1};return So.start(t),{view:function(){return[r()("div.mg-t-30.mg-b-20",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play",{onclick:function(){So.toggle(t)}})]:[r()("i.fas.fa-pause",{onclick:function(){So.toggle(t)}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){So.stop(t)}}}var h={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,showCamasDisponibles:!1,showPendientesAlta:!1,showEstadoCamas:!1,showHigienizacion:!1,oninit:function(e){Oo(e.attrs)?h.showBitacora="":(h.showBitacora="d-none",ko.numeroPedido=e.attrs.numeroPedido),o.page="",vo.page="",h.dataPendientesAlta=[],h.dataCamaTotales=[],h.camasTotales=0,h.pendienteAlta=0,d.isAuth("hospitalizacion",17)},oncreate:function(e){document.title="Caja Recepción Turnos | "+d.title,Oo(e.attrs)?($(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-control-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-control-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"100%",orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){var t;$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){h.dataCamaTotales.push(e._aData),1==e._aData.DIFERENCIA&&h.camasTotales++,"SIN ALTA EN MV"==e._aData.TIPO&&(h.pendienteAlta++,h.dataPendientesAlta.push(e._aData)),"GEMA Y MV"==e._aData.TIPO&&h.gemaMV++}),r().redraw.sync(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-pendientes-alta").DataTable({data:h.dataPendientesAlta,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,pageLength:40,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[0],{view:function(){return r()(Do,e._aData)}})})}}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-camas-totales").DataTable({data:h.dataCamaTotales,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,pageLength:20,columns:!1,aoColumnDefs:[{mRender:function(e,t,a){return a.DIFERENCIA},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.TIPO},visible:!1,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.NOMBRE_GEMA},visible:!1,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NOMBRE_MV},visible:!1,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return""},visible:!0,width:"100%",aTargets:[4],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[4],{view:function(){return r()(Ao,e._aData)}})})}}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()})},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,i){h.dataPendientesAlta=[],h.camasTotales=[],h.camasTotales=0,void(h.pendienteAlta=0)!==a&&0!==a.delete.length&&(Io("#table-pendientes-alta",h.dataPendientesAlta),Io("#table-camas-totales",h.camasTotales)),void 0!==a&&0!==a.create.length&&(Io("#table-pendientes-alta",h.dataPendientesAlta),Io("#table-camas-totales",h.camasTotales)),void 0!==a&&0!==Object.keys(a.update).length&&(Io("#table-pendientes-alta",h.dataPendientesAlta),Io("#table-camas-totales",h.camasTotales))}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")}),$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-status-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-status-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"N°:"},{title:"ÁREA:"},{title:"COVID:"},{title:"DISPONIBLES:"},{title:"EN LIMPIEZA:"},{title:"OCUPADAS:"},{title:"TOTAL CAMAS:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.AREA},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.COVID},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.DISPONIBLES<5?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+a.DISPONIBLES+"</span></div>":a.DISPONIBLES},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.EN_LIMPIEZA>a.DISPONIBLES?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+a.EN_LIMPIEZA+"</span></div>":a.EN_LIMPIEZA},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return a.OCUPADAS},visible:!0,aTargets:[5],orderable:!1},{mRender:function(e,t,a){return a.TOTAL_CAMAS},visible:!0,aTargets:[6],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,i){}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")})):To.fetch()},onupdate:function(e){Oo(e.attrs)?h.showBitacora="":h.showBitacora="d-none"},view:function(e){var t=moment().format("DD-MM-YYYY");return Oo(e.attrs)?h.showBitacora="":h.showBitacora="d-none",[r()(o,{oncreate:o.setPage("hospitalizacion")}),r()(vo,{oncreate:vo.setPage(17)}),r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" Metrovirtual "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/hospitalizacion"},[" Hospitalización "])),r()("li.breadcrumb-item.active[aria-current='page']","Control de Camas GEMA-MV:")]),r()("h1.df-title.mg-t-20.mg-b-10","Control de Camas GEMA-MV:"),r()("div.d-lg-none.d-md-block.mg-t-10.mg-b-10.bg-white",r()("div.col-12.mg-t-30.mg-lg-t-0",r()("div.row",[r()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),r()("span.tx-10.tx-color-04","Hoy, "+t)]),r()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==h.pendienteAlta?[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=h.pendienteAlta+" Paciente(s)"},onupdate:function(e){e.dom.innerText=h.pendienteAlta+" Paciente(s)"}})]]),0==h.pendienteAlta?[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),r()("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),r()("span.tx-10.tx-color-04","Hoy, "+t)]),r()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==h.camasTotales?[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=h.camasTotales+" Paciente(s)"},onupdate:function(e){e.dom.innerText=h.camasTotales+" Paciente(s)"}})]]),0==h.camasTotales?[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])]))),r()("div.row.animated.fadeInUp",{class:h.showBitacora},[r()("div.col-12",[r()("div.table-loader.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()(Co),r()("div.mg-b-10",{style:"cursor:pointer;",onclick:function(e){h.showCamasDisponibles=!h.showCamasDisponibles}},[r()("div.d-flex",[r()("div.flex-grow-1",r()("h5.mg-b-0","Camas Disponibles GEMA: ")),r()("div",r()("h5.mg-b-0",h.showCamasDisponibles?[r()("i.fas.fa-times-circle")," Cerrar"]:[r()("i.fas.fa-eye")," Ver"])),r()("hr")])]),r()("div",{class:h.showCamasDisponibles?"":"d-none"},[r()("table.table.table-xs.mg-b-10[id='table-status-camas'][width='100%']")]),r()("table.table.table-xs.d-none[id='table-control-camas'][width='100%']"),r()("div.mg-b-10",{style:"cursor:pointer;",onclick:function(e){h.showPendientesAlta=!h.showPendientesAlta}},[r()("div.d-flex",[r()("div.flex-grow-1",r()("h5.mg-b-0","Pendientes de Alta MV: ")),r()("div",r()("h5.mg-b-0",h.showPendientesAlta?[r()("i.fas.fa-times-circle")," Cerrar"]:[r()("i.fas.fa-eye")," Ver"])),r()("hr")])]),r()("div",{class:h.showPendientesAlta?"":"d-none"},[r()("table.table.table-xs[id='table-pendientes-alta'][width='100%']")]),r()("div.mg-b-10",{style:"cursor:pointer;",onclick:function(e){h.showEstadoCamas=!h.showEstadoCamas}},[r()("div.d-flex",[r()("div.flex-grow-1",r()("h5.mg-b-0","Estado de Camas: ")),r()("div",r()("h5.mg-b-0",h.showEstadoCamas?[r()("i.fas.fa-times-circle")," Cerrar"]:[r()("i.fas.fa-eye")," Ver"])),r()("hr")])]),r()("div",{class:h.showEstadoCamas?"":"d-none"},[r()("div",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']")),r()("table.table.table-xs[id='table-camas-totales'][width='100%']")]),r()("div.mg-b-10",{style:"cursor:pointer;",onclick:function(e){h.showHigienizacion=!h.showHigienizacion}},[r()("div.d-flex",[r()("div.flex-grow-1",r()("h5.mg-b-0","Higienización ")),r()("div",r()("h5.mg-b-0",h.showHigienizacion?[r()("i.fas.fa-times-circle")," Cerrar"]:[r()("i.fas.fa-eye")," Ver"])),r()("hr")])]),r()("div",{class:h.showHigienizacion?"":"d-none"},[r()("div",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']")),r()("table.table.table-xs[id='table-higienizacion'][width='100%']")])])])]),r()(ko)])),r()("div.section-nav",[r()("label.nav-label","Control de Camas"),r()("div.mg-t-10.bg-white",r()("div.col-12.mg-t-30.mg-lg-t-0",r()("div.row",[r()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),r()("span.tx-10.tx-color-04","Hoy, "+t)]),r()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==h.pendienteAlta?[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=h.pendienteAlta+" Paciente(s)"},onupdate:function(e){e.dom.innerText=h.pendienteAlta+" Paciente(s)"}})]]),0==h.pendienteAlta?[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),r()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),r()("span.tx-10.tx-color-04","Hoy, "+t)]),r()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==h.camasTotales?[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=h.camasTotales+" Paciente(s)"},onupdate:function(e){e.dom.innerText=h.camasTotales+" Paciente(s)"}})]]),0==h.camasTotales?[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),r()("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","GEMA Y MV"),r()("span.tx-10.tx-color-04","Hoy, "+t)]),r()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==h.gemaMV?[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[r()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=h.gemaMV+" Paciente(s)"},onupdate:function(e){e.dom.innerText=h.gemaMV+" Paciente(s)"}})]]),0==h.gemaMV?[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])])))])]}};function Io(e,t){e=$(e).DataTable();e.clear(),e.rows.add(t).draw()}function Oo(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}var Ro=h,No={data:[],fetch:function(){No.data=[];for(var e=0;e<Fo.dataFiltros.length;e++)Fo.dataFiltros[e].id==Fo.idFiltro&&(No.data=Fo.dataFiltros[e])},view:function(){return 0!==Fo.showBitacora.length&&0!==No.data.length?[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){Fo.showBitacora="",No.data=[],r().route.set("/laboratorio/notificaciones/filtros",{})}}))),r()("div.mg-b-30",r()("i.tx-40.fas.fa-filter.")),r()("p.mg-5.tx-right",[r()("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:function(){}},r()("i.fas.fa-edit.mg-r-5")," Editar "),r()("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:function(){}},r()("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),r()("h5.tx-inverse.mg-b-10","Filtro: "+No.data.nombre),0==No.data.ene?[r()("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[r()("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],null!==No.data.x_servicio?[r()("h5.tx-inverse.mg-b-10","Por Servicio: "+No.data.x_servicio)]:[],null!==No.data.x_origen?[r()("h5.tx-inverse.mg-b-10","Por Origen: "+No.data.x_origen)]:[],null!==No.data.x_motivo?[r()("h5.tx-inverse.mg-b-10","Por Motivo: "+No.data.x_motivo)]:[],null!==No.data.x_especialidad?[r()("h5.tx-inverse.mg-b-10","Por Especialidad: "+No.data.x_especialidad)]:[],null!==No.data.x_medico?[r()("h5.tx-inverse.mg-b-10","Por Médico: "+No.data.x_medico)]:[],null!==No.data.x_idprueba?[r()("h5.tx-inverse.mg-b-10","Por Id Prueba: "+No.data.x_idprueba)]:[]])]:0!==Fo.showBitacora.length?[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]:void 0}},Fo={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",searchField:"",fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=filtradas"}).then(function(e){var t;Fo.dataFiltros=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-NotificacionesPendientesLab").DataTable({data:Fo.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N°:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.sc},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.apellidosPaciente+" "+a.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide()}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()})}).catch(function(e){})},oninit:function(e){o.page="",i.page="",Fo.dataPendientesAlta=[],Fo.dataCamaTotales=[],Fo.camasTotales=0,Fo.pendienteAlta=0,d.isAuth("laboratorio",15)},oncreate:function(e){document.title="Notificaciones Enviadas | "+d.title,Fo.fetch()},view:function(e){return void 0!==e.attrs&&void 0!==e.attrs.idFiltro?(Fo.idFiltro=e.attrs.idFiltro,Fo.showBitacora="d-none",No.fetch(),console.log(No.data)):(Fo.idFiltro="",Fo.showBitacora=""),[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container",{style:{"max-width":"none"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Pendientes")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Pendientes:"),r()("div.row.animated.fadeInUp",{class:Fo.showBitacora},[r()("div.col-12",[r()("div.filemgr-content-header.",[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),r()("div.mg-t-90.table-loader.wd-100p",r()("div.placeholder-paragraph.",[r()("div.line"),r()("div.line")])),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[r()("table.table.table-sm.tx-12[id='table-NotificacionesPendientesLab'][width='100%']")])])]),r()(No)]))]}};var Lo=Fo;var Ho={oncreate:function(){Uo.loadNotificacionesErroresLab(),0!==Uo.searchField.length&&$("#table-NotificacionesErroresLab").DataTable().search(Uo.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Notificaciones con Error:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==Uo.idFiltro&&(e.dom.innerHTML="Notificaciones con Error de Hoy"),2==Uo.idFiltro&&(e.dom.innerHTML="Notificaciones con Error entre Fechas")},onupdate:function(e){1==Uo.idFiltro&&(e.dom.innerHTML="Notificaciones con Error de Hoy"),2==Uo.idFiltro&&(e.dom.innerHTML="Notificaciones con Error entre Fechas")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==Uo.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==Uo.idFiltro?moment(moment(Uo.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){Uo.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),Uo.loader=!0,Uo.NotificacionesErroresLab=[],Uo.fetchNotificacionesErroresLab(),r().route.set("/imagen/NotificacionesErroresLab?idFiltro="+Uo.idFiltro+"&fechaDesde="+Uo.fechaDesde+"&fechaHasta="+Uo.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==Uo.idFiltro?moment(moment(Uo.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){Uo.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),Uo.loader=!0,Uo.NotificacionesErroresLab=[],Uo.fetchNotificacionesErroresLab(),r().route.set("/imagen/NotificacionesErroresLab?idFiltro="+Uo.idFiltro+"&fechaDesde="+Uo.fechaDesde+"&fechaHasta="+Uo.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesErroresLab/?idFiltro=1"},["Notificaciones de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesErroresLab/?idFiltro=2&fechaDesde="+Uo.fechaDesde+"&fechaHasta="+Uo.fechaHasta},["Notificaciones entre Fechas"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==Uo.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){Uo.searchField=e.target.value},value:Uo.searchField}))]),r()("table.table.table-sm.tx-11[id='table-NotificacionesErroresLab'][width='100%']")])])])}},Uo={notificaciones:[],NotificacionesErroresLab:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){i.page="",0==Uo.NotificacionesErroresLab.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Uo.fechaDesde=moment().subtract(2,"days").format("DD-MM-YYYY"),Uo.fechaHasta=moment().format("DD-MM-YYYY"),Uo.loader=!0,Uo.NotificacionesErroresLab=[],Uo.fetchNotificacionesErroresLab())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-NotificacionesErroresLab")},loadNotificacionesErroresLab:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesErroresLab").DataTable({data:Uo.NotificacionesErroresLab,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Pedido N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.wd-5p.tx-13",{class:"bg-primary",title:t.origen},[r()("span.badge.badge-pill.badge-primary.mg-b-1","R")]),r()("td.wd-15p.tx-13",r()(".d-inline.mg-r-5",t.fechaExamen+" "+t.horaExamen)),r()("td.tx-center.tx-13",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.sc.slice(2))),r()("td.tx-13",{style:{}},[r()(".d-inline.mg-r-5.tx-uppercase",t.origen),r()("br"),"PTE: "+t.apellidosPaciente+" "+t.nombresPaciente]),r()("td","MED: "+t.medico),r()("td.tx-center.tx-15.wd-15p",r()(".btn-group.btn-group-sm[role='group']",[r()("button.btn.btn-secondary.tx-12",{onclick:function(){$("#modalViewLogs").modal("show");var e={numeroHistoriaClinica:t.numeroHistoriaClinica,apellidosPaciente:t.apellidosPaciente,nombresPaciente:t.nombresPaciente,sc:t.sc,fechaExamen:t.fechaExamen,horaExamen:t.horaExamen,origen:t.origen,servicio:t.servicio,medico:t.medico,motivo:t.motivo,ultimoFiltrado:t.ultimoFiltrado,reglasFiltrosNoEnvio:t.reglasFiltrosNoEnvio};document.getElementById("logRes").innerHTML=at(e)}},[" Ver Logs "]),r()("button.btn.btn-secondary.tx-12",{onclick:function(){$("#modalViewQR").modal("show");var e=document.querySelector("canvas.qr");Ze.toCanvas(e,t.urlResultado)}},[" Ver QR "]),r()(r().route.Link,{href:t.urlResultado,class:"button btn btn-secondary tx-12",target:"_blank"},[" Link Resultado "])]))]}})},drawCallback:function(e){Uo.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchNotificacionesErroresLab:function(){var e="",e=1==Uo.idFiltro?"&idFiltro="+Uo.idFiltro:"&idFiltro="+Uo.idFiltro+"&fechaDesde="+Uo.fechaDesde+"&fechaHasta="+Uo.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=error"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Uo.loader=!1,Uo.NotificacionesErroresLab=e.data}).catch(function(e){setTimeout(function(){Uo.fetchNotificacionesErroresLab()},2e3)})},reloadData:function(){var e=$("#table-NotificacionesErroresLab").DataTable();e.clear(),e.rows.add(Uo.NotificacionesErroresLab).draw()},view:function(e){return Uo.loader?[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==Uo.error.length?[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),r()("div.row.animated.fadeInUp",[r()("p","No existe infrmac dd ncin")])]))]:Uo.loader||0===Uo.NotificacionesErroresLab.length?Uo.loader||0!=Uo.NotificacionesErroresLab.length?[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),r()(Ho)])),r()(".modal.calendar-modal-event[id='modalViewQR'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-sm[role='document']",r()("div.modal-content",[r()("div.modal-header.bg-primary",[r()("h6.event-title","QR Resultado:"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("div.col-sm-12",[r()("label.tx-11.tx-medium.tx-spacing-1.tx-color-03","*Escanee con su télefono para continuar."),r()("p.event-start-date.tx-center",[r()("canvas.qr.wd-100p")])])])])]))),r()(".modal.calendar-modal-event[id='modalViewLogs'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",r()("div.modal-content",[r()("div.modal-header.bg-primary",[r()("h6.event-title","Logs Resultado:"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("pre.json-container[id='logRes']")])])])))]}},Yo=Uo,jo=wl(1360),Bo={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess["terapia-respiratoria"].map(function(e,t,a){return[jo(jo.route.Link,{href:"/"+e.href,class:Vo.page==e.idModulo?"active":""},[e.label])]})]}},Vo={page:"",setPage:function(e){Vo.page=e},view:function(){return[jo(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[jo("div.sidebar-header",[jo("a[href=''][id='mainMenuOpen']",jo("i[data-feather='menu']")),jo("h5","Menu"),jo("a[href=''][id='sidebarMenuClose']",jo("i[data-feather='x']"))]),jo("div.sidebar-body",jo("ul.sidebar-nav",[jo("li.nav-label.mg-b-15","Terapia Respiratoria"),jo("li.nav-item.show",[jo(jo.route.Link,{href:"/terapia-respiratoria",class:"nav-link with-sub"},[jo("i[data-feather='layout']")," Terapia Respiratoria "]),jo("nav.nav",[jo(Bo)])])]))])]}},$o=Vo,zo=wl(1360),Jo={listado:[],listadoUnitario:[],listaEscalaDelDolor:[],examenes:[],error:"",secuencialMuestra:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",medico:"",loading:!1,idRespuesta:"",cargarEscalaDelDolor:function(e){Jo.loading=!0,zo.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/tr/formularios/sv?PARAM=ESCALA_DOLOR&CD_ATENDIMENTO=".concat(e),body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(e){e.status&&0<e.data.length&&null!=e.data[0].VALUE&&(Jo.listaEscalaDelDolor=e,Jo.loading=!1)}).catch(function(e){Jo.error=e,alert(Jo.error)})},cargarListado:function(t){Jo.loading=!0,Jo.idRespuesta="",zo.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/tr/formularios/historial?numeroPedido="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(e){Jo.listado=e.data,Jo.loading=!1,Jo.idRespuesta=t}).catch(function(e){Jo.loading=!1,Jo.error=e,alert(Jo.error)})},cargarUnFormulario:function(e){Jo.loading=!0,zo.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/tr/formularios-terapia?ID="+e,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(e){Jo.listadoUnitario=e.data[0],Jo.loading=!1}).catch(function(e){Jo.loading=!1,Jo.error=e,alert(Jo.error)})},guardar:function(t){Jo.loading=!0,zo.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/tr/formularios-terapia",body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(e){Jo.cargarListado(t.NUMERODEPEDIDO),Jo.loading=!1,window.location.reload()}).catch(function(e){Jo.error="Se produjo modificando el estado: "+e.response.message,alert(Jo.error)})},modificarEstado:function(e){zo.request({method:"PUT",url:"https://api.hospitalmetropolitano.org/t/v1/nuevo-status-pedido-tr",body:e,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(e){window.location.href=window.location.href}).catch(function(e){Jo.error="Se produjo error actualizando el estado: "+e.response.message,alert(Jo.error)})},actualizar:function(t){zo.request({method:"PUT",url:"https://api.hospitalmetropolitano.org/t/v1/tr/formularios-terapia",body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(e){Jo.cargarListado(t.NUMERODEPEDIDO)}).catch(function(e){Jo.error="Se produjo error editando el formulario: "+e.response.message,alert(Jo.error)})}},qo=Jo,Xo=qo;var Go={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(Go.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Go.start(e):Go.stop(e),e.isPaused=!e.isPaused}};function Zo(){var t={interval:null,seconds:100,isPaused:!1};return Go.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Go.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Go.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Go.stop(t)}}}var Ko={oncreate:function(){g.loadPedidos(),0!==g.searchField.length&&$("#table-pedidos").DataTable().search(g.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Pedidos de Terapia Respiratoria:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==g.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==g.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==g.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==g.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización"),5==g.idFiltro&&(e.dom.innerHTML="Pedidos de PB"),6==g.idFiltro&&(e.dom.innerHTML="Pedidos de H1"),7==g.idFiltro&&(e.dom.innerHTML="Pedidos de H2"),8==g.idFiltro&&(e.dom.innerHTML="Pedidos de C2"),9==g.idFiltro&&(e.dom.innerHTML="UCI")},onupdate:function(e){1==g.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==g.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==g.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==g.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización"),5==g.idFiltro&&(e.dom.innerHTML="Pedidos de PB"),6==g.idFiltro&&(e.dom.innerHTML="Pedidos de H1"),7==g.idFiltro&&(e.dom.innerHTML="Pedidos de H2"),8==g.idFiltro&&(e.dom.innerHTML="Pedidos de C2"),9==g.idFiltro&&(e.dom.innerHTML="UCI")}})),r()("div.d-flex.tx-14",[r()(".",{class:1<g.idFiltro?"d-flex":"d-none"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1<g.idFiltro?moment(moment(g.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){g.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),g.loader=!0,g.pedidos=[],g.fetchPedidos(),r().route.set("/terapia-respiratoria/pedidos?idFiltro="+g.idFiltro+"&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1<g.idFiltro?moment(moment(g.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){g.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),g.loader=!0,g.pedidos=[],g.fetchPedidos(),r().route.set("/terapia-respiratoria/pedidos?idFiltro="+g.idFiltro+"&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["Pedidos entre Fechas"]),r()(r().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item ",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["Pedidos de Hospitalización"]),r()(r().route.Link,{class:"dropdown-item ",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["Pedidos de PB"]),r()(r().route.Link,{class:"dropdown-item ",href:"/terapia-respiratoria/pedidos/?idFiltro=6&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["Pedidos de H1"]),r()(r().route.Link,{class:"dropdown-item ",href:"/terapia-respiratoria/pedidos/?idFiltro=7&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["Pedidos de H2"]),r()(r().route.Link,{class:"dropdown-item ",href:"/terapia-respiratoria/pedidos/?idFiltro=8&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["Pedidos de C2"]),r()(r().route.Link,{class:"dropdown-item ",href:"/terapia-respiratoria/pedidos/?idFiltro=9&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["UCI"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1<g.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){g.searchField=e.target.value},value:g.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},g={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){$o.page=""},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Terapia-Respiratoria")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:g.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.AT_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{oninit:function(){Xo.cargarListado(t.CD_PRE_MED),console.log(Xo.idRespuesta)},view:function(){return[r()("div.d-flex",{},[r()("div.pd-0.flex-grow-1",r()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},r()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),r()(".d-inline.tx-15.mg-r-5",t.CD_PRE_MED),r()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),r()(".tx-semibold.d-inline.tx-12"," SECTOR: "),r()(".d-inline.tx-12.mg-r-5",null!==t.SECTOR?t.SECTOR+" "+t.UBICACION:"No Disponible"),r()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),r()(".tx-semibold.d-inline.tx-12"," MED: "),t.MED_MV)),r()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},(null!==t.EDAD?t.EDAD:"")+(null!==t.PESO?" - "+t.PESO:"")+(null!==t.ALTURA?" - "+t.ALTURA:""))]),r()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[r()("div.pd-0.flex-grow-1",r()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==t.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==t.SECTOR?"E":"H"),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO),r()("td",{class:0!==t.STS?"bg-success":"bg-warning"},0!==t.STS?"En Revisión":"Sin Revisión"),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},t.CD_PACIENTE),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},t.AT_MV),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},t.NM_PACIENTE)),r()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},r()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},r()(r().route.Link,{class:"tx-dark",href:"/terapia-respiratoria/pedido/",target:"_blank",params:{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"}},r()(".tx-normal",r()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido"))))])]}})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==g.idFiltro?"?idFiltro="+g.idFiltro:"?idFiltro="+g.idFiltro+"&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/terapia-respiratoria/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){g.loader=!1,g.pedidos=e.data}).catch(function(e){})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(g.pedidos).draw()},view:function(e){return g.loader?[r()($o,{oncreate:$o.setPage(18)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==g.error.length?[r()($o,{oncreate:$o.setPage(18)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("p","No existe infrmac dd ncin")])]))]:0==g.pedidos.length||0!==g.pedidos.length?[r()($o,{oncreate:$o.setPage(18)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()(Ko)])),r()("div.section-nav",[r()("label.nav-label","RECEPCIÓN DE PEDIDOS:"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","N° de Pedidos:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",g.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(Zo)))])]:[r()($o,{oncreate:$o.setPage(18)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]}},Wo=g;var Qo=wl(1360),ei={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.neurofisiologia.map(function(e,t,a){return[Qo(Qo.route.Link,{href:"/"+e.href,class:ti.page==e.idModulo?"active":""},[e.label])]})]}},ti={page:"",setPage:function(e){ti.page=e},view:function(){return[Qo(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Qo("div.sidebar-header",[Qo("a[href=''][id='mainMenuOpen']",Qo("i[data-feather='menu']")),Qo("h5","Menu"),Qo("a[href=''][id='sidebarMenuClose']",Qo("i[data-feather='x']"))]),Qo("div.sidebar-body",Qo("ul.sidebar-nav",[Qo("li.nav-label.mg-b-15","Neurofisiología"),Qo("li.nav-item.show",[Qo(Qo.route.Link,{href:"/neurofisiologia",class:"nav-link with-sub"},[Qo("i[data-feather='layout']")," Neurofisiología "]),Qo("nav.nav",[Qo(ei)])])]))])]}},ai=ti;var oi={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(oi.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?oi.start(e):oi.stop(e),e.isPaused=!e.isPaused}};function ii(){var t={interval:null,seconds:100,isPaused:!1};return oi.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){oi.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){oi.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){oi.stop(t)}}}var ni={oncreate:function(){v.loadPedidos(),0!==v.searchField.length&&$("#table-pedidos").DataTable().search(v.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Pedidos de Neurofisiología:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==v.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==v.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==v.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==v.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==v.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==v.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==v.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==v.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==v.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==v.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==v.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==v.idFiltro?moment(moment(v.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){v.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),v.loader=!0,v.pedidos=[],v.fetchPedidos(),r().route.set("/neurofisiologia/pedidos?idFiltro="+v.idFiltro+"&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==v.idFiltro?moment(moment(v.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){v.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),v.loader=!0,v.pedidos=[],v.fetchPedidos(),r().route.set("/neurofisiologia/pedidos?idFiltro="+v.idFiltro+"&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=2&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta},["Pedidos entre Fechas"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=3&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=4&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta},["Pedidos de C. Externa"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=5&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta},["Pedidos de Hospitalización"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==v.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){v.searchField=e.target.value},value:v.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},v={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){ai.page="",0==v.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),v.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),v.fechaHasta=moment().format("DD-MM-YYYY"),v.loader=!0,v.pedidos=[],v.fetchPedidos())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Imagen")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:v.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){v.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),r().mount(e.anCells[5],{view:function(){return[r()("div.d-flex",{},[r()("div.pd-0.flex-grow-1",r()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},r()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),r()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),r()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),r()(".tx-semibold.d-inline.tx-12"," SECTOR: "),r()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),r()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),r()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),r()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),r()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[r()("div.pd-0.flex-grow-1",r()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),r()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},r()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){r().route.set("/neurofisiologia/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},r()(".tx-normal",r()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==v.idFiltro?"?idFiltro="+v.idFiltro:"?idFiltro="+v.idFiltro+"&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/neuro/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){v.loader=!1,v.pedidos=e.data}).catch(function(e){setTimeout(function(){v.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(v.pedidos).draw()},view:function(e){return v.loader?[r()(ai,{oncreate:ai.setPage(20)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==v.error.length?[r()(ai,{oncreate:ai.setPage(20)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("p","No existe infrmac dd ncin")])]))]:v.loader||0===v.pedidos.length?v.loader||0!=v.pedidos.length?[r()(ai,{oncreate:ai.setPage(20)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(ai,{oncreate:ai.setPage(20)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(ai,{oncreate:ai.setPage(20)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()(ni)])),r()("div.section-nav",[r()("label.nav-label","Recepción de Pedidos"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","N° de NeuroPedidos:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",v.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(ii)))])]}},ri=v,di=wl(1360),si={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.imagen.map(function(e,t,a){return[di(di.route.Link,{href:"/"+e.href,class:li.page==e.idModulo?"active":""},[e.label])]})]}},li={page:"",setPage:function(e){li.page=e},view:function(){return[di(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[di("div.sidebar-header",[di("a[href=''][id='mainMenuOpen']",di("i[data-feather='menu']")),di("h5","Menu"),di("a[href=''][id='sidebarMenuClose']",di("i[data-feather='x']"))]),di("div.sidebar-body",di("ul.sidebar-nav",[di("li.nav-label.mg-b-15","Imagen"),di("li.nav-item.show",[di(di.route.Link,{href:"/imagen",class:"nav-link with-sub"},[di("i[data-feather='layout']")," Imagen "]),di("nav.nav",[di(si)])])]))])]}},ci=li;var ui={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(ui.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?ui.start(e):ui.stop(e),e.isPaused=!e.isPaused}};function mi(){var t={interval:null,seconds:100,isPaused:!1};return ui.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){ui.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){ui.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ui.stop(t)}}}var pi={oncreate:function(){x.loadPedidos(),0!==x.searchField.length&&$("#table-pedidos").DataTable().search(x.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Pedidos de Imagen:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==x.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==x.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==x.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==x.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==x.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==x.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==x.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==x.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==x.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==x.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==x.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==x.idFiltro?moment(moment(x.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){x.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),x.loader=!0,x.pedidos=[],x.fetchPedidos(),r().route.set("/imagen/pedidos?idFiltro="+x.idFiltro+"&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==x.idFiltro?moment(moment(x.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){x.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),x.loader=!0,x.pedidos=[],x.fetchPedidos(),r().route.set("/imagen/pedidos?idFiltro="+x.idFiltro+"&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta},["Pedidos entre Fechas"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta},["Pedidos de C. Externa"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta},["Pedidos de Hospitalización"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==x.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){x.searchField=e.target.value},value:x.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},x={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){ci.page="",0==x.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),x.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),x.fechaHasta=moment().format("DD-MM-YYYY"),x.loader=!0,x.pedidos=[],x.fetchPedidos())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Imagen")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:x.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){x.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),r().mount(e.anCells[5],{view:function(){return[r()("div.d-flex",{},[r()("div.pd-0.flex-grow-1",r()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},r()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),r()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),r()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),r()(".tx-semibold.d-inline.tx-12"," SECTOR: "),r()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),r()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),r()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),r()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),r()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[r()("div.pd-0.flex-grow-1",r()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),r()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},r()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){r().route.set("/imagen/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},r()(".tx-normal",r()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==x.idFiltro?"?idFiltro="+x.idFiltro:"?idFiltro="+x.idFiltro+"&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/imagen/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){x.loader=!1,x.pedidos=e.data}).catch(function(e){setTimeout(function(){x.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(x.pedidos).draw()},view:function(e){return x.loader?[r()(ci,{oncreate:ci.setPage(24)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==x.error.length?[r()(ci,{oncreate:ci.setPage(24)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("p","No existe infrmac dd ncin")])]))]:x.loader||0===x.pedidos.length?x.loader||0!=x.pedidos.length?[r()(ci,{oncreate:ci.setPage(24)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(ci,{oncreate:ci.setPage(24)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(ci,{oncreate:ci.setPage(24)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()(pi)])),r()("div.section-nav",[r()("label.nav-label","RECEPCIÓN DE PEDIDOS"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","N° de Pedidos:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",x.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(mi)))])]}},bi=x,fi={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==hi.num&&setTimeout(function(){hi.num=hi.data.length,hi.parseFetch(),r().redraw.sync()},2e3),0==fi.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+hi.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[fi.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=hi.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:hi.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",fi.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",fi.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",fi.sexo)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",fi.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",fi.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",fi.edad||fi.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",fi.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",fi.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",fi.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",fi.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",fi.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},hi={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){fi.secs.push(o.data[e])}),fi.secs.map(function(e,t,a){"nombres"==e.name&&(fi.nombres=e.answer),"apellidos_paciente"==e.name&&(fi.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(fi.sexo=e.answer),"nhcl"==e.name&&(fi.nhcl=e.answer),"numero_admision"==e.name&&(fi.numero_admision=e.answer),"edad"==e.name&&(fi.edad=e.answer),"edad_paciente"==e.name&&(fi.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(fi.identificacion=e.answer),"fecha_admision"==e.name&&(fi.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(fi.ubicacion=e.answer),"fecha_alta"==e.name&&(fi.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(fi.medico_tratante=e.answer)})},parseFetch:function(){return fi.secs=[],hi.data.map(function(e,t,a){hi.parseDoc(hi.data[t])})},fetch:function(){hi.data=[],hi.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+hi.nhc+"&adm="+hi.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(hi.data=e,hi.num=0):hi.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){hi.fetch()},5e3)})},view:function(){return hi.error?[r()(".alert.alert-danger[role='alert']",hi.error)]:0!==hi.data.length?[r()(fi)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},gi={data:[],detalle:[],error:"",showFor:"",fetch:function(){gi.data=[],gi.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:xi.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(gi.data=e.data,hi.adm=gi.data[0].ADM,hi.nhc=gi.data[0].NHCL,hi.fetch()):gi.error=e.message}).catch(function(e){setTimeout(function(){gi.fetch()},5e3)})},view:function(){return gi.error?[r()(".alert.alert-danger[role='alert']",gi.error)]:0!==gi.data.length?[r()(hi)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},vi={view:function(){if(0!==xi.examenes.length)return xi.examenes.map(function(e,t,a){return[r()(".tx-14.tx-semibold.d-inline",e.EXAMEN),null!==e.OBS_EXAMEN?[r()("br"),r()(".d-inline","Observaciones:"),r()("br"),r()(".d-inline",e.OBS_EXAMEN),r()("br"),r()("br")]:""]})}},xi={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==xi.data&&0==xi.data.length||xi.numeroPedido!==e.attrs.numeroPedido)&&(xi.numeroPedido=e.attrs.numeroPedido,xi.numeroAtencion=e.attrs.numeroAtencion,xi.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,xi.fetch()))},fetch:function(){xi.data=[],xi.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-imagen",body:{numeroPedido:xi.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(xi.loader=!1,xi.data=e.data,xi.examenes=e.examenes,gi.fetch()):xi.error=e.message}).catch(function(e){})},view:function(e){return[r()(o,{oncreate:o.setPage("imagen")}),r()(ci,{oncreate:ci.setPage(24)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+xi.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){xi.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){xi.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){xi.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){xi.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==bi.idFiltro&&1<bi.idFiltro?r().route.set("/imagen/pedidos/",{idFiltro:bi.idFiltro,fechaDesde:bi.fechaDesde,fechaHasta:bi.fechaHasta}):r().route.set("/imagen/pedidos/",{idFiltro:1})}}))),"R"==xi.data.TIPO_PEDIDO?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),r()("td",{style:{"background-color":"#eaeff5"}},xi.data.CD_PRE_MED),r()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},xi.data.FECHA_PEDIDO+" "+xi.data.HORA_PEDIDO),r()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},xi.data.SECTOR)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},xi.data.MED_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},xi.data.ESPECIALIDAD)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},xi.data.NM_PACIENTE),r()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),r()("td",{style:{"background-color":"#eaeff5"}},xi.data.EDAD),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},xi.data.CD_PACIENTE)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),r()("td",{style:{"background-color":"#eaeff5"}},xi.data.AT_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),r()("td",{style:{"background-color":"#eaeff5"}},xi.data.PESO+"Kg."),r()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),r()("td",{style:{"background-color":"#eaeff5"}},xi.data.ALTURA+"m."),r()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},xi.data.SECTOR+" "+xi.data.UBICACION)]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},r()(vi))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(gi)])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}},yi=xi,wi=wl(1360),_i={view:function(){return[wi("div.content.content-components",wi("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[wi("ol.breadcrumb.df-breadcrumbs.mg-b-10",[wi("li.breadcrumb-item",wi(wi.route.Link,{href:"/"},["MetroPlus"])),wi("li.breadcrumb-item.active[aria-current='page']","Imagen")]),wi("h1.df-title.mg-t-20.mg-b-10","Imagen:"),wi("div.row.tx-14",[d.isShow("imagen",24)?[wi("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){wi.route.set("/imagen/pedidos")}},[wi("div",{class:"media"},[wi("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},wi("i",{class:"fas fa-inbox tx-30 tx-white"})),wi("div",{class:"media-body mg-l-15"},[wi("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),wi("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[],d.isShow("imagen",31)?[wi("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){wi.route.set("/imagen/agendamiento")}},[wi("div",{class:"media"},[wi("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},wi("i",{class:"fas fa-calendar tx-30 tx-white"})),wi("div",{class:"media-body mg-l-15"},[wi("p",{class:"tx-18 mg-b-0"},"Agendamiento de Imagen"),wi("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Agendamiento de Imagen")])])])]:[],d.isShow("imagen",35)?[wi("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){wi.route.set("/imagen/notificaciones")}},[wi("div",{class:"media"},[wi("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},wi("i",{class:"fas fa-bell tx-30 tx-white"})),wi("div",{class:"media-body mg-l-15"},[wi("p",{class:"tx-18 mg-b-0"},"Notificaciones de Imagen"),wi("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Imagen")])])])]:[]])]))]}},Ei={oninit:function(){o.page="",ci.page="",d.isAuth()},oncreate:function(){document.title="Imagen | "+d.title},view:function(){return[wi(o,{oncreate:o.setPage("imagen")}),wi(ci),wi(_i)]}},Ai=wl(1360),Di={view:function(){return[Ai("div.content.content-components",Ai("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[Ai("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Ai("li.breadcrumb-item",Ai(Ai.route.Link,{href:"/"},["MetroPlus"])),Ai("li.breadcrumb-item.active[aria-current='page']","Neurofisiología")]),Ai("h1.df-title.mg-t-20.mg-b-10","Neurofisiología:"),Ai("div.row.tx-14",[d.isShow("neurofisiologia",20)?[Ai("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Ai.route.set("/neurofisiologia/pedidos")}},[Ai("div",{class:"media"},[Ai("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Ai("i",{class:"fas fa-inbox tx-30 tx-white"})),Ai("div",{class:"media-body mg-l-15"},[Ai("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),Ai("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},Ti={oninit:function(){o.page="",ai.page="",d.isAuth()},oncreate:function(){document.title="Neurofisiología | "+d.title},view:function(){return[Ai(o,{oncreate:o.setPage("neurofisiologia")}),Ai(ai),Ai(Di)]}},Mi={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==Pi.num&&setTimeout(function(){Pi.num=Pi.data.length,Pi.parseFetch(),r().redraw.sync()},2e3),0==Mi.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Pi.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[Mi.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Pi.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:Pi.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",Mi.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",Mi.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Mi.sexo)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Mi.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Mi.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",Mi.edad||Mi.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Mi.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Mi.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Mi.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",Mi.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",Mi.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Pi={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Mi.secs.push(o.data[e])}),Mi.secs.map(function(e,t,a){"nombres"==e.name&&(Mi.nombres=e.answer),"apellidos_paciente"==e.name&&(Mi.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Mi.sexo=e.answer),"nhcl"==e.name&&(Mi.nhcl=e.answer),"numero_admision"==e.name&&(Mi.numero_admision=e.answer),"edad"==e.name&&(Mi.edad=e.answer),"edad_paciente"==e.name&&(Mi.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Mi.identificacion=e.answer),"fecha_admision"==e.name&&(Mi.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Mi.ubicacion=e.answer),"fecha_alta"==e.name&&(Mi.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Mi.medico_tratante=e.answer)})},parseFetch:function(){return Mi.secs=[],Pi.data.map(function(e,t,a){Pi.parseDoc(Pi.data[t])})},fetch:function(){Pi.data=[],Pi.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Pi.nhc+"&adm="+Pi.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Pi.data=e,Pi.num=0):Pi.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Pi.fetch()},5e3)})},view:function(){return Pi.error?[r()(".alert.alert-danger[role='alert']",Pi.error)]:0!==Pi.data.length?[r()(Mi)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},ki={data:[],detalle:[],error:"",showFor:"",fetch:function(){ki.data=[],ki.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Ci.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(ki.data=e.data,Pi.adm=ki.data[0].ADM,Pi.nhc=ki.data[0].NHCL,Pi.fetch()):ki.error=e.message}).catch(function(e){setTimeout(function(){ki.fetch()},5e3)})},view:function(){return ki.error?[r()(".alert.alert-danger[role='alert']",ki.error)]:0!==ki.data.length?[r()(Pi)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},Si={view:function(){if(0!==Ci.examenes.length)return Ci.examenes.map(function(e,t,a){return[r()(".tx-14.tx-semibold.d-inline",e.EXAMEN),r()("br"),null!==e.OBS_EXAMEN?r()(".d-inline","Observaciones:"):"",null!==e.OBS_EXAMEN?r()("br"):"",null!==e.OBS_EXAMEN?r()(".d-inline",e.OBS_EXAMEN):""]})}},Ci={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==Ci.data&&0==Ci.data.length||Ci.numeroPedido!==e.attrs.numeroPedido)&&(Ci.numeroPedido=e.attrs.numeroPedido,Ci.numeroAtencion=e.attrs.numeroAtencion,Ci.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,Ci.fetch()))},fetch:function(){Ci.data=[],Ci.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-neuro",body:{numeroPedido:Ci.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Ci.loader=!1,Ci.data=e.data,Ci.examenes=e.examenes,ki.fetch()):Ci.error=e.message}).catch(function(e){})},view:function(e){return[r()(o,{oncreate:o.setPage("neurofisiologia")}),r()(ai,{oncreate:ai.setPage(20)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/neurofisiologia"},["Neurofisiología"])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Ci.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){Ci.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){Ci.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){Ci.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){Ci.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==ri.idFiltro&&1<ri.idFiltro?r().route.set("/neurofisiologia/pedidos/",{idFiltro:ri.idFiltro,fechaDesde:ri.fechaDesde,fechaHasta:ri.fechaHasta}):r().route.set("/neurofisiologia/pedidos/",{idFiltro:1})}}))),"N"==Ci.data.TIPO_NeuroPedido?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[r()("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Urgente")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Normal")],r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL NeuroPedido:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° de NeuroPedido:"),r()("td",{style:{"background-color":"#eaeff5"}},Ci.data.CD_PRE_MED),r()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ci.data.FECHA_PEDIDO+" "+Ci.data.HORA_PEDIDO),r()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ci.data.SECTOR)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ci.data.MED_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ci.data.ESPECIALIDAD)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ci.data.NM_PACIENTE),r()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),r()("td",{style:{"background-color":"#eaeff5"}},Ci.data.EDAD),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ci.data.CD_PACIENTE)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),r()("td",{style:{"background-color":"#eaeff5"}},Ci.data.AT_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),r()("td",{style:{"background-color":"#eaeff5"}},Ci.data.PESO),r()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),r()("td",{style:{"background-color":"#eaeff5"}},Ci.data.ALTURA),r()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ci.data.SECTOR+" "+Ci.data.UBICACION)]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},r()(Si))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(ki)])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}},Ii=Ci,Oi=wl(1360),Ri={view:function(){return[Oi("div.content.content-components",Oi("div.container",{style:{"max-width":"100%"}},[Oi("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Oi("li.breadcrumb-item",Oi(Oi.route.Link,{href:"/"},["MetroPlus"])),Oi("li.breadcrumb-item.active[aria-current='page']","Terapia Respiratoria")]),Oi("h1.df-title.mg-t-20.mg-b-10","Terapia Respiratoria:"),Oi("div.row.tx-14",[d.isShow("terapia-respiratoria",18)?[Oi("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Oi.route.set("/terapia-respiratoria/pedidos")}},[Oi("div",{class:"media"},[Oi("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Oi("i",{class:"fas fa-inbox tx-30 tx-white"})),Oi("div",{class:"media-body mg-l-15"},[Oi("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),Oi("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},Ni={oninit:function(){o.page="",$o.page="",d.isAuth()},oncreate:function(){document.title="Terapia Respiratoria | "+d.title},view:function(){return[Oi(o,{oncreate:o.setPage("terapia-respiratoria")}),Oi($o),Oi(Ri)]}};function Fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o,i,n,r,d=[],s=!0,l=!1;try{if(n=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(o=n.call(a)).done)&&(d.push(o.value),d.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(l)throw i}}return d}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Li(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Li(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function Hi(){var e=new Date,t=(t=e.getDate())<10?"0".concat(t):t,a=(a=e.getMonth()+1)<10?"0".concat(a):a,o=e.getFullYear(),i=(i=e.getHours())<10?"0".concat(i):i,e=(e=e.getMinutes())<10?"0".concat(e):e;return"".concat(t,"-").concat(a,"-").concat(o," ").concat(i,":").concat(e)}function Ui(){var e=new Date,t=(t=e.getHours())<10?"0".concat(t):t,e=(e=e.getMinutes())<10?"0".concat(e):e;return"".concat(t,":").concat(e)}function Yi(e){return/[-+e]/.test(e)}function ji(){var e=navigator.userAgent;return e.match(/Android/i)||e.match(/iPad|iPhone|iPod/i)?"Tablet":"Computador"}function Bi(e){var t="";return 0<e.length&&(t+=e.substring(0,2),3<=e.length&&(t+="/"+e.substring(2,4)),5<=e.length&&(t+="/"+e.substring(4,8)),9<=e.length&&(t+=" "+e.substring(8,10)),11<=e.length&&(t+=":"+e.substring(10,12)),13<=e.length&&(t+=":"+e.substring(12,14))),t}function Vi(e){return e&&2===e.length}function $i(e,t,a,o,i,n){var r="";return e<t?r="La fecha y hora no pueden ser menores a la fecha del pedido":a<e?r="La fecha y hora no pueden ser mayores a la actual":(t=o,a=i,o=n,(i=e).getDate()===parseInt(t)&&i.getMonth()===parseInt(a)&&i.getFullYear()===parseInt(o)||(r="La fecha ingresada no es válida")),r}var zi=qo,Ji=!1,qi=!1,Xi=!1,Gi=!1,Zi=!1,Ki=!1,Wi=!1,Qi=!1,en=!1,tn=!1,an=!1,on=!1,nn=!1,rn=!1,dn=!1,sn=!1,ln=!1,cn=!1,un=!1,mn=!1,pn=!1,bn=!1,fn=!1,hn=!1,gn=!1,vn=!1,xn=!1,yn=!1,wn=!1,_n=!1,En=!1,An=!1,Dn=!1,Tn=!1,Mn=!1,Pn=!1,kn=!1,Sn=!1,Cn=!1,In=!1,On=!1,Rn=!1,Nn=!1,Fn={usuarioConectado:"",valoresCheckBox:{},date:(hd=Fi([(hd=new Date).getDate(),hd.getMonth()+1,hd.getFullYear()].map(function(e){return String(e).padStart(2,"0")}),3),br=hd[0],id=hd[1],hd=hd[2],"".concat(br,"/").concat(id,"/").concat(hd," ")),actualizarValorCheckbox:function(e,t){Fn.valoresCheckBox[e]=t},validarFechaHoraRegistro:function(){return!!Fn.isValidDate||(alert(Fn.errorMessage||"Error en la fecha y hora del registro"),!1)},oninit:function(){zi.cargarEscalaDelDolor(dr.data.AT_MV),Fn.usuarioConectado=B.getDataUser()},view:function(a){return r()("form",[r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputNumeroPedido"},r()("b","Número de Pedido")),r()("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputNumeroPedido",value:dr.data.CD_PRE_MED})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputFechaPedido"},r()("b","Fecha y Hora")),r()("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputFechaPedido",value:dr.data.FECHA_PEDIDO+" "+dr.data.HORA_PEDIDO})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputOrigenPedido"},r()("b","Origen")),r()("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputOrigenPedido",value:dr.data.SECTOR})]))]),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputMedicoSolicitante"},r()("b","Medico Solicitante")),r()("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputMedicoSolicitante",value:dr.data.MED_MV})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputEspecialidad"},r()("b","Especialidad")),r()("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputEspecialidad",value:dr.data.ESPECIALIDAD})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputApellidosYNombres"},r()("b","Apellidos y Nombres del Paciente")),r()("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputApellidosYNombres",value:dr.data.NM_PACIENTE})]))]),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputNHC"},r()("b","NHC")),r()("input",{class:"form-control",type:"text",id:"inputNHC",readonly:"readonly",value:dr.data.CD_PACIENTE})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputNumeroAtencion"},r()("b","Número de Atención")),r()("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputNumeroAtencion",value:dr.data.AT_MV})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputUbicacion"},r()("b","Ubicación")),r()("input",{class:"form-control",type:"text",id:"inputUbicacion",readonly:"readonly",value:dr.data.SECTOR+" "+dr.data.UBICACION})]))]),r()("div",{class:"form-row"},[r()("div",{class:"form-group col-md-5"},[r()("label",{for:"inputEscalaDolor"},"Escala Dolor"),r()("input",{class:"form-control",type:"text",id:"inputEscalaDolor",placeholder:"Escala Dolor",readonly:"readonly",value:zi.listaEscalaDelDolor&&zi.listaEscalaDelDolor.data&&0<zi.listaEscalaDelDolor.data.length&&null!==zi.listaEscalaDelDolor.data[0].VALUE?zi.listaEscalaDelDolor.data[0].VALUE:""})]),r()("div",{class:"form-group col-md-2"},[r()("label",{for:"inputPeso"},"Peso"),r()("input",{class:"form-control",type:"text",id:"inputPeso",placeholder:"Peso",readonly:"readonly",value:dr.data.PESO})]),r()("div",{class:"form-group col-md-5"},[r()("label",{for:"inputUsuario"},"Usuario"),r()("input",{class:"form-control",type:"text",id:"inputUsuario",placeholder:"Usuario",readonly:"readonly",value:Fn.usuarioConectado.user.user})])]),r()("div",{class:"form-group"},[r()("label",{for:"inputPrescripcion"},"Prescripción"),r()("div",{},dr.examenes.forEach(function(e){var t=e.EXAMEN,a=e.FRECUENCIA,o=e.IT_PRE_MED,e=e.COMPONENTE,t="".concat(t).concat(e||""," - ").concat(a);Fn.valoresCheckBox[t]||(Fn.valoresCheckBox[t]={checked:!1,cd_itpre_med:Number(o)})}),dr.examenes.map(function(e){var t=e.EXAMEN,a=e.FRECUENCIA,e=e.COMPONENTE,o="".concat(t).concat(e||""," - ").concat(a);return r()("div",{class:"form-check"},[r()("input",{type:"checkbox",class:"form-check-input",id:o,value:o,checked:Fn.valoresCheckBox[o].checked,onclick:function(e){e=e.target.checked;Fn.valoresCheckBox[o].checked=e}}),r()("label",{class:"form-check-label ml-2",for:o},"".concat(t).concat(e||""," - ").concat(a))])}))]),r()("div",{class:"form-group"},[r()("label",{for:"inputFecha"},"Fecha"),r()("input",{class:"form-control",type:"text",id:"inputFecha",placeholder:"Fecha",value:Hi(),readonly:"readonly"})]),r()("div",{class:"form-group"},[r()("label",{for:"inputHora"},"Hora"),r()("input",{class:"form-control",type:"text",id:"inputHora",placeholder:"Hora",value:Ui(),readonly:"readonly"})]),[r()("div",{class:"d-flex justify-content-center"},r()("h6","Terapia Aerosol")),r()("div",{class:"row d-flex justify-content-center"},[r()("div",{class:"col text-center"},r()("div",{class:"mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputNebulizacion",onclick:function(e){Ji=e.target.checked}}),r()("label",{class:"form-label",for:"inputNebulizacion"},"Nebulización")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputUltrasonido",onclick:function(e){qi=e.target.checked}}),r()("label",{class:"form-label",for:"inputUltrasonido"},"Ultrasonido")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputInahaladorDosis",onclick:function(e){Xi=e.target.checked}}),r()("label",{class:"form-label",for:"inputInahaladorDosis"},"Inhaladores Dosis Medida")]))]),r()("div",{class:"d-flex justify-content-center"},r()("h6","Medicinas")),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputSalbumatol"},r()("b","Salbutamol")),r()("input",{class:"form-control",type:"text",id:"inputSalbumatol",maxlength:"30"})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputHipersal"},r()("b","Hipersal (7%)")),r()("input",{class:"form-control",type:"text",id:"inputHipersal",maxlength:"30"})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputHipersal3"},r()("b","Hipersal (3,5%)")),r()("input",{class:"form-control",type:"text",id:"inputHipersal3",maxlength:"30"})]))]),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputDexametasona"},r()("b","Dexametasona")),r()("input",{class:"form-control",type:"text",id:"inputDexametasona",maxlength:"30"})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputClorhidratoAmbroxol"},r()("b","Clorhidrato de Ambroxol")),r()("input",{class:"form-control",type:"text",id:"inputClorhidratoAmbroxol",maxlength:"30"})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputSolucionSalina"},r()("b","Solución Salina (0,9%)")),r()("input",{class:"form-control",type:"text",id:"inputSolucionSalina",maxlength:"30"})]))]),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputBromuroIpatropio"},r()("b","Bromuro de Ipratropio")),r()("input",{class:"form-control",type:"text",id:"inputBromuroIpatropio",maxlength:"30"})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputAdrenalinaRacenica"},r()("b","Adrenalina Racénica")),r()("input",{class:"form-control",type:"text",id:"inputAdrenalinaRacenica",maxlength:"30"})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputNAcetilcisteina"},r()("b","N Acetilcisteina")),r()("input",{class:"form-control",type:"text",id:"inputNAcetilcisteina",maxlength:"30"})]))]),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputOtros"},r()("b","Otros")),r()("textarea",{class:"form-control",id:"inputOtros",maxlength:"4000"})]))])],[r()("div",{class:"container"},[r()("div",{class:"row justify-content-center"},[r()("div",{class:"col-12 col-md-6 text-center"},[r()("h6","Higiene Bronco Pulmonar")])]),r()("div",{class:"row justify-content-center"},[r()("div",{class:"col-6 col-md-2 text-center mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"${inputPercursiones}",id:"inputPercursiones",onclick:function(e){Zi=e.target.checked}}),r()("label",{class:"form-label",for:"inputPercursiones"},"Percursiones")]),r()("div",{class:"col-6 col-md-2 text-center mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"${inputDrenajePostural}",id:"inputDrenajePostural",onclick:function(e){Gi=e.target.checked}}),r()("label",{class:"form-label",for:"inputDrenajePostural"},"Drenaje Postural")]),r()("div",{class:"col-6 col-md-2 text-center mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"${inputVibraciones}",id:"inputVibraciones",onclick:function(e){Ki=e.target.checked}}),r()("label",{class:"form-label",for:"inputVibraciones"},"Vibraciones")]),r()("div",{class:"col-6 col-md-2 text-center mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"${inputTosEfectiva}",id:"inputTosEfectiva",onclick:function(e){Wi=e.target.checked}}),r()("label",{class:"form-label",for:"inputTosEfectiva"},"Tos Efectiva")]),r()("div",{class:"col-6 col-md-2 text-center mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"${inputAsistenteTos}",id:"inputAsistenteTos",onclick:function(e){Qi=e.target.checked}}),r()("label",{class:"form-label",for:"inputAsistenteTos"},"Asistente de Tos")]),r()("div",{class:"col-6 col-md-2 text-center mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"${inputChalecoVibroprecutor}",id:"inputChalecoVibroprecutor",onclick:function(e){en=e.target.checked}}),r()("label",{class:"form-label",for:"inputChalecoVibroprecutor"},"Chaleco Vibroprecutor")])])])],[r()("div",{class:"container"},[r()("div",{class:"d-flex justify-content-center"},[r()("h6","Terapia Expansiva")]),r()("div",{class:"row justify-content-center"},[r()("div",{class:"col-12 col-md-4 text-center mb-1"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputIncentivoRespiratorio",onclick:function(e){tn=e.target.checked}}),r()("label",{class:"form-label",for:"inputIncentivoRespiratorio"},"Incentivo Respiratorio")]),r()("div",{class:"col-12 col-md-4 text-center mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputPresionPositivaContinuaEnLaViaAeria",onclick:function(e){an=e.target.checked}}),r()("label",{class:"form-label",for:"inputPresionPositivaContinuaEnLaViaAeria"},"Presión Positiva continua en la vía aérea")]),r()("div",{class:"col-12 col-md-4 text-center mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputPresionPositivaAlFinalDeLaExpiracion",onclick:function(e){on=e.target.checked}}),r()("label",{class:"form-label",for:"inputPresionPositivaAlFinalDeLaExpiracion"},"Presión Positiva al final de la expiración")]),r()("div",{class:"col-12 col-md-4 text-center mb-1"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputKinesioterapiaDelTorax",onclick:function(e){nn=e.target.checked}}),r()("label",{class:"form-label",for:"inputKinesioterapiaDelTorax"},"Kinesioterapia del tórax")]),r()("div",{class:"col-12 col-md-4 text-center mb-1"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputEjerciciosRespiratorios",onclick:function(e){rn=e.target.checked}}),r()("label",{class:"form-label",for:"inputEjerciciosRespiratorios"},"Ejercicios respiratorios")])])]),r()("div",{class:"d-flex justify-content-center"},r()("h6","Incentivo Respiratorio")),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputMililitrosPorSegundo"},r()("b","Mililitros por segundo")),r()("input",{class:"form-control",type:"number",id:"inputMililitrosPorSegundo",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||1e4<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputCentimetrosCubicosPorSegundo"},r()("b","Centímetros cúbicos por segundo")),r()("input",{class:"form-control",type:"number",id:"inputCentimetrosCubicosPorSegundo",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||1e4<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))])],[r()("br"),r()("br"),r()("div",{class:"d-flex justify-content-center"},r()("h6","Oxigenoterapia")),r()("h6","Fracción inspirada de oxigeno (FiO2 %)"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputPorcentajeFraccion"},r()("b","Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputPorcentajeFraccion",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputLitrosPorMinutoFraccion"},r()("b","Litros por minuto")),r()("input",{class:"form-control",type:"number",id:"inputLitrosPorMinutoFraccion",placeholder:"Ingrese un valor",oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("h6","Alto Flujo (litro por minuto)"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputPorcentajeAltoFlujo"},r()("b","Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputPorcentajeAltoFlujo",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputLitroAltoFlujo"},r()("b","Litro por minuto")),r()("input",{class:"form-control",type:"number",id:"inputLitroAltoFlujo",placeholder:"Ingrese un valor",oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("br"),r()("h6","Tienda Facial"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputPorcentajeTiendaFacial"},r()("b","Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputPorcentajeTiendaFacial",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputLitroPorMinutoTiendaFacial"},r()("b","Litros por minuto")),r()("input",{class:"form-control",type:"number",id:"inputLitroPorMinutoTiendaFacial",placeholder:"Ingrese un valor",oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("h6","Tubo en T"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputPorcentajeTuboEnT"},r()("b","Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputPorcentajeTuboEnT",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputLitroTuboEnT"},r()("b","Litro por minuto")),r()("input",{class:"form-control",type:"number",id:"inputLitroTuboEnT",placeholder:"Ingrese un valor",oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("br"),r()("h6","Canula Nasal"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputPorcentajeCanulaNasal"},r()("b","Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputPorcentajeCanulaNasal",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputLitroPorMinutoCanulaNasal"},r()("b","Litros por minuto")),r()("input",{class:"form-control",type:"number",id:"inputLitroPorMinutoCanulaNasal",placeholder:"Ingrese un valor",oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("h6","Mascarilla"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputPorcentajeMascarilla"},r()("b","Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputPorcentajeMascarilla",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputLitroMascarilla"},r()("b","Litro por minuto")),r()("input",{class:"form-control",type:"number",id:"inputLitroMascarilla",placeholder:"Ingrese un valor",oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("br"),r()("h6","Heliox"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputPorcentajeHeliox"},r()("b","Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputPorcentajeHeliox",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-4"},[r()("label",{class:"form-label",for:"inputLitroPorMinutoHeliox"},r()("b","Litros por minuto")),r()("input",{class:"form-control",type:"number",id:"inputLitroPorMinutoHeliox",placeholder:"Ingrese un valor",oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("h6","Aire Ambiente"),r()("div",{class:"row"},r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputPorcentajeAireAmbiente"},r()("b","Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputPorcentajeAireAmbiente",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])))],r()("br"),r()("br"),[r()("div",{class:"d-flex justify-content-center"},r()("h6","Monitoreo")),r()("div",{class:"row d-flex justify-content-center"},[r()("div",{class:"col text-center"},r()("div",{class:"mb-1"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputVentilacionMecanica",onclick:function(e){dn=e.target.checked}}),r()("label",{class:"form-label",for:"inputVentilacionMecanica"},"Ventilación Mecánica")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-4"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputVentilacionNoInvasiva",onclick:function(e){sn=e.target.checked}}),r()("label",{class:"form-label",for:"inputVentilacionNoInvasiva"},"Ventilación no invasiva")]))]),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputSaturacionPreviaPorcentaje"},r()("b","Previa Saturación O2(%) Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputSaturacionPreviaPorcentaje",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputSaturacionPosteriorPorcentaje"},r()("b","Posterior Saturación O2(%) Porcentaje")),r()("input",{class:"form-control",type:"number",id:"inputSaturacionPosteriorPorcentaje",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("br"),r()("br"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputFrecuenciaCardiacaPreviaPorMinuto"},r()("b","Previa Frecuencia Cardiaca por Minuto")),r()("input",{class:"form-control",type:"number",id:"inputFrecuenciaCardiacaPreviaPorMinuto",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||300<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputFrecuenciaCardiacaPosteriorPorMinuto"},r()("b","Posterior Frecuencia Cardiaca por Minuto")),r()("input",{class:"form-control",type:"number",id:"inputFrecuenciaCardiacaPosteriorPorMinuto",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||300<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))]),r()("br"),r()("div",{class:"row"},[r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputFrecuenciaRespiratoriaPreviaPorMinuto"},r()("b","Previa Frecuencia Respiratoria por Minuto")),r()("input",{class:"form-control",type:"number",id:"inputFrecuenciaRespiratoriaPreviaPorMinuto",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||70<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})])),r()("div",{class:"col"},r()("div",{class:"mb-6"},[r()("label",{class:"form-label",for:"inputFrecuenciaRespiratoriaPosteriorPorMinuto"},r()("b","Posterior Frecuencia Respiratoria por Minuto")),r()("input",{class:"form-control",type:"number",id:"inputFrecuenciaRespiratoriaPosteriorPorMinuto",placeholder:"Ingrese un valor",oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||70<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()}})]))])],r()("br"),r()("br"),[r()("div",{class:"d-flex justify-content-center"},r()("h6","Succión")),r()("div",{class:"row justify-content-center"},[r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputNasotraqueal",onclick:function(e){ln=e.target.checked}}),r()("label",{class:"form-label",for:"inputNasotraqueal"},"Nasotraqueal")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputTraqueal",onclick:function(e){cn=e.target.checked}}),r()("label",{class:"form-label",for:"inputTraqueal"},"Traqueal")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputOrotraqueal",onclick:function(e){un=e.target.checked}}),r()("label",{class:"form-label",for:"inputOrotraqueal"},"Orotraqueal")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputLavadoNasal",onclick:function(e){mn=e.target.checked}}),r()("label",{class:"form-label",for:"inputLavadoNasal"},"Lavado Nasal")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-3"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputSubglotica",onclick:function(e){pn=e.target.checked}}),r()("label",{class:"form-label",for:"inputSubglotica"},"Subglótica")]))])],r()("br"),r()("br"),[r()("div",{class:"d-flex justify-content-center"},r()("h6","Muestras")),r()("div",{class:"row justify-content-center"},[r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputEsputo",onclick:function(e){bn=e.target.checked}}),r()("label",{class:"form-label",for:"inputEsputo"},"Esputo")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputHisopado",onclick:function(e){fn=e.target.checked}}),r()("label",{class:"form-label",for:"inputHisopado"},"Hisopado")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputSecrecionTraqueal",onclick:function(e){hn=e.target.checked}}),r()("label",{class:"form-label",for:"inputSecrecionTraqueal"},"Secreción Traqueal")]))])],[r()("div",{class:"d-flex justify-content-center"},r()("h6","Observación Clínica")),r()("h6","Síntomas"),r()("div",{class:"row justify-content-center"},[r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputDisnea",onclick:function(e){gn=e.target.checked}}),r()("label",{class:"form-label",for:"inputDisnea"},"Disnea")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputTos",onclick:function(e){vn=e.target.checked}}),r()("label",{class:"form-label",for:"inputTos"},"Tos")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputExpectoacion",onclick:function(e){xn=e.target.checked}}),r()("label",{class:"form-label",for:"inputExpectoacion"},"Expectoración")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputDolorToracico",onclick:function(e){yn=e.target.checked}}),r()("label",{class:"form-label",for:"inputDolorToracico"},"Dolor Torácico")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputHemoptisis",onclick:function(e){wn=e.target.checked}}),r()("label",{class:"form-label",for:"inputHemoptisis"},"Hemoptisis")])),r()("div",{class:"col text-center"},r()("div",{class:"mb-2"},[r()("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputFiebre",onclick:function(e){_n=e.target.checked}}),r()("label",{class:"form-label",for:"inputFiebre"},"Fiebre")]))]),r()("h6","Signos"),r()("div.row.justify-content-center",[r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputConsciencia",onclick:function(e){En=e.target.checked}}),r()("label.form-label",{for:"inputConsciencia"},"Consciencia")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputIntubado",onclick:function(e){An=e.target.checked}}),r()("label.form-label",{for:"inputIntubado"},"Intubado")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputSonidoDeLaVoz",onclick:function(e){Rn=e.target.checked}}),r()("label.form-label",{for:"inputSonidoDeLaVoz"},"Sonido de la voz")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputSibilancias",onclick:function(e){Tn=e.target.checked,console.log(Tn)}}),r()("label.form-label",{for:"inputSibilancias"},"Sibilancias")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputRoncus",onclick:function(e){Mn=e.target.checked}}),r()("label.form-label",{for:"inputRoncus"},"Roncus")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputCrepitantes",onclick:function(e){Pn=e.target.checked}}),r()("label.form-label",{for:"inputCrepitantes"},"Crepitantes")])])]),r()("div.row.justify-content-center",[r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputLocalizacion",onclick:function(e){kn=e.target.checked}}),r()("label.form-label",{for:"inputLocalizacion"},"Localización")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputCianosis",onclick:function(e){Sn=e.target.checked}}),r()("label.form-label",{for:"inputCianosis"},"Cianosis")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputRuidoRespiratorio",onclick:function(e){Cn=e.target.checked}}),r()("label.form-label",{for:"inputRuidoRespiratorio"},"Ruido Respiratorio")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputDisminuido",onclick:function(e){In=e.target.checked}}),r()("label.form-label",{for:"inputDisminuido"},"Disminuido")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputAbolido",onclick:function(e){On=e.target.checked}}),r()("label.form-label",{for:"inputAbolido"},"Abolido")])]),r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputEstridor",onclick:function(e){Dn=e.target.checked}}),r()("label.form-label",{for:"inputEstridor"},"Estridor")])])]),r()("div.row.justify-content-center",[r()("div.col.text-center",[r()("div.mb-2",[r()("input.form-check-input",{type:"checkbox",value:"",id:"inputEdema",onclick:function(e){Nn=e.target.checked}}),r()("label.form-label",{for:"inputEdema"},"Edema")])])])],[r()("label",{class:"form-label",for:"textareaCriterio"},"Criterio"),r()("textarea",{class:"form-control",id:"textareaCriterio",rows:"3",maxlength:"4000"})],r()("div",{class:"form-group"},[r()("label",{for:"inputFechaHoraRegistro"},"Fecha y Hora del Registro"),r()("input",{class:"form-control",type:"text",id:"inputFechaHoraRegistro",placeholder:"dd/mm/yyyy hh:mm:ss",maxlength:"19",value:Fn.date,oninput:function(e){var t,a,o,i,n,r,d=Bi(e.target.value.replace(/\D/g,"")),s=!0,l="";d?(t=d.substring(0,2),a=d.substring(3,5)-1,o=d.substring(6,10),i=d.substring(11,13),n=d.substring(14,16),Vi(r=d.substring(17,19))?(i=new Date(o,a,t,i,n,r),n=new Date,r=dr.data.FECHA_PEDIDO.split("-"),(l=$i(i,new Date(r[2],r[1]-1,r[0]),n,t,a,o))&&(s=!1)):(s=!1,l="Los segundos son obligatorios en el formato hh:mm:ss")):(s=!1,l="Este campo es obligatorio"),e.target.value=d,Fn.date=d,Fn.isValidDate=s,Fn.errorMessage=l}}),!Fn.isValidDate&&r()("div",{style:{color:"red"}},Fn.errorMessage)]),r()("br"),r()("button",{class:"btn btn-primary",type:"button",onclick:function(){var o,e,t={NUMERODEPEDIDO:a.dom.inputNumeroPedido.value,FECHAMV:a.dom.inputFechaPedido.value,ORIGEN:a.dom.inputOrigenPedido.value,MEDICOSOLICITANTE:a.dom.inputMedicoSolicitante.value,ESPECIALIDAD:a.dom.inputEspecialidad.value,APELLIDOSNOMBREPACIENTE:a.dom.inputApellidosYNombres.value,NHC:a.dom.inputNHC.value,NUMEROATENCION:a.dom.inputNumeroAtencion.value,UBICACION:a.dom.inputUbicacion.value,ESCALADELDOLOR:a.dom.inputEscalaDolor.value,PESO:a.dom.inputPeso.value,Usuario:a.dom.inputUsuario.value,PRESCRIPCION:(t=Fn.valoresCheckBox,o={PRESCRIPCIONANTES:t,DATOS:[]},Object.entries(t).forEach(function(e){var e=Fi(e,2),t=e[0],e=e[1],a=e.checked,e=e.cd_itpre_med;!0===a&&o.DATOS.push({nombre:t,seleccionado:a,cd_itpre_med:Number(e)})}),o),FECHAHOY:a.dom.inputFecha.value,HORAANTES:a.dom.inputHora.value,HORADESPUES:Ui(),SALBUTAMOLDOSIS:a.dom.inputSalbumatol.value,HIPERSAL7DOSIS:a.dom.inputHipersal.value,BROMURODELPATROPIODOSIS:a.dom.inputBromuroIpatropio.value,DEXAMETASONADOSIS:a.dom.inputDexametasona.value,CLORHIDRATODEAMBROXOLDOSIS:a.dom.inputClorhidratoAmbroxol.value,SOLUCIONSALINADOSIS:a.dom.inputSolucionSalina.value,HIPERSAL35DOSIS:a.dom.inputHipersal3.value,ADRENALINARACENICADOSIS:a.dom.inputAdrenalinaRacenica.value,NAcetilcisteina:a.dom.inputNAcetilcisteina.value,OTROSDOSIS:a.dom.inputOtros.value,NEBULIZACION:Ji?"true":"false",ULTRASONIDO:qi?"true":"false",INHALADORESDOSISMEDIDA:Xi?"true":"false",DRENAJEPOSTURAL:Gi?"true":"false",PERCUSIONES:Zi?"true":"false",VIBRACIONES:Ki?"true":"false",TOSEFECTIVA:Wi?"true":"false",ASISTENCIADETOS:Qi?"true":"false",CHALECOVIBROPRECUTOR:en?"true":"false",NASOTRAQUEAL:ln?"true":"false",TRAQUEAL:cn?"true":"false",OROTRAQUEAL:un?"true":"false",LAVADONASAL:mn?"true":"false",SUBGLOTICA:pn?"true":"false",ESPUTO:bn?"true":"false",ISOPADO:fn?"true":"false",SECRECIONTRAQUEAL:hn?"true":"false",CONSCIENCIA:En?"true":"false",INTUBADO:An?"true":"false",ESTRIDOR:Dn?"true":"false",SIBILANCIAS:Tn?"true":"false",RONCUS:Mn?"true":"false",CREPITANTES:Pn?"true":"false",LOCALIZACION:kn?"true":"false",CIANOSIS:Sn?"true":"false",RUIDORESPIRATORIO:Cn?"true":"false",DISMINUIDO:In?"true":"false",ABOLIDO:On?"true":"false",SONIDODELAVOZ:Rn?"true":"false",EDEMA:Nn?"true":"false",DISNEA:gn?"true":"false",TOS:vn?"true":"false",EXPECTORACION:xn?"true":"false",DOLORTORACICO:yn?"true":"false",HEMOPTISIS:wn?"true":"false",FIEBRE:_n?"true":"false",INCENTIVORESPIRATORIO:tn?"true":"false",PRESIONPOSITIVAVIAAREA:an?"true":"false",PRESIONPOSITIVAEXPIRACION:on?"true":"false",KINISIOTERAPIADELTORAX:nn?"true":"false",EJERCICIOSRESPIRATORIOS:rn?"true":"false",MILILITROSPORSEGUNDOINCENTIVO:a.dom.inputMililitrosPorSegundo.value,CENTIMETROSSEGUNDOINCENTIVO:a.dom.inputCentimetrosCubicosPorSegundo.value,FRACCIONOXIGENOPORCENTAJE:a.dom.inputPorcentajeFraccion.value,FRACCIONIOXIGENOLITROS:a.dom.inputLitrosPorMinutoFraccion.value,ALTOFLUJOPORCENTAJE:a.dom.inputPorcentajeAltoFlujo.value,ALTOFLUJOLITROSPORMINUTO:a.dom.inputLitroAltoFlujo.value,TIENDAFACIALPORCENTAJE:a.dom.inputPorcentajeTiendaFacial.value,TIENDAFACIALLITROSPORMINUTO:a.dom.inputLitroPorMinutoTiendaFacial.value,TUBOENTPORCENTAJE:a.dom.inputPorcentajeTuboEnT.value,TUBOENTLITROSPORMINUTO:a.dom.inputLitroTuboEnT.value,CANULANASALPORCENTAJE:a.dom.inputPorcentajeCanulaNasal.value,CANULANASALLITROSPORMINUTO:a.dom.inputLitroPorMinutoCanulaNasal.value,MASCARILLAPORCENTAJE:a.dom.inputPorcentajeMascarilla.value,MASCARILLALITROSPORMINUTO:a.dom.inputLitroMascarilla.value,HELIOXPORCENTAJE:a.dom.inputPorcentajeHeliox.value,HELIOXLITROSPORMINUTO:a.dom.inputLitroPorMinutoHeliox.value,AIREAMBIENTEPORCENTAJE:a.dom.inputPorcentajeAireAmbiente.value,VENTILACIONMECANICA:dn?"true":"false",VENTILACIONNOINVASIVA:sn?"true":"false",SATURACIONPREVIA:a.dom.inputSaturacionPreviaPorcentaje.value,SATURACIONPOSTERIOR:a.dom.inputSaturacionPosteriorPorcentaje.value,FRECUENCIACARDIACAPREVIA:a.dom.inputFrecuenciaCardiacaPreviaPorMinuto.value,FRECUENCIACARDIACAPOSTERIOR:a.dom.inputFrecuenciaCardiacaPosteriorPorMinuto.value,FRECUENCIARESPIRATORIAPREVIA:a.dom.inputFrecuenciaRespiratoriaPreviaPorMinuto.value,FRECUENCIARESPIRATORIAPOS:a.dom.inputFrecuenciaRespiratoriaPosteriorPorMinuto.value,CRITERIO:a.dom.textareaCriterio.value,ESTADO:"Activo",ID:"sec_TerapiaRespiratoria.nextval",DISPOSITIVO:ji(),FECHAREGISTRO:a.dom.inputFechaHoraRegistro.value};e=Fn.valoresCheckBox,Object.values(e).some(function(e){return!0===e.checked})?Fn.validarFechaHoraRegistro()&&confirm("¿Estás seguro quieres guardar este formulario?")&&(console.log(t),console.log(dr.data.AT_MV),zi.guardar(t),r().mount(document.querySelector("#gestion-muestras"),null),r().mount(document.querySelector("#cerrar-gestion-muestras"),null),zi.listado=[],zi.loading=!0):alert("Debe escoger al menos una prescripción")}},"Guardar")])}},Ln=Fn,Hn=wl(1360),Un={view:function(){return[Hn("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",{style:{width:"50%",float:"right"}},Hn("small.pd-2.tx-20",Hn("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){Hn.mount(document.querySelector("#gestion-muestras"),null),Hn.mount(document.querySelector("#cerrar-gestion-muestras"),null)}})))]}},Yn=wl(1360),jn={view:function(){return[Yn("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[Yn("div.row.animated.fadeInUp",[Yn("div.col-12",[Yn("div.table-loader.wd-100p",[Yn("div.placeholder-paragraph",[Yn("div.line"),Yn("div.line")])])])])])]}},y=wl(1360);function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o,i,n,r,d=[],s=!0,l=!1;try{if(n=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(o=n.call(a)).done)&&(d.push(o.value),d.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(l)throw i}}return d}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var w=qo,$n=null,zn={view:function(e){return[y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputSalbumatol"},y("b","Salbutamol")),y("input",{class:"form-control",type:"text",id:"inputSalbumatol",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.SALBUTAMOLDOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputHipersal"},y("b","Hipersal (7%)")),y("input",{class:"form-control",type:"text",id:"inputHipersal",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.HIPERSAL7DOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputHipersal3"},y("b","Hipersal (3,5%)")),y("input",{class:"form-control",type:"text",id:"inputHipersal3",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.HIPERSAL35DOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputDexametasona"},y("b","Dexametasona")),y("input",{class:"form-control",type:"text",id:"inputDexametasona",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.DEXAMETASONADOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputClorhidratoAmbroxol"},y("b","Clorhidrato de Ambroxol")),y("input",{class:"form-control",type:"text",id:"inputClorhidratoAmbroxol",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.CLORHIDRATODEAMBROXOLDOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputSolucionSalina"},y("b","Solución Salina (0,9%)")),y("input",{class:"form-control",type:"text",id:"inputSolucionSalina",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.SOLUCIONSALINADOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputBromuroIpatropio"},y("b","Bromuro de Ipratropio")),y("input",{class:"form-control",type:"text",id:"inputBromuroIpatropio",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.BROMURODELPATROPIODOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputAdrenalinaRacenica"},y("b","Adrenalina Racénica")),y("input",{class:"form-control",type:"text",id:"inputAdrenalinaRacenica",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.ADRENALINARACENICADOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputNAcetilcisteina"},y("b","N Acetilcisteina")),y("input",{class:"form-control",type:"text",id:"inputNAcetilcisteina",maxlength:"30",oncreate:function(e){e.dom.value=w.listadoUnitario.NAcetilcisteina},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputOtros"},y("b","Otros")),y("textarea",{class:"form-control",id:"inputOtros",oncreate:function(e){e.dom.value=w.listadoUnitario.OTROSDOSIS},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO,maxlength:"4000"})]))])]}},Jn={view:function(e){return[y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputMililitrosPorSegundo"},y("b","Mililitros por segundo")),y("input",{class:"form-control",type:"number",id:"inputMililitrosPorSegundo",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.MILILITROSPORSEGUNDOINCENTIVO},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||1e4<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputCentimetrosCubicosPorSegundo"},y("b","Centímetros cúbicos por segundo")),y("input",{class:"form-control",type:"number",id:"inputCentimetrosCubicosPorSegundo",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.CENTIMETROSSEGUNDOINCENTIVO},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||1e4<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))])]}},qn={view:function(e){return[y("h6","Fracción inspirada de oxigeno (FiO2 %)"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputPorcentajeFraccion"},y("b","Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputPorcentajeFraccion",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.FRACCIONOXIGENOPORCENTAJE},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputLitrosPorMinutoFraccion"},y("b","Litros por minuto")),y("input",{class:"form-control",type:"number",id:"inputLitrosPorMinutoFraccion",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.FRACCIONIOXIGENOLITROS},oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("h6","Alto Flujo (litro por minuto)"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputPorcentajeAltoFlujo"},y("b","Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputPorcentajeAltoFlujo",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.ALTOFLUJOPORCENTAJE},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputLitroAltoFlujo"},y("b","Litro por minuto")),y("input",{class:"form-control",type:"number",id:"inputLitroAltoFlujo",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.ALTOFLUJOLITROSPORMINUTO},oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("br"),y("h6","Tienda Facial"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputPorcentajeTiendaFacial"},y("b","Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputPorcentajeTiendaFacial",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.TIENDAFACIALPORCENTAJE},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputLitroPorMinutoTiendaFacial"},y("b","Litros por minuto")),y("input",{class:"form-control",type:"number",id:"inputLitroPorMinutoTiendaFacial",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.TIENDAFACIALLITROSPORMINUTO},oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("h6","Tubo en T"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputPorcentajeTuboEnT"},y("b","Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputPorcentajeTuboEnT",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.TUBOENTPORCENTAJE},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputLitroTuboEnT"},y("b","Litro por minuto")),y("input",{class:"form-control",type:"number",id:"inputLitroTuboEnT",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.TUBOENTLITROSPORMINUTO},oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("br"),y("h6","Canula Nasal"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputPorcentajeCanulaNasal"},y("b","Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputPorcentajeCanulaNasal",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.CANULANASALPORCENTAJE},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputLitroPorMinutoCanulaNasal"},y("b","Litros por minuto")),y("input",{class:"form-control",type:"number",id:"inputLitroPorMinutoCanulaNasal",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.CANULANASALLITROSPORMINUTO},oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("h6","Mascarilla"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputPorcentajeMascarilla"},y("b","Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputPorcentajeMascarilla",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.MASCARILLAPORCENTAJE},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputLitroMascarilla"},y("b","Litro por minuto")),y("input",{class:"form-control",type:"number",id:"inputLitroMascarilla",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.MASCARILLALITROSPORMINUTO},oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("br"),y("h6","Heliox"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputPorcentajeHeliox"},y("b","Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputPorcentajeHeliox",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.HELIOXPORCENTAJE},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputLitroPorMinutoHeliox"},y("b","Litros por minuto")),y("input",{class:"form-control",type:"number",id:"inputLitroPorMinutoHeliox",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.HELIOXLITROSPORMINUTO},oninput:function(e){100<e.target.value&&(e.target.value="")},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("h6","Aire Ambiente"),y("div",{class:"row"},y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputPorcentajeAireAmbiente"},y("b","Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputPorcentajeAireAmbiente",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.AIREAMBIENTEPORCENTAJE},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])))]}},Xn={view:function(e){return[y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputSaturacionPreviaPorcentaje"},y("b","Previa Saturación O2(%) Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputSaturacionPreviaPorcentaje",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.SATURACIONPREVIA},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputSaturacionPosteriorPorcentaje"},y("b","Posterior Saturación O2(%) Porcentaje")),y("input",{class:"form-control",type:"number",id:"inputSaturacionPosteriorPorcentaje",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.SATURACIONPOSTERIOR},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||100<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("br"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputFrecuenciaCardiacaPreviaPorMinuto"},y("b","Previa Frecuencia Cardiaca por Minuto")),y("input",{class:"form-control",type:"number",id:"inputFrecuenciaCardiacaPreviaPorMinuto",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.FRECUENCIACARDIACAPREVIA},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||300<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputFrecuenciaCardiacaPosteriorPorMinuto"},y("b","Posterior Frecuencia Cardiaca por Minuto")),y("input",{class:"form-control",type:"number",id:"inputFrecuenciaCardiacaPosteriorPorMinuto",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.FRECUENCIACARDIACAPOSTERIOR},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||300<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))]),y("br"),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputFrecuenciaRespiratoriaPreviaPorMinuto"},y("b","Previa Frecuencia Respiratoria por Minuto")),y("input",{class:"form-control",type:"number",id:"inputFrecuenciaRespiratoriaPreviaPorMinuto",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.FRECUENCIARESPIRATORIAPREVIA},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||70<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})])),y("div",{class:"col"},y("div",{class:"mb-6"},[y("label",{class:"form-label",for:"inputFrecuenciaRespiratoriaPosteriorPorMinuto"},y("b","Posterior Frecuencia Respiratoria por Minuto")),y("input",{class:"form-control",type:"number",id:"inputFrecuenciaRespiratoriaPosteriorPorMinuto",placeholder:"Ingrese un valor",oncreate:function(e){e.dom.value=w.listadoUnitario.FRECUENCIARESPIRATORIAPOS},oninput:function(e){var t=e.target.value;e.target.value=e.target.value.replace(/[-+e]/g,""),isNaN(t)||t<0||70<t||t.startsWith("0")?e.target.value="":e.target.value=t},onpaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");Yi(t)&&e.preventDefault()},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]))])]}},Gn={view:function(e){return[y("textarea",{class:"form-control",id:"textareaCriterio",rows:"3",oncreate:function(e){e.dom.value=w.listadoUnitario.CRITERIO},maxlength:"4000",disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO})]}},Zn={view:function(e){return[y("div",{class:"form-group"},[y("label",{for:"inputFechaHoraRegistro"},"Fecha y Hora del Registro"),y("input",{class:"form-control",type:"text",id:"inputFechaHoraRegistro",placeholder:"dd/mm/yyyy hh:mm:ss",maxlength:"19",oncreate:function(e){var t=w.listadoUnitario.FECHAREGISTRO;(e.dom.value=t)?(e=Kn(t),Wn.isValidDate=e,Wn.errorMessage=e?"":"Error en la fecha y hora del registro inicial"):(Wn.isValidDate=!1,Wn.errorMessage="Este campo es obligatorio")},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO,oninput:function(e){var t=Bi(e.target.value.replace(/\D/g,""));Kn(e.target.value=t)}}),!Wn.isValidDate&&y("div",{style:{color:"red"}},Wn.errorMessage)])]}};function Kn(e){var t,a,o,i,n,r=!0,d="";return e?(t=e.substring(0,2),a=e.substring(3,5)-1,o=e.substring(6,10),i=e.substring(11,13),n=e.substring(14,16),Vi(e=e.substring(17,19))?(i=new Date(o,a,t,i,n,e),n=new Date,e=w.listadoUnitario.FECHAMV.split("-"),(d=$i(i,new Date(e[2],e[1]-1,e[0]),n,t,a,o))&&(r=!1)):(r=!1,d="Los segundos son obligatorios en el formato hh:mm:ss")):(r=!1,d="Este campo es obligatorio"),Wn.isValidDate=r,Wn.errorMessage=d,r}var Wn={usuarioMoficado:"",validarFechaHoraRegistro:function(){return!!Wn.isValidDate||(alert(Wn.errorMessage||"Error en la fecha y hora del registro"),!1)},oninit:function(e){void 0!==e.attrs.id&&($n=e.attrs.id),w.cargarUnFormulario($n),Wn.usuarioMoficado=B.getDataUser()},onupdate:function(e){null!==w.listadoUnitario&&w.listadoUnitario},view:function(t){return[null!==w.listadoUnitario?y("form",[y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputNumeroPedido"},y("b","Número de Pedido")),y("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputNumeroPedido",value:w.listadoUnitario.NUMERODEPEDIDO})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputFechaPedido"},y("b","Fecha y Hora")),y("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputFechaPedido",value:w.listadoUnitario.FECHAMV})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputOrigenPedido"},y("b","Origen")),y("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputOrigenPedido",value:w.listadoUnitario.ORIGEN})]))]),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputMedicoSolicitante"},y("b","Medico Solicitante")),y("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputMedicoSolicitante",value:w.listadoUnitario.MEDICOSOLICITANTE})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputEspecialidad"},y("b","Especialidad")),y("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputEspecialidad",value:w.listadoUnitario.ESPECIALIDAD})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputApellidosYNombres"},y("b","Apellidos y Nombres del Paciente")),y("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputApellidosYNombres",value:w.listadoUnitario.APELLIDOSNOMBREPACIENTE})]))]),y("div",{class:"row"},[y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputNHC"},y("b","NHC")),y("input",{class:"form-control",type:"text",id:"inputNHC",readonly:"readonly",value:w.listadoUnitario.NHC})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputNumeroAtencion"},y("b","Número de Atención")),y("input",{class:"form-control",type:"text",readonly:"readonly",id:"inputNumeroAtencion",value:w.listadoUnitario.NUMEROATENCION})])),y("div",{class:"col"},y("div",{class:"mb-4"},[y("label",{class:"form-label",for:"inputUbicacion"},y("b","Ubicación")),y("input",{class:"form-control",type:"text",id:"inputUbicacion",readonly:"readonly",value:w.listadoUnitario.UBICACION})]))]),y("div",{class:"form-row"},[y("div",{class:"form-group col-md-5"},[y("label",{for:"inputEscalaDolor"},"Escala Dolor"),y("input",{class:"form-control",type:"text",id:"inputEscalaDolor",placeholder:"Escala Dolor",readonly:"readonly",value:w.listadoUnitario.ESCALADELDOLOR})]),y("div",{class:"form-group col-md-2"},[y("label",{for:"inputPeso"},"Peso"),y("input",{class:"form-control",type:"text",id:"inputPeso",placeholder:"Peso",readonly:"readonly",value:w.listadoUnitario.PESO})]),y("div",{class:"form-group col-md-5"},[y("label",{for:"inputUsuario"},"Usuario"),y("input",{class:"form-control",type:"text",id:"inputUsuario",placeholder:"Usuario",readonly:"readonly",value:w.listadoUnitario.Usuario})])]),y("div",{class:"form-group"},[y("label",{for:"inputPrescripcion"},"Prescripción"),y("div",{},y("ul",Object.entries(w.listadoUnitario.PRESCRIPCION.PRESCRIPCIONANTES).map(function(e){var e=Bn(e,2),t=e[0],e=e[1];return y("li",[y("label",[y("input[type=checkbox]",{checked:e.checked,disabled:!0}),y("span",t)])])})))]),y("div",{class:"form-group"},[y("label",{for:"inputFecha"},"Fecha"),y("input",{class:"form-control",type:"text",id:"inputFecha",placeholder:"Fecha",value:w.listadoUnitario.FECHAHOY,readonly:"readonly"})]),y("div",{class:"form-group"},[y("label",{for:"inputHora"},"Hora"),y("input",{class:"form-control",type:"text",id:"inputHora",placeholder:"Hora",value:w.listadoUnitario.HORAANTES,readonly:"readonly"})]),[y("div",{class:"d-flex justify-content-center"},y("h6","Terapia Aerosol")),y("div",{class:"row d-flex justify-content-center"},[y("div",{class:"col text-center"},y("div",{class:"mb-4"},[y("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputNebulizacion",checked:"true"===w.listadoUnitario.NEBULIZACION?"checked":"",onclick:function(e){w.listadoUnitario.NEBULIZACION=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputNebulizacion"},"Nebulización")])),y("div",{class:"col text-center"},y("div",{class:"mb-4"},[y("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputUltrasonido",checked:"true"===w.listadoUnitario.ULTRASONIDO?"checked":"",onclick:function(e){w.listadoUnitario.ULTRASONIDO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputUltrasonido"},"Ultrasonido")])),y("div",{class:"col text-center"},y("div",{class:"mb-4"},[y("input",{class:"form-check-input",type:"checkbox",value:"",id:"inputInahaladorDosis",checked:"true"===w.listadoUnitario.INHALADORESDOSISMEDIDA?"checked":"",onclick:function(e){w.listadoUnitario.INHALADORESDOSISMEDIDA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputInahaladorDosis"},"Inhaladores Dosis Medida")]))]),y("div",{class:"d-flex justify-content-center"},y("h6","Medicinas")),y(zn)],[y("div",{class:"container"},[y("div",{class:"d-flex justify-content-center"},[y("h6","Higiene Bronco Pulmonar")]),y("div",{class:"row d-flex justify-content-center"},[y("div",{class:"col-12 col-md-4 text-center mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputDrenajePostural",checked:"true"===w.listadoUnitario.DRENAJEPOSTURAL?"checked":"",onclick:function(e){w.listadoUnitario.DRENAJEPOSTURAL=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputDrenajePostural"},"Drenaje Postural")]),y("div",{class:"col-12 col-md-4 text-center mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputPercursiones",checked:"true"===w.listadoUnitario.PERCUSIONES?"checked":"",onclick:function(e){w.listadoUnitario.PERCUSIONES=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputPercursiones"},"Percursiones")]),y("div",{class:"col-12 col-md-4 text-center mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputVibraciones",checked:"true"===w.listadoUnitario.VIBRACIONES?"checked":"",onclick:function(e){w.listadoUnitario.VIBRACIONES=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputVibraciones"},"Vibraciones")]),y("div",{class:"col-12 col-md-4 text-center mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputTosEfectiva",checked:"true"===w.listadoUnitario.TOSEFECTIVA?"checked":"",onclick:function(e){w.listadoUnitario.TOSEFECTIVA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputTosEfectiva"},"Tos Efectiva")]),y("div",{class:"col-12 col-md-4 text-center mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputAsistenteTos",checked:"true"===w.listadoUnitario.ASISTENCIADETOS?"checked":"",onclick:function(e){w.listadoUnitario.ASISTENCIADETOS=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputAsistenteTos"},"Asistente de Tos")]),y("div",{class:"col-12 col-md-4 text-center mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputChalecoVibroprecutor",checked:"true"===w.listadoUnitario.CHALECOVIBROPRECUTOR?"checked":"",onclick:function(e){w.listadoUnitario.CHALECOVIBROPRECUTOR=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputChalecoVibroprecutor"},"Chaleco Vibroprecutor")])])])],[y("div",{class:"d-flex justify-content-center"},[y("h6","Terapia Expansiva")]),y("div",{class:"row"},[y("div",{class:"col-md-3 col-sm-6 col-xs-12 text-center mb-1"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputIncentivoRespiratorio",checked:"true"===w.listadoUnitario.INCENTIVORESPIRATORIO?"checked":"",onclick:function(e){w.listadoUnitario.INCENTIVORESPIRATORIO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputIncentivoRespiratorio"},"Incentivo Respiratorio")]),y("div",{class:"col-md-3 col-sm-6 col-xs-12 text-center mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputPresionPositivaContinuaEnLaViaAeria",checked:"true"===w.listadoUnitario.PRESIONPOSITIVAVIAAREA?"checked":"",onclick:function(e){w.listadoUnitario.PRESIONPOSITIVAVIAAREA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputPresionPositivaContinuaEnLaViaAeria"},"Presión Positiva continua en la vía aérea")]),y("div",{class:"col-md-3 col-sm-6 col-xs-12 text-center mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputPresionPositivaAlFinalDeLaExpiracion",checked:"true"===w.listadoUnitario.PRESIONPOSITIVAEXPIRACION?"checked":"",onclick:function(e){w.listadoUnitario.PRESIONPOSITIVAEXPIRACION=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputPresionPositivaAlFinalDeLaExpiracion"},"Presión Positiva al final de la expiración")]),y("div",{class:"col-md-3 col-sm-6 col-xs-12 text-center mb-1"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputKinesioterapiaDelTorax",checked:"true"===w.listadoUnitario.KINISIOTERAPIADELTORAX?"checked":"",onclick:function(e){w.listadoUnitario.KINISIOTERAPIADELTORAX=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputKinesioterapiaDelTorax"},"Kinesioterapia del tórax")]),y("div",{class:"col-md-3 col-sm-6 col-xs-12 text-center mb-1"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputEjerciciosRespiratorios",checked:"true"===w.listadoUnitario.EJERCICIOSRESPIRATORIOS?"checked":"",onclick:function(e){w.listadoUnitario.EJERCICIOSRESPIRATORIOS=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputEjerciciosRespiratorios"},"Ejercicios respiratorios")])]),y("div",{class:"d-flex justify-content-center"},y("h6","Incentivo Respiratorio")),y(Jn)],[y("br"),y("br"),y("div",{class:"d-flex justify-content-center"},y("h6","Oxigenoterapia")),y(qn)],y("br"),y("br"),[y("div",{class:"d-flex justify-content-center"},y("h6","Monitoreo")),y("div",{class:"row d-flex justify-content-center"},[y("div",{class:"col text-center"},y("div",{class:"mb-1"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputVentilacionMecanica",checked:"true"===w.listadoUnitario.VENTILACIONMECANICA?"checked":"",onclick:function(e){w.listadoUnitario.VENTILACIONMECANICA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputVentilacionMecanica"},"Ventilación Mecánica")])),y("div",{class:"col text-center"},y("div",{class:"mb-4"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputVentilacionNoInvasiva",checked:"true"===w.listadoUnitario.VENTILACIONNOINVASIVA?"checked":"",onclick:function(e){w.listadoUnitario.VENTILACIONNOINVASIVA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputVentilacionNoInvasiva"},"Ventilación no invasiva")]))]),y(Xn)],y("br"),y("br"),[y("div",{class:"d-flex justify-content-center"},y("h6","Succión")),y("div",{class:"row justify-content-center"},[y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputNasotraqueal",checked:"true"===w.listadoUnitario.NASOTRAQUEAL?"checked":"",onclick:function(e){w.listadoUnitario.NASOTRAQUEAL=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputNasotraqueal"},"Nasotraqueal")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputTraqueal",checked:"true"===w.listadoUnitario.TRAQUEAL?"checked":"",onclick:function(e){w.listadoUnitario.TRAQUEAL=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputTraqueal"},"Traqueal")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputOrotraqueal",checked:"true"===w.listadoUnitario.OROTRAQUEAL?"checked":"",onclick:function(e){w.listadoUnitario.OROTRAQUEAL=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputOrotraqueal"},"Orotraqueal")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputLavadoNasal",checked:"true"===w.listadoUnitario.LAVADONASAL?"checked":"",onclick:function(e){w.listadoUnitario.LAVADONASAL=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputLavadoNasal"},"Lavado Nasal")])),y("div",{class:"col text-center"},y("div",{class:"mb-3"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputSubglotica",checked:"true"===w.listadoUnitario.SUBGLOTICA?"checked":"",onclick:function(e){w.listadoUnitario.SUBGLOTICA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputSubglotica"},"Subglótica")]))])],y("br"),y("br"),[y("div",{class:"d-flex justify-content-center"},y("h6","Muestras")),y("div",{class:"row justify-content-center"},[y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputEsputo",checked:"true"===w.listadoUnitario.ESPUTO?"checked":"",onclick:function(e){w.listadoUnitario.ESPUTO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputEsputo"},"Esputo")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputHisopado",checked:"true"===w.listadoUnitario.ISOPADO?"checked":"",onclick:function(e){w.listadoUnitario.ISOPADO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputHisopado"},"Hisopado")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputSecrecionTraqueal",checked:"true"===w.listadoUnitario.SECRECIONTRAQUEAL?"checked":"",onclick:function(e){w.listadoUnitario.SECRECIONTRAQUEAL=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputSecrecionTraqueal"},"Secreción Traqueal")]))])],[y("div",{class:"d-flex justify-content-center"},y("h6","Observación Clínica")),y("h6","Síntomas"),y("div",{class:"row justify-content-center"},[y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputDisnea",checked:"true"===w.listadoUnitario.DISNEA?"checked":"",onclick:function(e){w.listadoUnitario.DISNEA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputDisnea"},"Disnea")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputTos",checked:"true"===w.listadoUnitario.TOS?"checked":"",onclick:function(e){w.listadoUnitario.TOS=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputTos"},"Tos")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputExpectoacion",checked:"true"===w.listadoUnitario.EXPECTORACION?"checked":"",onclick:function(e){w.listadoUnitario.EXPECTORACION=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputExpectoacion"},"Expectoración")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputDolorToracico",checked:"true"===w.listadoUnitario.DOLORTORACICO?"checked":"",onclick:function(e){w.listadoUnitario.DOLORTORACICO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputDolorToracico"},"Dolor Torácico")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputHemoptisis",checked:"true"===w.listadoUnitario.HEMOPTISIS?"checked":"",onclick:function(e){w.listadoUnitario.HEMOPTISIS=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputHemoptisis"},"Hemoptisis")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputFiebre",checked:"true"===w.listadoUnitario.FIEBRE?"checked":"",onclick:function(e){w.listadoUnitario.FIEBRE=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputFiebre"},"Fiebre")]))]),y("h6","Signos"),y("div",{class:"row justify-content-center"},[y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputConsciencia",checked:"true"===w.listadoUnitario.CONSCIENCIA?"checked":"",onclick:function(e){w.listadoUnitario.CONSCIENCIA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputConsciencia"},"Consciencia")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputIntubado",checked:"true"===w.listadoUnitario.INTUBADO?"checked":"",onclick:function(e){w.listadoUnitario.INTUBADO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputIntubado"},"Intubado")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputSonidoDeLaVoz",checked:"true"===w.listadoUnitario.SONIDODELAVOZ?"checked":"",onclick:function(e){w.listadoUnitario.SONIDODELAVOZ=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputSonidoDeLaVoz"},"Sonido de la voz")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputSibilancias",checked:"true"===w.listadoUnitario.SIBILANCIAS?"checked":"",onclick:function(e){w.listadoUnitario.SIBILANCIAS=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputSibilancias"},"Sibilancias")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputRoncus",checked:"true"===w.listadoUnitario.RONCUS?"checked":"",onclick:function(e){w.listadoUnitario.RONCUS=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputRoncus"},"Roncus")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputCrepitantes",checked:"true"===w.listadoUnitario.CREPITANTES?"checked":"",onclick:function(e){w.listadoUnitario.CREPITANTES=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputCrepitantes"},"Crepitantes")]))]),y("div",{class:"row justify-content-center"},[y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputLocalizacion",checked:"true"===w.listadoUnitario.LOCALIZACION?"checked":"",onclick:function(e){w.listadoUnitario.LOCALIZACION=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputLocalizacion"},"Localización")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputCianosis",checked:"true"===w.listadoUnitario.CIANOSIS?"checked":"",onclick:function(e){w.listadoUnitario.CIANOSIS=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputCianosis"},"Cianosis")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputRuidoRespiratorio",checked:"true"===w.listadoUnitario.RUIDORESPIRATORIO?"checked":"",onclick:function(e){w.listadoUnitario.RUIDORESPIRATORIO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputRuidoRespiratorio"},"Ruido Respiratorio")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputDisminuido",checked:"true"===w.listadoUnitario.DISMINUIDO?"checked":"",onclick:function(e){w.listadoUnitario.DISMINUIDO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputDisminuido"},"Disminuido")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputAbolido",checked:"true"===w.listadoUnitario.ABOLIDO?"checked":"",onclick:function(e){w.listadoUnitario.ABOLIDO=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputAbolido"},"Abolido")])),y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputEstridor",checked:"true"===w.listadoUnitario.ESTRIDOR?"checked":"",onclick:function(e){w.listadoUnitario.ESTRIDOR=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputEstridor"},"Estridor")]))]),y("div",{class:"row justify-content-center"},[y("div",{class:"col text-center"},y("div",{class:"mb-2"},[y("input",{class:"form-check-input",type:"checkbox",id:"inputEdema",checked:"true"===w.listadoUnitario.EDEMA?"checked":"",onclick:function(e){w.listadoUnitario.EDEMA=e.target.checked?"true":"false"},disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO}),y("label",{class:"form-label",for:"inputEdema"},"Edema")]))])],[y("label",{class:"form-label",for:"textAreaObservacionClinica"},"Criterio"),y(Gn)],[y(Zn)]," ",y("br"),y("button",{class:"btn btn-primary",type:"button",disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO,onclick:function(){var e={NUMERODEPEDIDO:t.dom.inputNumeroPedido.value,FECHAMV:t.dom.inputFechaPedido.value,ORIGEN:t.dom.inputOrigenPedido.value,MEDICOSOLICITANTE:t.dom.inputMedicoSolicitante.value,ESPECIALIDAD:t.dom.inputEspecialidad.value,APELLIDOSNOMBREPACIENTE:t.dom.inputApellidosYNombres.value,NHC:t.dom.inputNHC.value,NUMEROATENCION:t.dom.inputNumeroAtencion.value,UBICACION:t.dom.inputUbicacion.value,ESCALADELDOLOR:t.dom.inputEscalaDolor.value,PESO:t.dom.inputPeso.value,Usuario:Wn.usuarioMoficado.user.user,PRESCRIPCION:w.listadoUnitario.PRESCRIPCION,FECHAHOY:Hi(),HORAANTES:Ui(),HORADESPUES:Ui(),SALBUTAMOLDOSIS:t.dom.inputSalbumatol.value,HIPERSAL7DOSIS:t.dom.inputHipersal.value,BROMURODELPATROPIODOSIS:t.dom.inputBromuroIpatropio.value,DEXAMETASONADOSIS:t.dom.inputDexametasona.value,CLORHIDRATODEAMBROXOLDOSIS:t.dom.inputClorhidratoAmbroxol.value,SOLUCIONSALINADOSIS:t.dom.inputSolucionSalina.value,HIPERSAL35DOSIS:t.dom.inputHipersal3.value,ADRENALINARACENICADOSIS:t.dom.inputAdrenalinaRacenica.value,NAcetilcisteina:t.dom.inputNAcetilcisteina.value,OTROSDOSIS:t.dom.inputOtros.value,NEBULIZACION:w.listadoUnitario.NEBULIZACION,ULTRASONIDO:w.listadoUnitario.ULTRASONIDO,INHALADORESDOSISMEDIDA:w.listadoUnitario.INHALADORESDOSISMEDIDA,DRENAJEPOSTURAL:w.listadoUnitario.DRENAJEPOSTURAL,PERCUSIONES:w.listadoUnitario.PERCUSIONES,VIBRACIONES:w.listadoUnitario.VIBRACIONES,TOSEFECTIVA:w.listadoUnitario.TOSEFECTIVA,ASISTENCIADETOS:w.listadoUnitario.ASISTENCIADETOS,CHALECOVIBROPRECUTOR:w.listadoUnitario.CHALECOVIBROPRECUTOR,NASOTRAQUEAL:w.listadoUnitario.NASOTRAQUEAL,TRAQUEAL:w.listadoUnitario.TRAQUEAL,OROTRAQUEAL:w.listadoUnitario.OROTRAQUEAL,LAVADONASAL:w.listadoUnitario.LAVADONASAL,SUBGLOTICA:w.listadoUnitario.SUBGLOTICA,ESPUTO:w.listadoUnitario.ESPUTO,ISOPADO:w.listadoUnitario.ISOPADO,SECRECIONTRAQUEAL:w.listadoUnitario.SECRECIONTRAQUEAL,CONSCIENCIA:w.listadoUnitario.CONSCIENCIA,INTUBADO:w.listadoUnitario.INTUBADO,ESTRIDOR:w.listadoUnitario.ESTRIDOR,SIBILANCIAS:w.listadoUnitario.SIBILANCIAS,RONCUS:w.listadoUnitario.RONCUS,CREPITANTES:w.listadoUnitario.CREPITANTES,LOCALIZACION:w.listadoUnitario.LOCALIZACION,CIANOSIS:w.listadoUnitario.CIANOSIS,RUIDORESPIRATORIO:w.listadoUnitario.RUIDORESPIRATORIO,DISMINUIDO:w.listadoUnitario.DISMINUIDO,ABOLIDO:w.listadoUnitario.ABOLIDO,SONIDODELAVOZ:w.listadoUnitario.SONIDODELAVOZ,EDEMA:w.listadoUnitario.EDEMA,DISNEA:w.listadoUnitario.DISNEA,TOS:w.listadoUnitario.TOS,EXPECTORACION:w.listadoUnitario.EXPECTORACION,DOLORTORACICO:w.listadoUnitario.DOLORTORACICO,HEMOPTISIS:w.listadoUnitario.HEMOPTISIS,FIEBRE:w.listadoUnitario.FIEBRE,INCENTIVORESPIRATORIO:w.listadoUnitario.INCENTIVORESPIRATORIO,PRESIONPOSITIVAVIAAREA:w.listadoUnitario.PRESIONPOSITIVAVIAAREA,PRESIONPOSITIVAEXPIRACION:w.listadoUnitario.PRESIONPOSITIVAEXPIRACION,KINISIOTERAPIADELTORAX:w.listadoUnitario.KINISIOTERAPIADELTORAX,EJERCICIOSRESPIRATORIOS:w.listadoUnitario.EJERCICIOSRESPIRATORIOS,MILILITROSPORSEGUNDOINCENTIVO:t.dom.inputMililitrosPorSegundo.value,CENTIMETROSSEGUNDOINCENTIVO:t.dom.inputCentimetrosCubicosPorSegundo.value,FRACCIONOXIGENOPORCENTAJE:t.dom.inputPorcentajeFraccion.value,FRACCIONIOXIGENOLITROS:t.dom.inputLitrosPorMinutoFraccion.value,ALTOFLUJOPORCENTAJE:t.dom.inputPorcentajeAltoFlujo.value,ALTOFLUJOLITROSPORMINUTO:t.dom.inputLitroAltoFlujo.value,TIENDAFACIALPORCENTAJE:t.dom.inputPorcentajeTiendaFacial.value,TIENDAFACIALLITROSPORMINUTO:t.dom.inputLitroPorMinutoTiendaFacial.value,TUBOENTPORCENTAJE:t.dom.inputPorcentajeTuboEnT.value,TUBOENTLITROSPORMINUTO:t.dom.inputLitroTuboEnT.value,CANULANASALPORCENTAJE:t.dom.inputPorcentajeCanulaNasal.value,CANULANASALLITROSPORMINUTO:t.dom.inputLitroPorMinutoCanulaNasal.value,MASCARILLAPORCENTAJE:t.dom.inputPorcentajeMascarilla.value,MASCARILLALITROSPORMINUTO:t.dom.inputLitroMascarilla.value,HELIOXPORCENTAJE:t.dom.inputPorcentajeHeliox.value,HELIOXLITROSPORMINUTO:t.dom.inputLitroPorMinutoHeliox.value,AIREAMBIENTEPORCENTAJE:t.dom.inputPorcentajeAireAmbiente.value,VENTILACIONMECANICA:w.listadoUnitario.VENTILACIONMECANICA,VENTILACIONNOINVASIVA:w.listadoUnitario.VENTILACIONNOINVASIVA,SATURACIONPREVIA:t.dom.inputSaturacionPreviaPorcentaje.value,SATURACIONPOSTERIOR:t.dom.inputSaturacionPosteriorPorcentaje.value,FRECUENCIACARDIACAPREVIA:t.dom.inputFrecuenciaCardiacaPreviaPorMinuto.value,FRECUENCIACARDIACAPOSTERIOR:t.dom.inputFrecuenciaCardiacaPosteriorPorMinuto.value,FRECUENCIARESPIRATORIAPREVIA:t.dom.inputFrecuenciaRespiratoriaPreviaPorMinuto.value,FRECUENCIARESPIRATORIAPOS:t.dom.inputFrecuenciaRespiratoriaPosteriorPorMinuto.value,CRITERIO:t.dom.textareaCriterio.value,ESTADO:"Activo",ID:w.listadoUnitario.ID,DISPOSITIVO:ji(),FECHAREGISTRO:t.dom.inputFechaHoraRegistro.value};Wn.validarFechaHoraRegistro()&&window.confirm("¿Estás seguro que deseas actualizar el formulario?")&&(w.actualizar(e),y.mount(document.querySelector("#gestion-muestras"),null),y.mount(document.querySelector("#cerrar-gestion-muestras"),null),w.listado=[],w.loading=!0)}},"Guardar"),y.trust("&nbsp;"),y.trust("&nbsp;"),y("button",{class:"btn btn-primary",type:"button",disabled:"Cancelado"===w.listadoUnitario.ESTADO||"Finalizado"===w.listadoUnitario.ESTADO,onclick:function(){var e={NUMERODEPEDIDO:t.dom.inputNumeroPedido.value,FECHAMV:t.dom.inputFechaPedido.value,ORIGEN:t.dom.inputOrigenPedido.value,MEDICOSOLICITANTE:t.dom.inputMedicoSolicitante.value,ESPECIALIDAD:t.dom.inputEspecialidad.value,APELLIDOSNOMBREPACIENTE:t.dom.inputApellidosYNombres.value,NHC:t.dom.inputNHC.value,NUMEROATENCION:t.dom.inputNumeroAtencion.value,UBICACION:t.dom.inputUbicacion.value,ESCALADELDOLOR:t.dom.inputEscalaDolor.value,PESO:t.dom.inputPeso.value,Usuario:Wn.usuarioMoficado.user.user,PRESCRIPCION:w.listadoUnitario.PRESCRIPCION,FECHAHOY:Hi(),HORAANTES:Ui(),HORADESPUES:Ui(),SALBUTAMOLDOSIS:t.dom.inputSalbumatol.value,HIPERSAL7DOSIS:t.dom.inputHipersal.value,BROMURODELPATROPIODOSIS:t.dom.inputBromuroIpatropio.value,DEXAMETASONADOSIS:t.dom.inputDexametasona.value,CLORHIDRATODEAMBROXOLDOSIS:t.dom.inputClorhidratoAmbroxol.value,SOLUCIONSALINADOSIS:t.dom.inputSolucionSalina.value,HIPERSAL35DOSIS:t.dom.inputHipersal3.value,ADRENALINARACENICADOSIS:t.dom.inputAdrenalinaRacenica.value,NAcetilcisteina:t.dom.inputNAcetilcisteina.value,OTROSDOSIS:t.dom.inputOtros.value,NEBULIZACION:w.listadoUnitario.NEBULIZACION,ULTRASONIDO:w.listadoUnitario.ULTRASONIDO,INHALADORESDOSISMEDIDA:w.listadoUnitario.INHALADORESDOSISMEDIDA,DRENAJEPOSTURAL:w.listadoUnitario.DRENAJEPOSTURAL,PERCUSIONES:w.listadoUnitario.PERCUSIONES,VIBRACIONES:w.listadoUnitario.VIBRACIONES,TOSEFECTIVA:w.listadoUnitario.TOSEFECTIVA,ASISTENCIADETOS:w.listadoUnitario.ASISTENCIADETOS,CHALECOVIBROPRECUTOR:w.listadoUnitario.CHALECOVIBROPRECUTOR,NASOTRAQUEAL:w.listadoUnitario.NASOTRAQUEAL,TRAQUEAL:w.listadoUnitario.TRAQUEAL,OROTRAQUEAL:w.listadoUnitario.OROTRAQUEAL,LAVADONASAL:w.listadoUnitario.LAVADONASAL,SUBGLOTICA:w.listadoUnitario.SUBGLOTICA,ESPUTO:w.listadoUnitario.ESPUTO,ISOPADO:w.listadoUnitario.ISOPADO,SECRECIONTRAQUEAL:w.listadoUnitario.SECRECIONTRAQUEAL,CONSCIENCIA:w.listadoUnitario.CONSCIENCIA,INTUBADO:w.listadoUnitario.INTUBADO,ESTRIDOR:w.listadoUnitario.ESTRIDOR,SIBILANCIAS:w.listadoUnitario.SIBILANCIAS,RONCUS:w.listadoUnitario.RONCUS,CREPITANTES:w.listadoUnitario.CREPITANTES,LOCALIZACION:w.listadoUnitario.LOCALIZACION,CIANOSIS:w.listadoUnitario.CIANOSIS,RUIDORESPIRATORIO:w.listadoUnitario.RUIDORESPIRATORIO,DISMINUIDO:w.listadoUnitario.DISMINUIDO,ABOLIDO:w.listadoUnitario.ABOLIDO,SONIDODELAVOZ:w.listadoUnitario.SONIDODELAVOZ,EDEMA:w.listadoUnitario.EDEMA,DISNEA:w.listadoUnitario.DISNEA,TOS:w.listadoUnitario.TOS,EXPECTORACION:w.listadoUnitario.EXPECTORACION,DOLORTORACICO:w.listadoUnitario.DOLORTORACICO,HEMOPTISIS:w.listadoUnitario.HEMOPTISIS,FIEBRE:w.listadoUnitario.FIEBRE,INCENTIVORESPIRATORIO:w.listadoUnitario.INCENTIVORESPIRATORIO,PRESIONPOSITIVAVIAAREA:w.listadoUnitario.PRESIONPOSITIVAVIAAREA,PRESIONPOSITIVAEXPIRACION:w.listadoUnitario.PRESIONPOSITIVAEXPIRACION,KINISIOTERAPIADELTORAX:w.listadoUnitario.KINISIOTERAPIADELTORAX,EJERCICIOSRESPIRATORIOS:w.listadoUnitario.EJERCICIOSRESPIRATORIOS,MILILITROSPORSEGUNDOINCENTIVO:t.dom.inputMililitrosPorSegundo.value,CENTIMETROSSEGUNDOINCENTIVO:t.dom.inputCentimetrosCubicosPorSegundo.value,FRACCIONOXIGENOPORCENTAJE:t.dom.inputPorcentajeFraccion.value,FRACCIONIOXIGENOLITROS:t.dom.inputLitrosPorMinutoFraccion.value,ALTOFLUJOPORCENTAJE:t.dom.inputPorcentajeAltoFlujo.value,ALTOFLUJOLITROSPORMINUTO:t.dom.inputLitroAltoFlujo.value,TIENDAFACIALPORCENTAJE:t.dom.inputPorcentajeTiendaFacial.value,TIENDAFACIALLITROSPORMINUTO:t.dom.inputLitroPorMinutoTiendaFacial.value,TUBOENTPORCENTAJE:t.dom.inputPorcentajeTuboEnT.value,TUBOENTLITROSPORMINUTO:t.dom.inputLitroTuboEnT.value,CANULANASALPORCENTAJE:t.dom.inputPorcentajeCanulaNasal.value,CANULANASALLITROSPORMINUTO:t.dom.inputLitroPorMinutoCanulaNasal.value,MASCARILLAPORCENTAJE:t.dom.inputPorcentajeMascarilla.value,MASCARILLALITROSPORMINUTO:t.dom.inputLitroMascarilla.value,HELIOXPORCENTAJE:t.dom.inputPorcentajeHeliox.value,HELIOXLITROSPORMINUTO:t.dom.inputLitroPorMinutoHeliox.value,AIREAMBIENTEPORCENTAJE:t.dom.inputPorcentajeAireAmbiente.value,VENTILACIONMECANICA:w.listadoUnitario.VENTILACIONMECANICA,VENTILACIONNOINVASIVA:w.listadoUnitario.VENTILACIONNOINVASIVA,SATURACIONPREVIA:t.dom.inputSaturacionPreviaPorcentaje.value,SATURACIONPOSTERIOR:t.dom.inputSaturacionPosteriorPorcentaje.value,FRECUENCIACARDIACAPREVIA:t.dom.inputFrecuenciaCardiacaPreviaPorMinuto.value,FRECUENCIACARDIACAPOSTERIOR:t.dom.inputFrecuenciaCardiacaPosteriorPorMinuto.value,FRECUENCIARESPIRATORIAPREVIA:t.dom.inputFrecuenciaRespiratoriaPreviaPorMinuto.value,FRECUENCIARESPIRATORIAPOS:t.dom.inputFrecuenciaRespiratoriaPosteriorPorMinuto.value,CRITERIO:t.dom.textareaCriterio.value,ESTADO:"Finalizado",ID:w.listadoUnitario.ID,DISPOSITIVO:ji(),FECHAREGISTRO:t.dom.inputFechaHoraRegistro.value};Wn.validarFechaHoraRegistro()&&window.confirm("¿Estás seguro que deseas finalizar el formulario?")&&(w.actualizar(e),y.mount(document.querySelector("#gestion-muestras"),null),y.mount(document.querySelector("#cerrar-gestion-muestras"),null),w.listado=[],w.loading=!0)}},"Finalizar")," ",y.trust("&nbsp;")," ",y.trust("&nbsp;"),"Finalizado"===w.listadoUnitario.ESTADO?y(y.route.Link,{href:"http://172.16.2.60:8080/jasperserver/flow.html?_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports&reportUnit=%2Freports%2FTerapiaRespiratoria&standAlone=true&decorate=no&j_username=jasperadmin&j_password=jasperadmin&InformeId="+w.listadoUnitario.ID+"&output=pdf",class:"btn btn-primary",target:"_blank",type:"button"},"Imprimir"):null]):y(jn)]}},Qn=Wn,er=qo,tr={oninit:function(e){er.cargarListado(dr.numeroPedido)},view:function(e){return[" ",r()("br"),r()("table",{class:"table"},[r()("thead",r()("tr",[r()("th",{scope:"col"},r()("b","ID")),r()("th",{scope:"col"},r()("b","Realizado por")),r()("th",{scope:"col"},r()("b","Fecha/Hora")),r()("th",{scope:"col"},r()("b","Estado")),r()("th",{scope:"col"},r()("b","Visualización")),r()("th",{scope:"col"},r()("b","Cancelar")),r()("th",{scope:"col"},r()("b","Imprimir"))])),r()("tbody",er.listado.map(function(t){return r()("tr",[r()("td",{scope:"row"},t.ID),r()("td",{scope:"row"},t.Usuario.toUpperCase()),r()("td",t.FECHAREGISTRO),r()("td",t.ESTADO),r()("td",r()("button",{class:"Cancelado"===t.ESTADO||"Finalizado"===t.ESTADO?"btn btn-secondary":"btn btn-primary",type:"button",onclick:function(){er.listadoUnitario=null,window.confirm("¿Estás seguro que deseas ir al formulario que fue realizado por ".concat(t.Usuario.toUpperCase()," el ").concat(t.FECHAHOY,"?"))&&(r().mount(document.querySelector("#gestion-muestras"),{view:function(){return r()(Qn,{id:t.ID})}}),r().mount(document.querySelector("#cerrar-gestion-muestras"),Un),window.scrollTo({top:0,behavior:"smooth"}))}},"Cancelado"===t.ESTADO||"Finalizado"===t.ESTADO?"Visualizar":"Editar")),r()("td",r()("button",{class:"btn btn-danger",type:"button",disabled:"Cancelado"===t.ESTADO,onclick:function(){var e={ID:t.ID,ESTADO:"Cancelado",NUMEROATENCION:dr.numeroAtencion};window.confirm("¿Estás seguro que deseas modificar el estado a cancelado?")&&(er.modificarEstado(e),er.listado=[],er.loading=!0)}},"Cancelar")),r()("td","Finalizado"===t.ESTADO?r()(r().route.Link,{href:"http://172.16.2.60:8080/jasperserver/flow.html?_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports&reportUnit=%2Freports%2FTerapiaRespiratoria&standAlone=true&decorate=no&j_username=jasperadmin&j_password=jasperadmin&InformeId="+t.ID+"&output=pdf",class:"btn btn-primary",target:"_blank",type:"button"},"Imprimir"):r()("div",{class:"alert alert-danger",role:"alert"},"Solo podras imprimir el formulario cuando este finalizado"))])}))])]}},ar={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==or.num&&setTimeout(function(){or.num=or.data.length,or.parseFetch(),r().redraw.sync()},2e3),0==ar.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+or.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[ar.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=or.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:or.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",ar.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",ar.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",ar.sexo)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",ar.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",ar.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",ar.edad||ar.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",ar.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",ar.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",ar.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",ar.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",ar.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},or={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){ar.secs.push(o.data[e])}),ar.secs.map(function(e,t,a){"nombres"==e.name&&(ar.nombres=e.answer),"apellidos_paciente"==e.name&&(ar.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(ar.sexo=e.answer),"nhcl"==e.name&&(ar.nhcl=e.answer),"numero_admision"==e.name&&(ar.numero_admision=e.answer),"edad"==e.name&&(ar.edad=e.answer),"edad_paciente"==e.name&&(ar.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(ar.identificacion=e.answer),"fecha_admision"==e.name&&(ar.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(ar.ubicacion=e.answer),"fecha_alta"==e.name&&(ar.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(ar.medico_tratante=e.answer)})},parseFetch:function(){return ar.secs=[],or.data.map(function(e,t,a){or.parseDoc(or.data[t])})},fetch:function(){or.data=[],or.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+or.nhc+"&adm="+or.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(or.data=e,or.num=0):or.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){or.fetch()},5e3)})},view:function(){return or.error?[r()(".alert.alert-danger[role='alert']",or.error)]:0!==or.data.length?[r()(ar)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},ir={data:[],detalle:[],error:"",showFor:"",fetch:function(){ir.data=[],ir.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:rr.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(ir.data=e.data,or.adm=ir.data[0].ADM,or.nhc=ir.data[0].NHCL,or.fetch()):ir.error=e.message}).catch(function(e){setTimeout(function(){ir.fetch()},5e3)})},view:function(){return ir.error?[r()(".alert.alert-danger[role='alert']",ir.error)]:0!==ir.data.length?[r()(or)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},nr={view:function(){if(0!==rr.examenes.length)return rr.examenes.map(function(e,t,a){return[r()(".tx-14.tx-semibold.d-inline",e.EXAMEN),r()("br"),null!==e.OBS_EXAMEN?r()(".d-inline","Observaciones:"):"",null!==e.OBS_EXAMEN?r()("br"):"",null!==e.OBS_EXAMEN?r()(".d-inline",e.OBS_EXAMEN):"",r()("br")]})}},rr={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){d.isAuth(),void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==rr.data&&0==rr.data.length||rr.numeroPedido!==e.attrs.numeroPedido)&&(rr.numeroPedido=e.attrs.numeroPedido,rr.numeroAtencion=e.attrs.numeroAtencion,rr.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,rr.fetch()))},fetch:function(){rr.data=[],rr.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-tr",body:{numeroPedido:rr.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(rr.loader=!1,rr.data=e.data,rr.examenes=e.examenes,ir.fetch()):rr.error=e.message}).catch(function(e){})},view:function(e){return[r()(o,{oncreate:o.setPage("imagen")}),r()($o,{oncreate:$o.setPage(24)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-respiratoria"},["Terapia Respiratoria"])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+rr.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){rr.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){rr.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){rr.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){rr.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){window.close()}}))),"N"==rr.data.TIPO_PEDIDO?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")],r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),r()("td",{style:{"background-color":"#eaeff5"}},rr.data.CD_PRE_MED),r()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},rr.data.FECHA_PEDIDO+" "+rr.data.HORA_PEDIDO),r()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},rr.data.SECTOR)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},rr.data.MED_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},rr.data.ESPECIALIDAD)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},rr.data.NM_PACIENTE),r()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),r()("td",{style:{"background-color":"#eaeff5"}},rr.data.EDAD),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},rr.data.CD_PACIENTE)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),r()("td",{style:{"background-color":"#eaeff5"}},rr.data.AT_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),r()("td",{style:{"background-color":"#eaeff5"}},rr.data.PESO),r()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),r()("td",{style:{"background-color":"#eaeff5"}},rr.data.ALTURA),r()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},rr.data.SECTOR+" "+rr.data.UBICACION)]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},r()(nr))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),r()("li.nav-item",r()("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Registro Terapia Respiratoria"))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(ir)]),r()(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='recepcionmuestra-tab']",[r()("div.mg-0.mg-t-10.mg-b-10.text-left",[r()("button#btnnuevamuestra.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){window.confirm("¿Estás seguro de abrir un nuevo formulario?")&&(r().mount(document.querySelector("#gestion-muestras"),Ln),r().mount(document.querySelector("#cerrar-gestion-muestras"),Un))}},[r()("i.fas.mg-r-5")],"Nuevo Formulario"),r()("div#cerrar-gestion-muestras",{style:{width:"50%",float:"right"}})]),r()("div#gestion-muestras"),r()(tr)])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}},dr=rr,sr=wl(1360),lr={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.endoscopia.map(function(e,t,a){return[sr(sr.route.Link,{href:"/"+e.href,class:cr.page==e.idModulo?"active":""},[e.label])]})]}},cr={page:"",setPage:function(e){cr.page=e},view:function(){return[sr(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[sr("div.sidebar-header",[sr("a[href=''][id='mainMenuOpen']",sr("i[data-feather='menu']")),sr("h5","Menu"),sr("a[href=''][id='sidebarMenuClose']",sr("i[data-feather='x']"))]),sr("div.sidebar-body",sr("ul.sidebar-nav",[sr("li.nav-label.mg-b-15","Endoscopía"),sr("li.nav-item.show",[sr(sr.route.Link,{href:"/endoscopia",class:"nav-link with-sub"},[sr("i[data-feather='layout']")," Endoscopía "]),sr("nav.nav",[sr(lr)])])]))])]}},ur=cr,mr=wl(1360),pr={view:function(){return[mr("div.content.content-components",mr("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[mr("ol.breadcrumb.df-breadcrumbs.mg-b-10",[mr("li.breadcrumb-item",mr(mr.route.Link,{href:"/"},["MetroPlus"])),mr("li.breadcrumb-item.active[aria-current='page']","Endoscopía")]),mr("h1.df-title.mg-t-20.mg-b-10","Endoscopía:"),mr("div.row.tx-14",[d.isShow("endoscopia",25)?[mr("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){mr.route.set("/endoscopia/pedidos")}},[mr("div",{class:"media"},[mr("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},mr("i",{class:"fas fa-inbox tx-30 tx-white"})),mr("div",{class:"media-body mg-l-15"},[mr("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),mr("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},br={oninit:function(){o.page="",ur.page="",d.isAuth()},oncreate:function(){document.title="Endoscopía | "+d.title},view:function(){return[mr(o,{oncreate:o.setPage("endoscopia")}),mr(ur),mr(pr)]}};var fr={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(fr.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?fr.start(e):fr.stop(e),e.isPaused=!e.isPaused}};function hr(){var t={interval:null,seconds:100,isPaused:!1};return fr.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){fr.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){fr.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){fr.stop(t)}}}var gr={oncreate:function(){_.loadPedidos(),0!==_.searchField.length&&$("#table-pedidos").DataTable().search(_.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Pedidos de Endoscopía:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==_.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==_.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==_.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==_.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==_.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==_.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==_.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==_.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==_.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==_.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==_.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==_.idFiltro?moment(moment(_.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){_.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),_.loader=!0,_.pedidos=[],_.fetchPedidos(),r().route.set("/endoscopia/pedidos?idFiltro="+_.idFiltro+"&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==_.idFiltro?moment(moment(_.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){_.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),_.loader=!0,_.pedidos=[],_.fetchPedidos(),r().route.set("/endoscopia/pedidos?idFiltro="+_.idFiltro+"&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta},["Pedidos entre Fechas"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta},["Pedidos de C. Externa"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta},["Pedidos de Hospitalización"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==_.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){_.searchField=e.target.value},value:_.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},_={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){ur.page="",0==_.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),_.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),_.fechaHasta=moment().format("DD-MM-YYYY"),_.loader=!0,_.pedidos=[],_.fetchPedidos())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Endoscopia")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:_.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){_.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),r().mount(e.anCells[5],{view:function(){return[r()("div.d-flex",{},[r()("div.pd-0.flex-grow-1",r()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},r()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),r()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),r()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),r()(".tx-semibold.d-inline.tx-12"," SECTOR: "),r()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),r()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),r()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),r()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),r()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[r()("div.pd-0.flex-grow-1",r()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),r()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),r()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),r()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},r()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){r().route.set("/endoscopia/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},r()(".tx-normal",r()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==_.idFiltro?"?idFiltro="+_.idFiltro:"?idFiltro="+_.idFiltro+"&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/endoscopia/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){_.loader=!1,_.pedidos=e.data}).catch(function(e){setTimeout(function(){_.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(_.pedidos).draw()},view:function(e){return _.loader?[r()(ur,{oncreate:ur.setPage(25)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/endoscopia"},[" Endoscopía "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==_.error.length?[r()(ur,{oncreate:ur.setPage(25)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/endoscopia"},[" Endoscopía "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("p","No existe infrmac dd ncin")])]))]:_.loader||0===_.pedidos.length?_.loader||0!=_.pedidos.length?[r()(ur,{oncreate:ur.setPage(25)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/endoscopia"},[" Endoscopía "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(ur,{oncreate:ur.setPage(25)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/endoscopia"},[" Endoscopía "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(ur,{oncreate:ur.setPage(25)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/endoscopia"},[" Endoscopía "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()(gr)])),r()("div.section-nav",[r()("label.nav-label","RECEPCIÓN DE PEDIDOS"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","N° de Pedidos:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",_.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(hr)))])]}},vr=_,xr={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==yr.num&&setTimeout(function(){yr.num=yr.data.length,yr.parseFetch(),r().redraw.sync()},2e3),0==xr.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+yr.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[xr.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=yr.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:yr.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",xr.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",xr.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",xr.sexo)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",xr.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",xr.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",xr.edad||xr.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",xr.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",xr.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",xr.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",xr.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",xr.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},yr={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){xr.secs.push(o.data[e])}),xr.secs.map(function(e,t,a){"nombres"==e.name&&(xr.nombres=e.answer),"apellidos_paciente"==e.name&&(xr.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(xr.sexo=e.answer),"nhcl"==e.name&&(xr.nhcl=e.answer),"numero_admision"==e.name&&(xr.numero_admision=e.answer),"edad"==e.name&&(xr.edad=e.answer),"edad_paciente"==e.name&&(xr.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(xr.identificacion=e.answer),"fecha_admision"==e.name&&(xr.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(xr.ubicacion=e.answer),"fecha_alta"==e.name&&(xr.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(xr.medico_tratante=e.answer)})},parseFetch:function(){return xr.secs=[],yr.data.map(function(e,t,a){yr.parseDoc(yr.data[t])})},fetch:function(){yr.data=[],yr.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+yr.nhc+"&adm="+yr.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(yr.data=e,yr.num=0):yr.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){yr.fetch()},5e3)})},view:function(){return yr.error?[r()(".alert.alert-danger[role='alert']",yr.error)]:0!==yr.data.length?[r()(xr)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},wr={data:[],detalle:[],error:"",showFor:"",fetch:function(){wr.data=[],wr.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Er.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(wr.data=e.data,yr.adm=wr.data[0].ADM,yr.nhc=wr.data[0].NHCL,yr.fetch()):wr.error=e.message}).catch(function(e){setTimeout(function(){wr.fetch()},5e3)})},view:function(){return wr.error?[r()(".alert.alert-danger[role='alert']",wr.error)]:0!==wr.data.length?[r()(yr)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},_r={view:function(){if(0!==Er.examenes.length)return Er.examenes.map(function(e,t,a){return[r()(".tx-14.tx-semibold.d-inline",e.EXAMEN),null!==e.OBS_EXAMEN?[r()("br"),r()(".d-inline","Observaciones:"),r()("br"),r()(".d-inline",e.OBS_EXAMEN),r()("br"),r()("br")]:""]})}},Er={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==Er.data&&0==Er.data.length||Er.numeroPedido!==e.attrs.numeroPedido)&&(Er.numeroPedido=e.attrs.numeroPedido,Er.numeroAtencion=e.attrs.numeroAtencion,Er.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,Er.fetch()))},fetch:function(){Er.data=[],Er.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-endoscopia",body:{numeroPedido:Er.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Er.loader=!1,Er.data=e.data,Er.examenes=e.examenes,wr.fetch()):Er.error=e.message}).catch(function(e){})},view:function(e){return[r()(o,{oncreate:o.setPage("endoscopia")}),r()(ur,{oncreate:ur.setPage(25)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/endoscopia"},[" Endoscopía"])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Er.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){Er.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){Er.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){Er.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){Er.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==vr.idFiltro&&1<vr.idFiltro?r().route.set("/endoscopia/pedidos/",{idFiltro:vr.idFiltro,fechaDesde:vr.fechaDesde,fechaHasta:vr.fechaHasta}):r().route.set("/endoscopia/pedidos/",{idFiltro:1})}}))),r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° de EndoPedido:"),r()("td",{style:{"background-color":"#eaeff5"}},Er.data.CD_PRE_MED),r()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Er.data.FECHA_PEDIDO+" "+Er.data.HORA_PEDIDO),r()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Er.data.SECTOR)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Er.data.MED_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Er.data.ESPECIALIDAD)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Er.data.NM_PACIENTE),r()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),r()("td",{style:{"background-color":"#eaeff5"}},Er.data.EDAD),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Er.data.CD_PACIENTE)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),r()("td",{style:{"background-color":"#eaeff5"}},Er.data.AT_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),r()("td",{style:{"background-color":"#eaeff5"}},Er.data.PESO),r()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),r()("td",{style:{"background-color":"#eaeff5"}},Er.data.ALTURA),r()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Er.data.SECTOR+" "+Er.data.UBICACION)]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},r()(_r))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(wr)])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}},Ar=Er;function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Tr={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==Mr.num&&setTimeout(function(){Mr.num=Mr.data.length,Mr.parseFetch(),r().redraw.sync()},2e3),0==Tr.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Mr.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[Tr.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Mr.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:Mr.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",Tr.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",Tr.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center","F"==Tr.sexo?"Femenino":"Masculino")),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Tr.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Tr.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",Tr.edad||Tr.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Tr.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Tr.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Tr.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",Tr.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",Tr.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Mr={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Tr.secs.push(o.data[e])}),Tr.secs.map(function(e,t,a){"nombres"==e.name&&(Tr.nombres=e.answer),"apellidos_paciente"==e.name&&(Tr.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Tr.sexo=e.answer),"nhcl"==e.name&&(Tr.nhcl=e.answer),"numero_admision"==e.name&&(Tr.numero_admision=e.answer),"edad"==e.name&&(Tr.edad=e.answer),"edad_paciente"==e.name&&(Tr.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Tr.identificacion=e.answer),"fecha_admision"==e.name&&(Tr.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Tr.ubicacion=e.answer),"fecha_alta"==e.name&&(Tr.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Tr.medico_tratante=e.answer)})},parseFetch:function(){return Tr.secs=[],Mr.data.map(function(e,t,a){Mr.parseDoc(Mr.data[t])})},fetch:function(){Mr.data=[],Mr.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Mr.nhc+"&adm="+Mr.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Mr.data=e,Mr.num=0,r().redraw()):Mr.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Mr.fetch()},5e3)})},view:function(){return Mr.error?[r()(".alert.alert-danger[role='alert']",Mr.error)]:0!==Mr.data.length?[r()(Tr)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},Pr={data:[],detalle:[],error:"",showFor:"",fetch:function(){Pr.data=[],Pr.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Rr.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Pr.data=e.data,Mr.adm=Pr.data[0].ADM,Mr.nhc=Pr.data[0].NHCL,Mr.fetch()):Pr.error=e.message}).catch(function(e){setTimeout(function(){Pr.fetch()},5e3)})},view:function(){return Pr.error?[r()(".alert.alert-danger[role='alert']",Pr.error)]:0!==Pr.data.length?[r()(Mr)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},kr={view:function(){if(0!==Rr.examenes)return null==Rr.examenes.Exame.length&&(Rr.examenes.Exame=[Rr.examenes.Exame]),Rr.examenes.Exame.map(function(e,t,a){return"E"==e.operacao?[r()(".tx-14.tx-semibold.tx-danger.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),r()("br")]:[r()(".tx-14.tx-semibold.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),r()("br")]})}},Sr={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:function(){Sr.error="",Sr.data=[],Sr.documento=[],r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:Rr.numeroPedido,idTimeRecord:Rr.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Rr.loader=!1,Rr.data=e.data.pedido,Rr.examenes=e.data.pedido.PedidoExameLab.listaExame,Sr.documento=e.data,Sr.data=e.data.dataTomaMuestra.examenesToma,Sr.dataMuestras=e.data.dataRecepcion.examenesRecep,Sr.documento.dataTomaMuestra.insumosToma=e.data.dataTomaMuestra.insumosToma,0!==Sr.documento.dataTomaMuestra.fechaToma.length&&(Ir.disabledToma=!0,Ir.checkedAll=!0),Pr.fetch(),Or.fetch(),Cr.fetch()):Rr.error=e.message}).catch(function(e){})}},E={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0,otros:0},Cr={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:Cr.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[0],{view:function(){return e._aData.title,r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),r()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),r()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(Cr.data).draw()},fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+Rr.numeroPedido}).then(function(e){Cr.data=e.data,Cr.loadObservaciones()}).catch(function(e){})},sendNotiLab:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+Rr.numeroPedido,body:{message:Cr.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Cr.observaciones="",Cr.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){EditarPedido.error=e.message})}},Ir={tomaNo:void 0,checkedAll:!1,disabledToma:!1,disabledInsumos:!1,oncreate:function(){0!==Sr.documento.dataTomaMuestra.insumosToma.length&&(E.tuboLila=Sr.documento.dataTomaMuestra.insumosToma.tuboLila,E.tuboRojo=Sr.documento.dataTomaMuestra.insumosToma.tuboRojo,E.tuboCeleste=Sr.documento.dataTomaMuestra.insumosToma.tuboCeleste,E.tirillaTp=Sr.documento.dataTomaMuestra.insumosToma.tirillaTp,E.tuboNegro=Sr.documento.dataTomaMuestra.insumosToma.tuboNegro,E.tuboVerde=Sr.documento.dataTomaMuestra.insumosToma.tuboVerde,E.gsav=Sr.documento.dataTomaMuestra.insumosToma.gsav,E.hemocultivo=Sr.documento.dataTomaMuestra.insumosToma.hemocultivo,E.qtb=Sr.documento.dataTomaMuestra.insumosToma.qtb,E.otros=Sr.documento.dataTomaMuestra.insumosToma.otros)},seleccionarTodos:function(o){Ir.checkedAll=o;var i=moment().format("DD-MM-YYYY HH:mm");return Sr.data.map(function(e,t,a){o?(Sr.data[t].STATUS_TOMA="1",Sr.data[t].FECHA_TOMA=i,Sr.data[t].customCheked=!0):(Sr.data[t].STATUS_TOMA="",Sr.data[t].FECHA_TOMA="",Sr.data[t].customCheked=!1)})},validarUpdateMuestras:function(){for(var e=0,t=0;t<Sr.data.length;t++)0!==Sr.data[t].STATUS_TOMA.length&&e++;if(0==e)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";var a=0;if(0!==E.tuboLila&&a++,0!==E.tuboRojo&&a++,0!==E.tuboCeleste&&a++,0!==E.tirillaTp&&a++,0!==E.tuboNegro&&a++,0!==E.tuboVerde&&a++,0!==E.gsav&&a++,0!==E.hemocultivo&&a++,0!==E.qtb&&a++,0!==E.otros&&a++,0===a)throw console.log(a),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:function(){Sr.documento.dataTomaMuestra.insumosToma=E,r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-toma-status-pedido-lab",body:{documento:JSON.stringify(Sr.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Sr.documento=e.data,Sr.data=e.data.dataTomaMuestra.examenesToma,Sr.documento.dataTomaMuestra.insumosToma=e.data.dataTomaMuestra.insumosToma}).catch(function(e){})},view:function(){return Sr.error?[r()("p.mg-0",Sr.error)]:0!==Sr.data.length?[r()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[Ir.disabledToma?[r()("p.mg-5.tx-left",[r()("button.btn.btn-xs.btn-secondary[type='button']",{onclick:function(){Ir.disabledToma=!1,Ir.disabledInsumos=!1}},r()("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],r()(".",{style:{"pointer-events":Ir.disabledToma?"none":"auto"}},[r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-dark.text-left.bg-light[colspan='3']","Toma de Muestra")]),r()("tr",[r()("th[colspan='2']",r()("button.btn.btn-xs.btn-outline-danger.btn-block.tx-semibold[type='button']",{onclick:function(e){1==confirm("¿Esta Ud. seguro de confirmar este pedido como Pendiente?")?Rr.tomaPendiente(Rr.numeroPedido):alert("Ok. Operación Cancelada")}},"Registrar como Pendiente"))]),r()("tr",[r()("th.text-left","EXAMEN"),r()("th","CONFIRMACIÓN")])),r()("tbody",[r()("tr",[r()("td.tx-normal",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:Ir.checkedAll,onclick:function(e){Ir.seleccionarTodos(this.checked)}}),r()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),r()("td.tx-medium.text-right[colspan='3']")]),Sr.data.map(function(e,t,a){return[r()("tr",[r()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),"393"!==e.CD_EXA_LAB?[r()("td.tx-16.tx-normal[colspan='1']",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='"+e.CD_EXA_LAB+"']",{checked:Sr.data[t].customCheked,onupdate:function(e){this.checked=Sr.data[t].customCheked},onclick:function(e){e.preventDefault();e=this.checked;Sr.data[t].customCheked=!Sr.data[t].customCheked,e?(this.checked=!0,Sr.data[t].STATUS_TOMA="1",Sr.data[t].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,Ir.checkedAll=!1,Sr.data[t].STATUS_TOMA="",Sr.data[t].FECHA_TOMA="")}}),r()("label.custom-control-label.tx-16[for='"+e.CD_EXA_LAB+"']",0!==Sr.data[t].STATUS_TOMA.length?Sr.data[t].FECHA_TOMA:"Si"+Sr.data[t].STATUS_TOMA)]))]:[]])]})])])),r()("div.table-responsive.mg-b-10.mg-t-10",r()("table.table.table-dashboard.table-hover.mg-b-0",[r()("thead",r()("tr",[r()("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),r()("tr",[r()("th.text-left","INSUMOS"),r()("th.text-left","CANTIDAD")])),r()("tbody",[r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:function(e){e.target.checked?E.tuboLila=1:E.tuboLila=0},oncreate:function(e){void 0!==E.tuboLila&&0!==E.tuboLila&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.tuboLila&&0!==E.tuboLila?1==E.tuboLila&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.tuboLila&&0!==E.tuboLila?e.dom.innerText=E.tuboLila:e.dom.innerText=0},onupdate:function(e){void 0!==E.tuboLila&&0!==E.tuboLila?e.dom.innerText=E.tuboLila:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboLila++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboLila--,E.tuboLila<0&&(E.tuboLila=0)}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:function(e){e.target.checked?E.tuboRojo=1:E.tuboRojo=0},oncreate:function(e){void 0!==E.tuboRojo&&0!==E.tuboRojo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.tuboRojo&&0!==E.tuboRojo?1==E.tuboRojo&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.tuboRojo&&0!==E.tuboRojo?e.dom.innerText=E.tuboRojo:e.dom.innerText=0},onupdate:function(e){void 0!==E.tuboRojo&&0!==E.tuboRojo?e.dom.innerText=E.tuboRojo:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboRojo++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboRojo--,E.tuboRojo<0&&(E.tuboRojo=0)}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:function(e){e.target.checked?E.tuboCeleste=1:E.tuboCeleste=0},oncreate:function(e){void 0!==E.tuboCeleste&&0!==E.tuboCeleste&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.tuboCeleste&&0!==E.tuboCeleste?1==E.tuboCeleste&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.tuboCeleste&&0!==E.tuboCeleste?e.dom.innerText=E.tuboCeleste:e.dom.innerText=0},onupdate:function(e){void 0!==E.tuboCeleste&&0!==E.tuboCeleste?e.dom.innerText=E.tuboCeleste:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboCeleste++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboCeleste--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tirillaTp']",{onclick:function(e){e.target.checked?E.tirillaTp=1:E.tirillaTp=0},oncreate:function(e){void 0!==E.tirillaTp&&0!==E.tirillaTp&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.tirillaTp&&0!==E.tirillaTp?1==E.tirillaTp&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tirillaTp']","Tirilla TP")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.tirillaTp&&0!==E.tirillaTp?e.dom.innerText=E.tirillaTp:e.dom.innerText=0},onupdate:function(e){void 0!==E.tirillaTp&&0!==E.tirillaTp?e.dom.innerText=E.tirillaTp:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.tirillaTp++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.tirillaTp--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:function(e){e.target.checked?E.tuboNegro=1:E.tuboNegro=0},oncreate:function(e){void 0!==E.tuboNegro&&0!==E.tuboNegro&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.tuboNegro&&0!==E.tuboNegro?1==E.tuboNegro&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.tuboNegro&&0!==E.tuboNegro?e.dom.innerText=E.tuboNegro:e.dom.innerText=0},onupdate:function(e){void 0!==E.tuboNegro&&0!==E.tuboNegro?e.dom.innerText=E.tuboNegro:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboNegro++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboNegro--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:function(e){e.target.checked?E.tuboVerde=1:E.tuboVerde=0},oncreate:function(e){void 0!==E.tuboVerde&&0!==E.tuboVerde&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.tuboVerde&&0!==E.tuboVerde?1==E.tuboVerde&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.tuboVerde&&0!==E.tuboVerde?e.dom.innerText=E.tuboVerde:e.dom.innerText=0},onupdate:function(e){void 0!==E.tuboVerde&&0!==E.tuboVerde?e.dom.innerText=E.tuboVerde:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboVerde++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.tuboVerde--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:function(e){e.target.checked?E.gsav=1:E.gsav=0},oncreate:function(e){void 0!==E.gsav&&0!==E.gsav&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.gsav&&0!==E.gsav?1==E.gsav&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.gsav&&0!==E.gsav?e.dom.innerText=E.gsav:e.dom.innerText=0},onupdate:function(e){void 0!==E.gsav&&0!==E.gsav?e.dom.innerText=E.gsav:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.gsav++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.gsav--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:function(e){e.target.checked?E.hemocultivo=1:E.hemocultivo=0},oncreate:function(e){void 0!==E.hemocultivo&&0!==E.hemocultivo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.hemocultivo&&0!==E.hemocultivo?1==E.hemocultivo&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.hemocultivo&&0!==E.hemocultivo?e.dom.innerText=E.hemocultivo:e.dom.innerText=0},onupdate:function(e){void 0!==E.hemocultivo&&0!==E.hemocultivo?e.dom.innerText=E.hemocultivo:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.hemocultivo++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.hemocultivo--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:function(e){e.target.checked?E.qtb=1:E.qtb=0},oncreate:function(e){void 0!==E.qtb&&0!==E.qtb&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.qtb&&0!==E.qtb?1==E.qtb&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),r()("td.tx-16.tx-medium.text-left",[r()(".btn-group.btn-group-sm.tx-16[role='group']",{},[r()("button.btn[type='button']",r()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==E.qtb&&0!==E.qtb?e.dom.innerText=E.qtb:e.dom.innerText=0},onupdate:function(e){void 0!==E.qtb&&0!==E.qtb?e.dom.innerText=E.qtb:e.dom.innerText=0}})),r()("button.btn.btn[type='button']",{onclick:function(){E.qtb++}},r()("i.fas.fa-plus-circle.tx-22.tx-success")),r()("button.btn.btn[type='button']",{onclick:function(){E.qtb--}},r()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),r()("tr",[r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.tx-20.custom-control-input[type='checkbox'][id='otros']",{onclick:function(e){e.target.checked?E.otros=1:E.otros=0},oncreate:function(e){void 0!==E.otros&&0!==E.otros&&(e.dom.checked=!0)},onupdate:function(e){void 0!==E.otros&&0!==E.otros?1==E.otros&&(e.dom.checked=!0):e.dom.checked=!1}}),r()("label.tx-20.tx-semibold..custom-control-label[for='otros']","Otros")])),r()("td.tx-16.tx-medium.text-left",[r()("textarea.form-control[rows='2'][placeholder='Otros']",{disabled:0==E.otros?"disabled":"",oninput:function(e){E.otros=e.target.value},oncreate:function(e){void 0!==E.otros&&0!==E.otros&&(e.dom.value=E.otros)}})])])])])),Ir.disabledToma?[r()("p.mg-5.",[0!==Sr.documento.dataTomaMuestra.fechaToma.length?[r()("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+Sr.documento.dataTomaMuestra.fechaToma)]:[]])]:[r()("div.pd-10",[r()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:Ir.disabledToma,onclick:function(){Ir.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");Sr.documento.dataTomaMuestra.usuarioToma="flebot1",Sr.documento.dataTomaMuestra.fechaToma=e,Ir.disabledToma=!0,Ir.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]}},Or={showLogs:"",dataXML:"",logsEnvio:[],examenes:[],oninit:function(){Or.examenes=[]},agregarExamen:function(o){var i=!1;Or.examenes.map(function(e,t,a){Or.examenes[t].codigoExame==o.CD_EXA_LAB&&(i=!0)}),i||Rr.examenes.Exame.map(function(e,t,a){Rr.examenes.Exame[t].codigoExame==o.CD_EXA_LAB&&Or.examenes.push(Rr.examenes.Exame[t])}),console.log(Or.examenes)},eliminarExamen:function(o){var i=!1,n=null;Or.examenes.map(function(e,t,a){Or.examenes[t].codigoExame==o.CD_EXA_LAB&&(i=!0,n=t)}),i&&(Or.examenes.splice(n,1),console.log(Or.examenes))},generarXML:function(){var e={Exame:Or.examenes},t=moment().format("YYYY-MM-DD HH:mm:ss"),e=(Rr.data.Cabecalho.mensagemID=moment().unix(),Rr.data.Cabecalho.dataHora=t,Rr.data.PedidoExameLab.listaExame=e,Rr.data.PedidoExameLab.operacao="I",function e(t){var a="";for(var o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(var i in t[o])a=(a=(a+="\n<"+o+">\n")+e(new Object(t[o][i])))+"</"+o+">";else"object"==Dr(t[o])?a+=e(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+">\n"}a=a.replace(/<\/?[0-9]{1,}>/g,"");return a}(Rr.data));console.log("documento",Rr.data),console.log("xmlRes",e),Or.sendXML(e,Rr.numeroPedido,t)},sendXML:function(e,t,a){r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3),console.log("result",e)}).catch(function(e){})},fetch:function(){Or.logsEnvio=[],r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+Rr.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(e){console.log(e),Or.logsEnvio=e.data}).catch(function(e){})}},Rr={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&void 0!==e.attrs.idTimeRecord&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,Rr.numeroPedido=e.attrs.numeroPedido,Rr.numeroAtencion=e.attrs.numeroAtencion,Rr.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,Rr.idTimeRecord=e.attrs.idTimeRecord,Rr.fetch())},tomaPendiente:function(e){r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/procesos/toma-pendiente",body:{sc:e},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(alert("Preceso realizado con éxito. Esta página se cerrará."),window.close()):alert("Error. No pudimos completar esta petición.")}).catch(function(e){alert("Error: "+e)})},fetch:function(){Rr.data=[],Rr.loader=!0,Sr.fetch()},view:function(e){var t,a;return 0!==Rr.data.length&&(t=moment(Rr.data.PedidoExameLab.paciente.dataNascimento),a=moment(),Rr.data.PedidoExameLab.paciente.anios=a.diff(t,"years")),Rr.loader?[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(16)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Rr.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(16)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Rr.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){Rr.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){Rr.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){Rr.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){Rr.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){window.close()}}))),"R"==Rr.data.PedidoExameLab.tipoSolicitacao?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='5']",{style:{"background-color":"#eaeff5"}},Rr.data.PedidoExameLab.paciente.nome),r()("th",{style:{"background-color":"#a8bed6"}},"Edad:"),r()("td",{style:{"background-color":"#eaeff5"}},Rr.data.PedidoExameLab.paciente.anios+" Año(s)"),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td",{style:{"background-color":"#eaeff5"}},Rr.data.PedidoExameLab.paciente.codigoPaciente)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),r()("td",{style:{"background-color":"#eaeff5"}},Rr.data.PedidoExameLab.atendimento.codigoAtendimento),r()("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),r()("td",{style:{"background-color":"#eaeff5"}},"F"==Rr.data.PedidoExameLab.paciente.sexo?"Femenino":"Masculino"),r()("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),r()("td",{style:{"background-color":"#eaeff5"}},Rr.data.PedidoExameLab.paciente.dataNascimento),r()("th",{style:{"background-color":"#a8bed6"}},"Dg:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(null==Rr.data.PedidoExameLab.diagnostico.codigoDiagnostico.length?"":"CIE: "+Rr.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(null==Rr.data.PedidoExameLab.diagnostico.dsDiagostico.length?"":" - "+Rr.data.PedidoExameLab.diagnostico.dsDiagostico))])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",r()("br"),r()(".d-inline.tx-danger","Fecha Toma de Muestra:")),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Rr.data.PedidoExameLab.dataExame,r()("br"),Rr.data.PedidoExameLab.dataExame),r()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Rr.data.PedidoExameLab.descSetorSolicitante)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},Rr.data.PedidoExameLab.descPrestadorSolicitante)]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","EXÁMENES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()(kr))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item.d-none",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),r()("li.nav-item",r()("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),r()("li.nav-item",r()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},r()("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),r()("tr.d-print-none",[r()("td[colspan='10']",r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(Pr)]),r()(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[r()(Ir)]),r()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Cr.observaciones=e.target.value},value:Cr.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==Cr.observaciones.length?Cr.sendNotiLab():alert("Observaciones es obligatorio.")}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}};var Nr=Rr;var Fr={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(Fr.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Fr.start(e):Fr.stop(e),e.isPaused=!e.isPaused}};function Lr(){var t={interval:null,seconds:100,isPaused:!1};return Fr.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Fr.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Fr.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Fr.stop(t)}}}var Hr={oncreate:function(){Ur.loadEtiquetas(),0!==Ur.searchField.length&&$("#table-etiquetas").DataTable().search(Ur.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Admisiones:")]),r()("div.col-sm-12.filemgr-content-header",{class:1==Ur.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){Ur.searchField=e.target.value},value:Ur.searchField}))]),r()("table.table.table-sm.tx-11[id='table-etiquetas'][width='100%']")])])])}},Ur={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",loaderImprimir:!1,oninit:function(e){Ga.page="",0==Ur.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Ur.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Ur.fechaHasta=moment().format("DD-MM-YYYY"),Ur.loader=!0,Ur.pedidos=[],Ur.fetchEtiquetas())},loadEtiquetas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-etiquetas").DataTable({data:Ur.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Paciente:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[2],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td",{class:"I"==t.TP_ATENDIMENTO?"bg-primary":"bg-danger"},["I"==t.TP_ATENDIMENTO?r()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","Internación"):r()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","Emergencia")]),r()("td.wd-40p",{style:{}},t.NM_PACIENTE),r()("td.tx-center.tx-semibold",{onclick:function(){Ur.loaderImprimir?alert("Tienes un proceso de Impresión pendiente."):Ur.generarImpresion(t.CD_ATENDIMENTO)},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Imprimir ")]}})},drawCallback:function(e){Ur.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchEtiquetas:function(){var e="",e=1==Ur.idFiltro?"?type=ingresadas&idFiltro="+Ur.idFiltro:"?type=ingresadas&idFiltro="+Ur.idFiltro+"&fechaDesde="+Ur.fechaDesde+"&fechaHasta="+Ur.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ptes-etiquetas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Ur.loader=!1,Ur.pedidos=e.data}).catch(function(e){setTimeout(function(){Ur.fetchEtiquetas()},2e3)})},reloadData:function(){var e=$("#table-etiquetas").DataTable();e.clear(),e.rows.add(Ur.pedidos).draw()},generarImpresion:function(e){Ur.loaderImprimir=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/as-print-etiquetas",body:{numAtencion:e},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?Ur.imprimirEtiquetas(e.data,12):(Ur.loaderImprimir=!1,alert("Proceso no se completo con éxito, puedes reintetar una vez más. Si el inconveniente persiste, comuníquese con nuestra Mesa de Ayuda Ext: 2020."))}).catch(function(e){Ur.loaderImprimir=!1,alert(e)})},imprimirEtiquetas:function(e,t){r().request({method:"POST",url:"https://eti.hospitalmetropolitano.org/imprimir",body:{file:e,printer:"ETIQUETAS_MPLUS_EME",pages:t,ancho:670,alto:120},headers:{"Content-Type":"application/json; charset=utf-8"},extract:function(e){return{status:e.status,body:e.responseText}}}).then(function(e){201==e.status?(Ur.loaderImprimir=!1,alert("Proceso realizado con éxito.")):(Ur.loaderImprimir=!1,alert(e.body.mensaje))}).catch(function(e){Ur.loaderImprimir=!1,alert(e)})},view:function(e){return Ur.loader?[r()(Ga,{oncreate:Ga.setPage(27)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admsiones "])),r()("li.breadcrumb-item.active[aria-current='page']","Impresión de Etiquetas")]),r()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==Ur.error.length?[r()(Ga,{oncreate:Ga.setPage(27)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admsiones "])),r()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),r()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:Ur.loader||0===Ur.pedidos.length?Ur.loader||0!=Ur.pedidos.length?[r()(Ga,{oncreate:Ga.setPage(27)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admsiones "])),r()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),r()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(Ga,{oncreate:Ga.setPage(27)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admsiones "])),r()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),r()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(Ga,{oncreate:Ga.setPage(27)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admsiones "])),r()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),r()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),r()(Hr)])),r()("div.section-nav",[r()("label.nav-label"," Impresión de Etiquetas "),r()("div.mg-t-10.bg-white",r()("div.pd-20",r()(Lr)))])]}},Yr=Ur;var jr={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(jr.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?jr.start(e):jr.stop(e),e.isPaused=!e.isPaused}};function Br(){var t={interval:null,seconds:100,isPaused:!1};return jr.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){jr.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){jr.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){jr.stop(t)}}}var Vr={oncreate:function(){A.loadRecetas(),0!==A.searchField.length&&$("#table-recetas").DataTable().search(A.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Farmacia:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==A.idFiltro&&(e.dom.innerHTML="Recetas de Hoy"),2==A.idFiltro&&(e.dom.innerHTML="Recetas entre Fechas"),3==A.idFiltro&&(e.dom.innerHTML="Recetas de Emergencia"),4==A.idFiltro&&(e.dom.innerHTML="Recetas de Hospitalización"),5==A.idFiltro&&(e.dom.innerHTML="Recetas de PB"),6==A.idFiltro&&(e.dom.innerHTML="Recetas de H1"),7==A.idFiltro&&(e.dom.innerHTML="Recetas de H2"),8==A.idFiltro&&(e.dom.innerHTML="Recetas de C2")},onupdate:function(e){1==A.idFiltro&&(e.dom.innerHTML="Recetas de Hoy"),2==A.idFiltro&&(e.dom.innerHTML="Recetas entre Fechas"),3==A.idFiltro&&(e.dom.innerHTML="Recetas de Emergencia"),4==A.idFiltro&&(e.dom.innerHTML="Recetas de Hospitalización"),5==A.idFiltro&&(e.dom.innerHTML="Recetas de PB"),6==A.idFiltro&&(e.dom.innerHTML="Recetas de H1"),7==A.idFiltro&&(e.dom.innerHTML="Recetas de H2"),8==A.idFiltro&&(e.dom.innerHTML="Recetas de C2")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==A.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==A.idFiltro?moment(moment(A.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){A.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),A.loader=!0,A.pedidos=[],A.fetch(),r().route.set("/farmacia/recetas/?idFiltro="+A.idFiltro+"&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==A.idFiltro?moment(moment(A.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){A.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),A.loader=!0,A.pedidos=[],A.fetch(),r().route.set("/farmacia/recetas/?idFiltro="+A.idFiltro+"&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=1"},["Recetas de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=2&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta},["Recetas entre Fechas"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=3&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta},["Recetas de Emergencia"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=4&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta},["Recetas de Hospitalización"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=5&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta},["Recetas de PB"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=6&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta},["Recetas de H1"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=7&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta},["Recetas de H2"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=8&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta},["Recetas de C2"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==A.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){A.searchField=e.target.value},value:A.searchField}))]),r()("table.table.table-sm.tx-11[id='table-recetas'][width='100%']")])])])}},A={notificaciones:[],pedidos:[],pendientes:0,despachos:0,showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Ba.page="",0==A.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),A.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),A.fechaHasta=moment().format("DD-MM-YYYY"),A.loader=!0,A.pedidos=[],A.fetch())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Farmacia")},loadRecetas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-recetas").DataTable({data:A.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:[{title:"Fecha Receta:"},{title:"Paciente:"},{title:"Status Despacho:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.FECHA_RECETA},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[3],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.tx-14",{style:{}},t.FECHA_RECETA),r()("td.wd-60p",{style:{}},[r()(".d-inline.tx-semibold.tx-14","NHC: "),r()(".d-inline.tx-14",t.CD_PACIENTE),r()("br"),r()(".d-inline.tx-semibold.tx-14","PTE: "),r()(".d-inline.tx-14",t.NM_PACIENTE),r()("br"),r()(".d-inline.tx-semibold.tx-14","N° ATENCIÓN: "),r()(".d-inline.tx-14",t.CD_ATENDIMENTO),r()(".d-inline.tx-semibold.tx-14"," UBICACIÓN: "),r()(".d-inline.tx-14",t.UBICACION+" - "+t.DS_UNID_INT)]),r()("td.tx-center.wd-10p.tx-white.tx-semibold",{style:{"background-color":0==t.STATUS_DESPACHO?"#fd7e14":"#0d9448"}},0==t.STATUS_DESPACHO?"Pendiente":"Despachado"),r()("td.tx-center.wd-10p.tx-semibold",{onclick:function(){r().route.set("/farmacia/receta/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.CD_ATENDIMENTO,numeroReceta:t.id,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver ",r()("br")," Receta ")]}})},drawCallback:function(e){A.loader=!1,A.despachos=0,A.pendientes=0,e.aoData.map(function(e,t){1==e._aData.STATUS_DESPACHO?A.despachos++:A.pendientes++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==A.idFiltro?"?idFiltro="+A.idFiltro:"?idFiltro="+A.idFiltro+"&fechaDesde="+A.fechaDesde+"&fechaHasta="+A.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/recetas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),A.loader=!1,A.pedidos=e.data}).catch(function(e){setTimeout(function(){A.fetch()},2e3)})},reproesarMensajeXML:function(e,t){A.loader=!0,r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-recetas").DataTable();e.clear(),e.rows.add(A.pedidos).draw()},view:function(e){return A.loader?[r()(Ba,{oncreate:Ba.setPage(5)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/farmacia"},[" Farmacia "])),r()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),r()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==A.error.length?[r()(Ba,{oncreate:Ba.setPage(5)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/farnacia"},[" Farmacia "])),r()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),r()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:A.loader||0===A.pedidos.length?A.loader||0!=A.pedidos.length?[r()(Ba,{oncreate:Ba.setPage(5)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(Ba,{oncreate:Ba.setPage(5)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/farmacia"},[" Farmacia "])),r()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),r()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(Ba,{oncreate:Ba.setPage(5)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/farmacia"},[" Farmacia "])),r()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),r()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),r()(Vr)])),r()("div.section-nav",[r()("label.nav-label","Recetas de Alta"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Recetas de Alta:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",A.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Receta(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pendientes:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",A.pendientes),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Receta(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Despachadas:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",A.despachos),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Receta(s)")])])])),r()("div.pd-20",r()(Br)))])]}},$r=A,zr={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:zr.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[0],{view:function(){return r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observación:"),r()("small.tx-white",moment.unix(e._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),r()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(zr.data).draw()},fetch:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+qr.numeroReceta}).then(function(e){zr.data=e.data,zr.loadObservaciones()}).catch(function(e){})},sendObs:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+qr.numeroReceta,body:{message:zr.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(zr.observaciones="",zr.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){})}},Jr={view:function(){if(0!==qr.medicamentos.length)return[r()("thead",r()("tr",[r()("th","MEDICACIÓN"),r()("th","CANT:"),r()("th","DESP:")])),r()("tbody",[qr.medicamentos.map(function(e,t,a){return e.DESP.includes("SI")?[r()("tr",[r()("td.tx-semibold.tx-normal",[e.MEDICACION,r()("br"),null!==e.OBS?r()(".d-inline","Observaciones:"):"",null!==e.OBS?r()("br"):"",null!==e.OBS?r()(".d-inline",e.OBS):""]),r()("td.tx-semibold.tx-normal",e.CANT),r()("td.tx-semibold.tx-normal.bg-danger.tx-white",e.DESP)])]:[r()("tr",[r()("td.tx-semibold.tx-normal",[e.MEDICACION,r()("br"),null!==e.OBS?r()(".d-inline","Observaciones:"):"",null!==e.OBS?r()("br"):"",null!==e.OBS?r()(".d-inline",e.OBS):""]),r()("td.tx-color-03.tx-normal",e.CANT),r()("td.tx-color-03.tx-normal",e.DESP)])]})])]}},qr={data:[],medicamentos:[],despachoParcial:!1,despachoTotal:!1,error:"",numeroReceta:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroReceta&&(document.title="Detalle de Receta N°: "+e.attrs.numeroReceta+" | "+d.title,(void 0!==qr.data&&0==qr.data.length||qr.numeroReceta!==e.attrs.numeroReceta)&&(qr.numeroReceta=e.attrs.numeroReceta,qr.numeroAtencion=e.attrs.numeroAtencion,qr.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,qr.fetch()))},fetch:function(){qr.data=[],qr.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-receta",body:{numeroReceta:qr.numeroReceta},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(e.data=e.data[0],qr.loader=!1,qr.data=e.data,qr.despacho=1==qr.data.STATUS_DESPACHO,qr.medicamentos=e.data.DATA,zr.fetch()):qr.error=e.message}).catch(function(e){})},checkDespacho:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/check-receta",body:{numeroAtencion:qr.numeroAtencion,numeroReceta:qr.numeroReceta,status:1==qr.despachoTotal?"TOTAL":1==qr.despachoParcial?"PARCIAL":"",obs:zr.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){qr.data.FECHA_DESPACHO=e.FECHA_DESPACHO}).catch(function(e){})},view:function(e){return[r()(o,{oncreate:o.setPage("farmacia")}),r()(Ba,{oncreate:Ba.setPage(5)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/farmacia"},["Farmacia"])),r()("li.breadcrumb-item.active[aria-current='page']","DETALLE DE RECETA")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Receta N°: "+qr.numeroReceta),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){qr.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){qr.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){qr.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){qr.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[qr.despacho?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-success mg-b-2 mg-r-2"},[],"Despachado")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-light mg-b-2 mg-r-2"},[],"Pendiente")],r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==$r.idFiltro&&1<$r.idFiltro?($r.pedidos=[],r().route.set("/farmacia/recetas/",{idFiltro:$r.idFiltro,fechaDesde:$r.fechaDesde,fechaHasta:$r.fechaHasta})):($r.pedidos=[],r().route.set("/farmacia/recetas/",{idFiltro:1}))}}))),r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS RECETA:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° de Receta:"),r()("td",{style:{"background-color":"#eaeff5"}},qr.data.CD_DOCUMENTO_CLINICO),r()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},qr.data.DT_ATENDIMENTO),r()("th",{style:{"background-color":"#a8bed6"}},"N° de Atención:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},qr.data.CD_ATENDIMENTO)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},qr.data.NM_PACIENTE),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td",{style:{"background-color":"#eaeff5"}},qr.data.CD_PACIENTE),r()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},qr.data.UBICACION)]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","MEDICAMENTOS Y OBSERVACIONES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Medicamentos:"),r()("td.pd-0[colspan='8']",{style:{"background-color":"#eaeff5"}},r()(Jr))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='9']","DESPACHO Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[target='_target'][href='"+qr.data.URL+"']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," Ver Receta ")),r()("li.nav-item",r()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},r()("i.fas.fa-inbox.pd-1.mg-r-2")," Despacho "))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Despacho Farmacia"),r()("tr",[r()("td.tx-18.tx-medium.text-left",["¿Confirmar despacho parcial?:",r()("br"),"¿Confirmar despacho total?:"]),r()("td.tx-16.tx-normal",r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='check_despacho_parcial']",{checked:qr.despachoParcial,onclick:function(e){e.preventDefault(),this.checked?(this.checked=!0,qr.despachoParcial=!0):(this.checked=!1,qr.despachoParcial=!1),qr.checkDespacho()}}),r()("label.custom-control-label.tx-16[for='check_despacho_parcial']",qr.despachoParcial?["SI a las: "+qr.data.FECHA_DESPACHO]:["SI"])]),r()("div.custom-control.custom-checkbox.tx-16",[r()("input.custom-control-input.tx-16[type='checkbox'][id='check_despacho_total']",{checked:qr.despachoTotal,onclick:function(e){e.preventDefault(),this.checked?(this.checked=!0,qr.despachoTotal=!0):(this.checked=!1,qr.despachoTotal=!1),qr.checkDespacho()}}),r()("label.custom-control-label.tx-16[for='check_despacho_total']",qr.despachoTotal?["SI a las: "+qr.data.FECHA_DESPACHO]:["SI"])]))])]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){zr.observaciones=e.target.value},value:zr.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==zr.observaciones.length?zr.sendObs():alert("Observaciones es obligatorio.")}},[r()("i.fas.fa-save.mg-r-5")],"Guardar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}},Xr=qr,Gr={oncreate:function(){Zr.loadEtiCajas(),0!==Zr.searchField.length&&$("#table-etiquetas").DataTable().search(Zr.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Usuarios:"),r()("button.btn.btn-xs.btn-primary[type='button']",{onclick:function(){var e,t=prompt("¿Nombre de Usuario?");null!==t&&(e=prompt("¿Nombre de la Impresora/Caja?"),null===t&&null===e||Zr.changeUser(e,t))}},r()("i.fas.fa-edit.mg-r-5"),"Nuevo Usuario")]),r()("div.col-sm-12.filemgr-content-header",{class:1==Zr.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){Zr.searchField=e.target.value},value:Zr.searchField}))]),r()("table.table.table-sm.tx-11[id='table-etiquetas'][width='100%']")])])])}},Zr={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",loaderImprimir:!1,oninit:function(e){i.page="",0==Zr.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Zr.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Zr.fechaHasta=moment().format("DD-MM-YYYY"),Zr.loader=!0,Zr.pedidos=[],Zr.fetchEtiCajas())},loadEtiCajas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-etiquetas").DataTable({data:Zr.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,columns:[{title:"Usuario:"},{title:"Impresión:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.impresion},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.usuario},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[2],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.tx-18.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[t.impresion]),r()("td.wd-40p.tx-18.tx-semibold",{style:{}},t.usuario),r()("td.tx-center.tx-18.tx-semibold",{onclick:function(){var e,t=prompt("¿Nombre de Usuario?");null!==t&&(e=prompt("¿Nombre de la Impresora/Caja?"),null===t&&null===e||Zr.changeUser(e,t))},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},r()("i.fas.fa-edit.mg-r-5")," Modificar ")]}})},drawCallback:function(e){Zr.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchEtiCajas:function(){r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/users-etiquetas",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Zr.loader=!1,Zr.pedidos=e.data}).catch(function(e){setTimeout(function(){Zr.fetchEtiCajas()},2e3)})},reloadData:function(){var e=$("#table-etiquetas").DataTable();e.clear(),e.rows.add(Zr.pedidos).draw()},changeUser:function(e,t){r().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/change-user",body:{impresion:e,usuario:t},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){alert(e.message),e.status&&window.location.reload()}).catch(function(e){alert(e)})},view:function(e){return Zr.loader?[r()(i,{oncreate:i.setPage(28)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Configuración de Etiquetas ")]),r()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==Zr.error.length?[r()(i,{oncreate:i.setPage(28)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),r()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:Zr.loader||0===Zr.pedidos.length?Zr.loader||0!=Zr.pedidos.length?[r()(i,{oncreate:i.setPage(28)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),r()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(i,{oncreate:i.setPage(28)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),r()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(i,{oncreate:i.setPage(28)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),r()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),r()(Gr)]))]}},Kr=Zr,Wr=wl(1360),Qr={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.contabilidad.map(function(e,t,a){if(30==e.idModulo)return[Wr(Wr.route.Link,{href:"/"+e.href,class:ed.page==e.idModulo?"active":""},[e.label])]})]}},ed={page:"",setPage:function(e){ed.page=e},view:function(){return[Wr(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Wr("div.sidebar-header",[Wr("a[href=''][id='mainMenuOpen']",Wr("i[data-feather='menu']")),Wr("h5","Menu"),Wr("a[href=''][id='sidebarMenuClose']",Wr("i[data-feather='x']"))]),Wr("div.sidebar-body",Wr("ul.sidebar-nav",[Wr("li.nav-label.mg-b-15","Contabilidad"),Wr("li.nav-item.show",[Wr(Wr.route.Link,{href:"/contabilidad",class:"nav-link with-sub"},[Wr("i[data-feather='layout']")," Contabilidad "]),Wr("nav.nav",[Wr(Qr)])])]))])]}},td=ed,ad=wl(1360),od={view:function(){return[ad("div.content.content-components",ad("div.container",{style:{"max-width":"100%"}},[ad("ol.breadcrumb.df-breadcrumbs.mg-b-10",[ad("li.breadcrumb-item",ad(ad.route.Link,{href:"/"},["Metroplus"])),ad("li.breadcrumb-item.active[aria-current='page']","Contabilidad")]),ad("h1.df-title.mg-t-20.mg-b-10","Contabilidad:"),ad("div.row.tx-14",[d.isShow("contabilidad",30)?[ad("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){ad.route.set("/contabilidad/proceso/tarjeta-roja")}},[ad("div",{class:"media"},[ad("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},ad("i",{class:"fas fa-file-alt tx-30 tx-white"})),ad("div",{class:"media-body mg-l-15"},[ad("p",{class:"tx-18 mg-b-0"},"Tarjeta Roja"),ad("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Tarjeta Roja")])])])]:[]])]))]}},id={oninit:function(){o.page="",td.page="",d.isAuth()},oncreate:function(){document.title="Contabilidad | "+d.title},view:function(){return[ad(o,{oncreate:o.setPage("contabilidad")}),ad(td),ad(od)]}};function nd(t){Object.keys(t).forEach(function(e){delete t[e]})}var rd={searchField:"",data:[],loader:!1,loadPacientes:function(){$.fn.dataTable.ext.errMode="none";var e=$("#table-pacientes").DataTable({data:rd.data,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Asc"]],destroy:!0,columns:[{title:"N°:"},{title:"NHC:"},{title:"Paciente:"},{title:"Edad:"},{title:"Sexo:"},{title:"F. Nacimiento:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[2],width:"60%"},{mRender:function(e,t,a){return a.EDAD},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.TP_SEXO},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.DT_NASCIMENTO},visible:!0,aTargets:[5]},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[6]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){r().mount(e.anCells[6],{view:function(){return[r()("button.btn.btn-sm.btn-block.btn-primary[type='button']",{onclick:function(){D.nhc=e._aData.CD_PACIENTE,D.patientId=e._aData.CD_PACIENTE,D.paciente=e._aData.NM_PACIENTE,D.patientName=e._aData.NM_PACIENTE,D.phoneNumber="0998785402",D.sexType=e._aData.TP_SEXO,D.dateBirth=moment(e._aData.DT_NASCIMENTO,"DD-MM-YYYY").format("DD/MM/YYYY"),D.email="mchangcnt@gmail.com",D.pn_paciente=D.nhc,D.pc_nm_paciente=D.patientName,D.pc_telefono=D.phoneNumber,D.pc_email=D.email,D.pc_fecha_nacimiento=D.dateBirth,T.buscarPacientes=!T.buscarPacientes}},"Seleccionar")]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),e},fetchSearch:function(){rd.loader=!0,rd.data=[],r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/pacientes",body:{searchField:rd.searchField},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){rd.loader=!1,rd.data=e.data,rd.loadPacientes()}).catch(function(e){})},view:function(){return[r()("div.mg-t-10.pd-10.wd-100p",{class:rd.loader?"":"d-none"},r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.mg-t-10.pd-10.wd-100p",{class:rd.loader?"d-none":""},r()("table.table.table-sm.tx-11[id='table-pacientes'][width='100%']"))]}},dd={searchField:"",data:[],loader:!1,loadMedicos:function(){$.fn.dataTable.ext.errMode="none";var e=$("#table-medicos").DataTable({data:dd.data,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Asc"]],destroy:!0,columns:[{title:"N°:"},{title:"Código:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.CD_PRESTADOR},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.NM_PRESTADOR},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[3]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){r().mount(e.anCells[3],{view:function(){return[r()("button.btn.btn-sm.btn-block.btn-primary[type='button']",{onclick:function(){D.codMedico=e._aData.CD_PRESTADOR,D.prestador=e._aData.NM_PRESTADOR,D.pn_prestador=e._aData.CD_PRESTADOR,T.buscarMedicos=!T.buscarMedicos}},"Seleccionar")]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),e},fetchSearch:function(){dd.loader=!0,dd.data=[],r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/medicos",body:{searchField:dd.searchField},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){dd.loader=!1,dd.data=e.data,dd.loadMedicos()}).catch(function(e){})},view:function(){return[r()("div.mg-t-10.pd-10.wd-100p",{class:dd.loader?"":"d-none"},r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.mg-t-10.pd-10.wd-100p",{class:dd.loader?"d-none":""},r()("table.table.table-sm.tx-11[id='table-medicos'][width='100%']"))]}},sd={searchField:"",data:[],loader:!1,loadItems:function(){$.fn.dataTable.ext.errMode="none";var e=$("#table-items").DataTable({data:sd.data,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Asc"]],destroy:!0,columns:[{title:"N°:"},{title:"Código:"},{title:"Item:"},{title:"Duración:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.CD_ITEM_AGENDAMENTO},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.DS_ITEM_AGENDAMENTO},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return'<b class="tx-14 tx-semibold tx-danger">'+a.DURACION+" Min. </b>"},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[4]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(a){r().mount(a.anCells[4],{view:function(){return[r()("button.btn.btn-sm.btn-block.btn-primary[type='button']",{onclick:function(){var e=moment(D.pn_inicio,"DD/MM/YYYY HH:mm"),t=moment(a._aData.DURACION,"HH:mm").minutes(),e=e.add(t,"minutes");D.end=moment(e).format("dddd, DD-MM-YYYY HH:mm"),D.pn_fin=moment(e).format("YYYY-MM-DD HH:mm"),D.hashCita=moment(D.pn_inicio,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD HH:mm")+"."+moment(e).format("YYYY-MM-DD HH:mm"),D.codItem=a._aData.CD_ITEM_AGENDAMENTO,D.estudio=a._aData.DS_ITEM_AGENDAMENTO,D.pn_item_agendamento=a._aData.CD_ITEM_AGENDAMENTO,T.buscarItems=!T.buscarItems}},"Seleccionar")]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),e},fetchSearch:function(){sd.loader=!0,sd.data=[],r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/items",body:{searchField:sd.searchField},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){sd.loader=!1,sd.data=e.data,sd.loadItems()}).catch(function(e){})},view:function(){return[r()("div.mg-t-10.pd-10.wd-100p",{class:sd.loader?"":"d-none"},r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div.mg-t-10.pd-10.wd-100p",{class:sd.loader?"d-none":""},r()("table.table.table-sm.tx-11[id='table-items'][width='100%']"))]}},D={},T={citasDisponibles:[],citasAgendadas:[],citasMedicos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,loadDetalle:!1,nuevaCita:!1,error:"",buscarPacientes:!1,buscarMedicos:!1,buscarItems:!1,sinDatos:!1,reagendar:!1,oninit:function(e){T.loader=!0,T.citasDisponibles=[],T.citasAgendadas=[],T.citasMedicos=[],void 0!==e.attrs.idFiltro&&(T.idFiltro=decodeURIComponent(e.attrs.idFiltro),setTimeout(function(){T.fetchAgendaImagen()},1500))},setSidebar:function(){try{$("#calendarInline").datepicker({showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:function(e){return[!0,e.getDate()<10?"zero":""]},dateFormat:"yy-mm-dd",onSelect:function(e){$("#calendar").fullCalendar("gotoDate",this.value)}}),setTimeout(function(){new PerfectScrollbar("#calendarSidebarBody",{suppressScrollX:!0})},100),$("#calendarSidebarShow").on("click",function(e){e.preventDefault(),$("body").toggleClass("calendar-sidebar-show"),$(this).addClass("d-none"),$("#mainMenuOpen").removeClass("d-none")}),$(document).on("click touchstart",function(e){e.stopPropagation(),$(e.target).closest(".burger-menu").length||$(e.target).closest(".calendar-sidebar").length||($("body").removeClass("calendar-sidebar-show"),$("#mainMenuOpen").addClass("d-none"),$("#calendarSidebarShow").removeClass("d-none"))}),$("#accordion").accordion({heightStyle:"content",collapsible:!0})}catch(e){T.setSidebar()}},setCalendar:function(){try{$("#calendar").fullCalendar({height:"parent",header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,listWeek"},navLinks:!0,selectable:!0,defaultDate:"2023-04-24",selectLongPressDelay:100,nowIndicator:!0,editable:!1,defaultView:"listWeek",minTime:"06:00:00",maxTime:"21:00:00",slotDuration:"00:10:00",slotLabelInterval:10,slotLabelFormat:"HH:mma",slotMinutes:10,timeFormat:"HH:mma",views:{agenda:{columnHeaderHtml:function(e){return"<span>"+e.format("ddd")+"</span><span>"+e.format("DD")+"</span>"}},day:{columnHeader:!1},listMonth:{listDayFormat:"ddd DD",listDayAltFormat:!1},listWeek:{listDayFormat:"ddd DD",listDayAltFormat:!1},agendaThreeDay:{type:"agenda",duration:{days:3},titleFormat:"MMMM YYYY"}},eventSources:[T.citasAgendadas,T.citasMedicos],eventAfterAllRender:function(e){"listMonth"!==e.name&&"listWeek"!==e.name||e.el.find(".fc-list-heading-main").each(function(){var e=$(this).text().split(" "),t=moment().format("DD");$(this).html(e[0]+"<span>"+e[1]+"</span>"),t===e[1]&&$(this).addClass("now")})},eventRender:function(e,t){console.log(e),e.description&&(t.find(".fc-list-item-title").append('<span class="fc-desc">'+e.description+"</span>"),t.find(".fc-content").append('<span class="fc-desc">'+e.description+"</span>"));var a=e.source.borderColor||e.borderColor;e.editable?(t.find(".fc-content").css({"background-color":"#dc3545",color:"#fff"}),t.find(".fc-title").css({"background-color":"#dc3545",color:"#fff"})):(t.find(".fc-list-item-time").css({color:a,borderColor:a}),t.find(".fc-list-item-title").css({borderColor:a}),t.css("borderLeftColor",a))},eventDrop:function(e){D.id=e.id,D.start=e.start.format("dddd, DD-MM-YYYY HH:mm"),D.end=e.end.format("dddd, DD-MM-YYYY HH:mm"),D.paciente=e.paciente,D.prestador=e.prestador,D.nhc=e.nhc,D.codMedico=e.codMedico,D.codItem=e.codItem,D.estudio=e.estudio,D.comentarios=e.comentarios,D.idCalendar=e.idCalendar,D.ubicacion=e.ubicacion,D.tipoCita=1,D.hashCita=e.hashCita,D.newHashCita=e.start.format("YYYY-MM-DD HH:mm")+"."+e.end.format("YYYY-MM-DD HH:mm");var t=$("#modalUpdateEvent");t.modal("show"),t.find(".modal-header").css("backgroundColor",e.source.borderColor||e.borderColor),r().redraw(),T.validarReagendamiento()},eventResize:function(e){D.id=e.id,D.start=e.start.format("dddd, DD-MM-YYYY HH:mm"),D.end=e.end.format("dddd, DD-MM-YYYY HH:mm"),D.paciente=e.paciente,D.prestador=e.prestador,D.nhc=e.nhc,D.codMedico=e.codMedico,D.codItem=e.codItem,D.estudio=e.estudio,D.comentarios=e.comentarios,D.ubicacion=e.ubicacion,D.tipoCita=e.tipoCita,D.idCalendar=e.idCalendar;var t=$("#modalUpdateEvent");t.modal("show"),t.find(".modal-header").css("backgroundColor",e.source.borderColor||e.borderColor),r().redraw(),T.validarReagendamiento()}});var t=$("#calendar").fullCalendar("getCalendar");window.matchMedia("(min-width: 576px)").matches&&t.changeView("agendaWeek"),window.matchMedia("(min-width: 992px)").matches&&t.changeView("agendaWeek"),t.option("windowResize",function(e){"listWeek"===e.name&&(window.matchMedia("(min-width: 992px)").matches?t.changeView("month"):t.changeView("listWeek"))}),t.on("eventClick",function(e,t,a){D.id=e.id,D.hashCita=e.id,D.idCalendar=e.idCalendar,D.start=e.start,D.end=e.end,D.paciente=e.title,D.estudio=e.estudio,D.prestador=e.prestador,D.editable=e.editable,D.comentarios=e.comentarios,console.log(e);var o=$("#modalCalendarEvent");o.modal("show"),o.find(".event-title").text(D.paciente),o.find(".event-start-date").text(moment(e.start).format("LLL")),o.find(".event-end-date").text(moment(e.end).format("LLL")),o.find(".modal-header").css("backgroundColor",e.source.borderColor||e.borderColor),r().redraw()}),t.getDate();t.option("select",function(e,t){D.hashCita=e.format("YYYY-MM-DD HH:mm")+"."+t.format("YYYY-MM-DD HH:mm"),D.start=e.format("dddd, DD-MM-YYYY HH:mm"),D.end=t.format("dddd, DD-MM-YYYY HH:mm"),D.pn_inicio=e.format("DD/MM/YYYY HH:mm"),D.pn_fin=t.format("DD/MM/YYYY HH:mm"),D.tipoCita=1,$("#modalCreateEvent").modal("show"),r().redraw()}),$(".select2-modal").select2({minimumResultsForSearch:1/0,dropdownCssClass:"select2-dropdown-modal"}),$(".calendar-add").on("click",function(e){e.preventDefault(),$("#modalCreateEvent").modal("show")})}catch(e){location.reload()}},oncreate:function(e){$('[data-toggle="tooltip"]').tooltip(),document.body.classList.add("app-calendar"),Ge.suscribirCanal("MetroPlus-Imagen-Agenda")},reloadFetchAgendaImagen:function(){$("#calendar").fullCalendar("removeEvents"),r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/v2/date/citas/agendadas",params:{idFiltro:T.idFiltro},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){T.loader=!1,-1!=T.idFiltro.search("s1")&&(T.citasAgendadas=e.citasAgendadas,$("#calendar").fullCalendar("addEventSource",T.citasAgendadas)),-1!=T.idFiltro.search("d1")&&(T.citasMedicos=e.citasMedicos,$("#calendar").fullCalendar("addEventSource",T.citasMedicos)),$("#calendar").fullCalendar("rerenderEvents")}).catch(function(e){})},fetchAgendaImagen:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/v2/date/citas/agendadas",params:{idFiltro:T.idFiltro},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){T.loader=!1,-1!=T.idFiltro.search("s1")&&(T.citasAgendadas=e.citasAgendadas),-1!=T.idFiltro.search("d1")&&(T.citasMedicos=e.citasMedicos),setTimeout(function(){T.setCalendar()},80),setTimeout(function(){T.setSidebar()},160)}).catch(function(e){setTimeout(function(){T.fetchAgendaImagen()},1e3)})},trackReAgendar:function(){D.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/citas/reagendar",body:D,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){D.loader=!1,e.status?(T.reloadFetchAgendaImagen(),alert("Ahora puede reagendar este Cita.")):alert(e.message)}).catch(function(e){alert(e)})},trackCancelReAgendar:function(){D.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/citas/reagendar/cancel",body:D,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){D.loader=!1,e.status?(T.reloadFetchAgendaImagen(),alert("El reagendamiento se canceló.")):alert(e.message)}).catch(function(e){alert(e)})},validarReagendamiento:function(){var a=!0,o="",i="";T.citasAgendadas.events.map(function(e,t){moment(e.start).format("DD-MM-YYYY HH:mm")==moment(D.start,"dddd, DD-MM-YYYY HH:mm").format("DD-MM-YYYY HH:mm")&&(a=!1,o=moment(e.start).format("DD-MM-YYYY HH:mm"),i=moment(e.end).format("DD-MM-YYYY HH:mm")),moment(e.end).format("DD-MM-YYYY HH:mm")==moment(D.end,"dddd, DD-MM-YYYY HH:mm").format("DD-MM-YYYY HH:mm")&&(a=!1,o=moment(e.start).format("DD-MM-YYYY HH:mm"),i=moment(e.end).format("DD-MM-YYYY HH:mm"))}),a?T.reAgendarCita():alert("No se puede reagendar. Ya existe una cita agendada desde: "+o+" hasta: "+i)},reAgendarCita:function(){D.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/citas/update",body:D,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){D.loader=!1,console.log(e),e.status?(alert(e.message),$("#modalUpdateEvent").modal("hide"),T.reloadFetchAgendaImagen(),nd(D)):alert(e.message)}).catch(function(e){alert(e)})},cancelarCita:function(){D.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/citas/delete",body:D,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){D.loader=!1,console.log(e),e.status?(alert(e.message),$("#modalCalendarEvent").modal("hide"),T.reloadFetchAgendaImagen(),nd(D)):alert(e.message)}).catch(function(e){alert(e)})},agendarCita:function(){D.loader=!0,D.idFiltro=T.idFiltro,D.codMedico=1173,D.prestador="ABARCA RUIZ JAYSOOM WILLEEM",D.pn_prestador=1173,console.log(99,D),r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/citas/nueva",body:D,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){D.loader=!1,console.log(e),e.status?(alert(e.message),$("#modalCreateEvent").modal("hide"),T.reloadFetchAgendaImagen(),nd(D)):alert(e.message)}).catch(function(e){alert(e)})},agendarCitaHttp:function(){D.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/citas/call",body:D,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){D.loader=!1,console.log(e),e.status?T.agendarCita():alert(e.message)}).catch(function(e){alert(e)})},view:function(e){return T.loader?[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header"),r()("div.calendar-sidebar-body")]),r()("div.calendar-content.pd-t-20.pd-l-100.pd-r-100",[r()("div.calendar-content-body.tx-center.mg-t-50",["Procesando... por favor espere.",r()("br"),r()("div.progress",r()(".progress-bar.bg-primary.progress-bar-striped.progress-bar-animated.wd-70p[role='progressbar'][aria-valuenow='75'][aria-valuemin='0'][aria-valuemax='100']")),"Agenda Centralizada MV v1.0"])])])]:0!==T.error.length?[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header"),r()("div.calendar-sidebar-body")]),r()("div.calendar-content",[r()("div.calendar-content-body[id='calendar']")])])]:T.loader||0===T.citasAgendadas.length?(T.loader||T.citasAgendadas.length,[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header"),r()("div.calendar-sidebar-body")]),r()("div.calendar-content",[r()("div.calendar-content-body[id='calendar']")])])]):[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header",[r()("i[data-feather='search']"),r()("div.search-form",[r()("input.form-control[type='search'][placeholder='Buscar por Apellidos y Nombres']")]),r()("a.btn btn-sm btn-primary btn-icon calendar-add",[r()("div[data-toggle='tooltip']",[r()("i.tx-white[data-feather='plus']")])])]),r()("div.calendar-sidebar-body[id='calendarSidebarBody']",[r()("div.calendar-inline",[r()("div[id='calendarInline']")]),r()("div.pd-t-0.pd-l-20.pd-r-20",[r()("label.tx-uppercase.tx-sans.tx-10.tx-medium.tx-spacing-1.tx-color-03.mg-b-15","Filtro Calendarios: "),r()("div.schedule-group",0!==T.idFiltro?[r()("select.form-control.select2-limit[multiple='multiple']",{oncreate:function(e){setTimeout(function(){$(".select2-limit").select2({placeholder:"Seleccione...",searchInputPlaceholder:"Buscar"}).on("change",function(e){T.idFiltro="";var t=$(this).val();$.each(t,function(e,t){T.idFiltro+=t+","}),T.idFiltro=T.idFiltro.substring(0,T.idFiltro.length-1),0<t.length?r().route.set("/imagen/agendamiento/",{idFiltro:encodeURIComponent(T.idFiltro)}):r().route.set("/imagen/agendamiento"),T.reloadFetchAgendaImagen(),console.log(T.idFiltro)})},1e3)}},[r()("option[label='Seleccione...']"),r()("option[value='s1']",{oncreate:function(e){-1!=T.idFiltro.search("s1")&&(console.log(222,T.idFiltro),e.dom.selected=!0)}},"Sala 1"),r()("option[value='d1']",{oncreate:function(e){-1!=T.idFiltro.search("d1")&&(console.log(222,T.idFiltro),e.dom.selected=!0)}},"Dr. Jayson Abarca")])]:[r()("select.form-control.select2-limit[multiple='multiple']",{oncreate:function(e){setTimeout(function(){$(".select2-limit").select2({placeholder:"Seleccione...",searchInputPlaceholder:"Buscar"}).on("change",function(e){T.idFiltro="";var t=$(this).val();$.each(t,function(e,t){T.idFiltro+=t+","}),T.idFiltro=T.idFiltro.substring(0,T.idFiltro.length-1),0<t.length?r().route.set("/imagen/agendamiento/",{idFiltro:encodeURIComponent(T.idFiltro)}):r().route.set("/imagen/agendamiento"),T.reloadFetchAgendaImagen(),console.log(T.idFiltro)})},1e3)}},[r()("option[label='Seleccione...']"),r()("option[value='s1']","Sala 1"),r()("option[value='d1']","Dr. Jayson Abarca")])])]),r()("div.pd-t-20.pd-l-20.pd-r-20",[r()("label.tx-uppercase.tx-sans.tx-10.tx-medium.tx-spacing-1.tx-color-03.mg-b-15","Ultimos agendamientos:"),r()("div.schedule-group",[0<T.citasAgendadas.length?[T.citasAgendadas.map(function(e,t,a){return[r()("a.schedule-item.bd-l.bd-2.bd-success[href='#']",[r()("h6","Start Dashboard Concept"),r()("span","9:30am - 11:30am, Office Desk")])]})]:[]])])])]),r()("div.calendar-content",[r()("div.calendar-content-body[id='calendar']")])]),r()(".modal.calendar-modal-create[id='modalCreateEvent'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",r()("div.modal-content",[r()("div.modal-header.tx-white.mg-0",{style:{"background-color":"rgb(50, 90, 152)"}},[r()(".d-inline.tx-semibold.tx-18.event-title.tx-white.mg-0","Nueva Cita"),r()("nav.nav.nav-modal-event",[r()(".tx-14.d-inline.mg-0.tx-white","Agenda Centralizada MV v1.0")])]),r()("div.modal-body.pd-20.pd-sm-30",[r()("div.mg-t-10.pd-10.wd-100p",{class:D.loader?"":"d-none"},r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div",{class:D.loader?"d-none":""},[r()("div",{class:T.buscarPacientes?"":"d-none"},[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Pacientes:"),r()("div.form-group",r()("form",{onsubmit:function(e){e.preventDefault(),0!==rd.searchField.length?rd.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},[r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Apellidos y Nombres']",{oninput:function(e){rd.searchField=e.target.value}}),r()("div.input-group-append",r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==rd.searchField.length?rd.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},"Buscar"),r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){T.buscarPacientes=!T.buscarPacientes}},r()("i.fas.fa-times-circle")))])]),r()("div.row",[r()("div.col-12",r()(rd))]))]),r()("div",{class:T.buscarMedicos?"":"d-none"},[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Médicos:"),r()("div.form-group",r()("form",{onsubmit:function(e){e.preventDefault(),0!==dd.searchField.length?dd.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},[r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Apellidos y Nombres']",{oninput:function(e){dd.searchField=e.target.value}}),r()("div.input-group-append",r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==dd.searchField.length?dd.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},"Buscar"),r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){T.buscarMedicos=!T.buscarMedicos}},r()("i.fas.fa-times-circle")))])]),r()("div.row",[r()("div.col-12",r()(dd))]))]),r()("div",{class:T.buscarItems?"":"d-none"},[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Items:"),r()("div.form-group",r()("form",{onsubmit:function(e){e.preventDefault(),0!==sd.searchField.length?sd.fetchSearch():alert("Ingrese algún valor para continuar.")}},[r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Buscar Items']",{oninput:function(e){sd.searchField=e.target.value}}),r()("div.input-group-append",r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==sd.searchField.length?sd.fetchSearch():alert("Ingrese algún valor para continuar.")}},"Buscar"),r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){T.buscarItems=!T.buscarItems}},r()("i.fas.fa-times-circle")))])]),r()("div.row",[r()("div.col-12",r()(sd))]))]),r()("div",{class:T.buscarPacientes||T.buscarMedicos||T.buscarItems?"d-none":""},[r()("div.form-group.d-none",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Tipo:"),r()("div.input-group",[r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='tipoCita1'][name='tipoCita']",{onclick:function(e){D.tipoCita=1},oncreate:function(e){e.dom.checked=!0}}),r()("label.custom-control-label[for='tipoCita1']","Cita Médica")]),r()("div.custom-control.custom-radio.mg-l-20",[r()("input.custom-control-input[type='radio'][id='tipoCita2'][name='tipoCita']",{onclick:function(e){D.tipoCita=2}}),r()("label.custom-control-label[for='tipoCita2']","Evento")])])),r()("div.form-group",[r()("div.row.row-xs",[r()("div.col-6",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha y Hora de Inicio:"),r()("input.form-control[id='eventStartDate'][type='text'][disabled='disabled']",{value:D.start})),r()("div.col-6",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha y Hora de Fin"),r()("input.form-control[type='text'][value=''][disabled='disabled']",{value:D.end}))])]),r()("div.form-group",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Estudio:"),r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Items/Estudio']",{value:void 0!==D.codItem?D.codItem+" - "+D.estudio:"",oninput:function(e){e.preventDefault()},disabled:void 0!==D.codItem?"disabled":""}),r()("div.input-group-append",r()("button.btn.btn-primary[type='button']",{onclick:function(e){T.buscarItems=!T.buscarItems}},[r()("i.fas.fa-search.mg-r-2")," Buscar Estudios"]))])),r()("div.form-group",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Historia Clínica Paciente: ",r()("div.d-inline.tx.semibold.tx-danger",{style:{cursor:"pointer"},onclick:function(){T.sinDatos=!T.sinDatos}}," *Sin Historia Clínica ")),r()("div.input-group",{class:T.sinDatos?"d-none":""},[r()("input.form-control[type='text'][placeholder='Numero de Historia Clínica'][autofocus]",{value:void 0!==D.paciente?D.nhc+" - "+D.paciente:"",oninput:function(e){e.preventDefault()},disabled:void 0!==D.paciente?"disabled":""}),r()("div.input-group-append",r()("button.btn.btn-primary[type='button']",{onclick:function(e){T.buscarPacientes=!T.buscarPacientes}},[r()("i.fas.fa-search.mg-r-2")," Buscar Pacientes "]))]),r()("div.input-group",{class:T.sinDatos?"":"d-none"},[r()("div.col-12.mg-b-10",[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Apellidos y Nombres del Paciente:"),r()("input.form-control[type='text'][placeholder='Apellidos y Nombres del Paciente'][autofocus]",{value:void 0!==D.paciente?D.paciente:"",oninput:function(e){D.paciente=e.target.value,D.pn_paciente=D.paciente}})])]),r()("div.input-group",{class:T.sinDatos?"":"d-none"},[r()("div.col-12.mg-b-10",[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha de Nacimiento:"),r()("input.form-control[type='date'][placeholder='Fecha Nacimiento']",{oninput:function(e){D.dateBirth=e.target.value,console.log(D.dateBirth)}})])]),r()("div.input-group",{class:T.sinDatos?"":"d-none"},[r()("div.col-12.mg-b-10",[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Sexo:"),r()("select.tx-semibold",{onchange:function(e){D.sexType=e.target.value},class:"custom-select"},r()("option","Seleccione..."),r()('option[value="M"]',"Masculino"),r()('option[value="F"]',"Femenino"))])]),r()("div.input-group",{class:T.sinDatos?"":"d-none"},[r()("div.col-12.mg-b-10",[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Correo electrónico:"),r()("input.form-control[type='text'][placeholder='Correo electrónico'][autofocus]",{value:void 0!==D.pc_email?D.pc_email:"",oninput:function(e){D.email=e.target.value,D.pc_email=e.target.value}})])]),r()("div.input-group",{class:T.sinDatos?"":"d-none"},[r()("div.col-12.mg-b-10",[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Celular:"),r()("input.form-control[type='text'][placeholder='Correo electrónico'][autofocus]",{value:void 0!==D.pc_telefono?D.pc_telefono:"",oninput:function(e){D.pc_telefono=e.target.value}})])])),r()("div.form-group.d-none",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Médico:"),r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Prestador']",{value:void 0!==D.prestador?D.codMedico+" - "+D.prestador:"",oninput:function(e){e.preventDefault()},disabled:void 0!==D.prestador?"disabled":""}),r()("div.input-group-append",r()("button.btn.btn-primary[type='button']",{onclick:function(e){T.buscarMedicos=!T.buscarMedicos}},[r()("i.fas.fa-search.mg-r-2")," Buscar Médicos "]))])),r()("div.form-group",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Comentarios:"),r()("textarea.form-control[rows='2'][placeholder='Comentarios']",{oninput:function(e){D.comentarios=e.target.value}}))])])]),r()("div.modal-footer",[r()("button.btn.btn-primary.mg-r-5",{onclick:function(){T.agendarCita()}},"Agendar Cita"),r()("a.btn.btn-secondary[href=''][data-dismiss='modal']","Cerrar")])]))),r()(".modal.calendar-modal-create[id='modalUpdateEvent'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",r()("div.modal-content",[r()("div.modal-header.tx-white",{style:{"background-color":"rgb(50, 90, 152)"}},[r()("h5.event-title.tx-white","Reagendar Cita")]),r()("div.modal-body.pd-20.pd-sm-30",[r()("div.mg-t-10.pd-10.wd-100p",{class:D.loader?"":"d-none"},r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])),r()("div",{class:D.loader?"d-none":""},[r()("div",{class:T.buscarPacientes?"":"d-none"},[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Pacientes:"),r()("div.form-group",r()("form",{onsubmit:function(e){e.preventDefault(),0!==rd.searchField.length?rd.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},[r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Apellidos y Nombres']",{oninput:function(e){rd.searchField=e.target.value}}),r()("div.input-group-append",r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==rd.searchField.length?rd.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},"Buscar"),r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){T.buscarPacientes=!T.buscarPacientes}},r()("i.fas.fa-times-circle")))])]),r()("div.row",[r()("div.col-12",r()(rd))]))]),r()("div",{class:T.buscarMedicos?"":"d-none"},[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Médicos:"),r()("div.form-group",r()("form",{onsubmit:function(e){e.preventDefault(),0!==dd.searchField.length?dd.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},[r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Apellidos y Nombres']",{oninput:function(e){dd.searchField=e.target.value}}),r()("div.input-group-append",r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==dd.searchField.length?dd.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},"Buscar"),r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){T.buscarMedicos=!T.buscarMedicos}},r()("i.fas.fa-times-circle")))])]),r()("div.row",[r()("div.col-12",r()(dd))]))]),r()("div",{class:T.buscarItems?"":"d-none"},[r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Items:"),r()("div.form-group",r()("form",{onsubmit:function(e){e.preventDefault(),0!==sd.searchField.length?sd.fetchSearch():alert("Ingrese algún valor para continuar.")}},[r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Buscar Items']",{oninput:function(e){sd.searchField=e.target.value}}),r()("div.input-group-append",r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==sd.searchField.length?sd.fetchSearch():alert("Ingrese algún valor para continuar.")}},"Buscar"),r()("button.btn.btn-outline-light[type='button']",{onclick:function(e){T.buscarItems=!T.buscarItems}},r()("i.fas.fa-times-circle")))])]),r()("div.row",[r()("div.col-12",r()(sd))]))]),r()("div",{class:T.buscarPacientes||T.buscarMedicos||T.buscarItems?"d-none":""},[r()("div.form-group.d-none",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Tipo:"),r()("div.input-group",[r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='tipoCitaUpdate1'][name='tipoCitaUpdate']",{onclick:function(e){D.tipoCita=1},onupdate:function(e){1==D.tipoCita&&(e.dom.checked=!0)}}),r()("label.custom-control-label[for='tipoCitaUpdate1']","Cita Médica")]),r()("div.custom-control.custom-radio.mg-l-20",[r()("input.custom-control-input[type='radio'][id='tipoCitaUpdate2'][name='tipoCitaUpdate']",{onclick:function(e){D.tipoCita=2},onupdate:function(e){2==D.tipoCita&&(e.dom.checked=!0)}}),r()("label.custom-control-label[for='tipoCitaUpdate2']","Evento")])])),r()("div.form-group",[r()("div.row.row-xs",[r()("div.col-6",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha y Hora de Inicio:"),r()("input.form-control[id='eventStartDate'][type='text'][disabled='disabled']",{value:D.start})),r()("div.col-6",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha y Hora de Fin"),r()("input.form-control[type='text'][value=''][disabled='disabled']",{value:D.end}))])]),r()("div.form-group",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Historia Clínica Paciente:"),r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Numero de Historia Clínica'][autofocus]",{value:void 0!==D.paciente?D.nhc+" - "+D.paciente:"",oninput:function(e){e.preventDefault()},disabled:void 0!==D.paciente?"disabled":""}),r()("div.input-group-append",r()("button.btn.btn-primary[type='button']",{onclick:function(e){T.buscarPacientes=!T.buscarPacientes}},[r()("i.fas.fa-search.mg-r-2")," Buscar Pacientes "]))])),r()("div.form-group",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Médico:"),r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Prestador']",{value:void 0!==D.prestador?D.codMedico+" - "+D.prestador:"",oninput:function(e){e.preventDefault()},disabled:void 0!==D.prestador?"disabled":""}),r()("div.input-group-append",r()("button.btn.btn-primary[type='button']",{onclick:function(e){T.buscarMedicos=!T.buscarMedicos}},[r()("i.fas.fa-search.mg-r-2")," Buscar Médicos "]))])),r()("div.form-group",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Estudio:"),r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Items/Estudio']",{value:void 0!==D.codItem?D.codItem+" - "+D.estudio:"",oninput:function(e){e.preventDefault()},disabled:void 0!==D.codItem?"disabled":""}),r()("div.input-group-append",r()("button.btn.btn-primary[type='button']",{onclick:function(e){T.buscarItems=!T.buscarItems}},[r()("i.fas.fa-search.mg-r-2")," Buscar Estudios "]))])),r()("div.form-group",r()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Comentarios:"),r()("textarea.form-control[rows='2'][placeholder='Comentarios']",{value:D.comentarios,oninput:function(e){D.comentarios=e.target.value}}))])])]),r()("div.modal-footer",[r()("button.btn.btn-primary.mg-r-5",{onclick:function(){console.log(22,D),T.validarReagendamiento()}},"Reagendar Cita"),r()("a.btn.btn-secondary[href=''][data-dismiss='modal']","Cerrar")])]))),r()(".modal.calendar-modal-event[id='modalCalendarEvent'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",r()("div.modal-content",[r()("div.modal-header",[r()("h6.event-title"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("div.col-sm-6",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha Inicio"),r()("p.event-start-date")]),r()("div.col-sm-6",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha Final"),r()("p.event-end-date")])]),r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Descripción:"),r()("p.mg-b-40",[D.paciente,r()("br"),D.estudio,r()("br"),D.prestador,r()("br")]),r()("p.event-desc.tx-gray-900.mg-b-40"),D.editable?[r()("button.btn.btn-primary.mg-r-5[data-dismiss='modal']",{onclick:function(){console.log(D),T.trackCancelReAgendar()}},"Cancelar Reagendamiento")]:[r()("button.btn.btn-primary.mg-r-5[data-dismiss='modal']",{onclick:function(){console.log(D),T.trackReAgendar()}},"Reagendar Cita")],r()("button.btn.btn-danger.mg-r-5",{onclick:function(){T.cancelarCita()}},"Cancelar Cita"),r()("a.btn.btn-secondary.pd-x-20[href=''][data-dismiss='modal']","Cerrar")])])))]}},ld=T,cd=wl(1360),ud={menu:[{idModulo:32,label:"Nueva Tarjeta Roja",href:"contabilidad/proceso/tarjeta-roja/nueva"},{idModulo:33,label:"Autorizaciones",href:"contabilidad/proceso/tarjeta-roja/autorizaciones"}],view:function(){if(0!==ud.menu.length)return[ud.menu.map(function(e,t,a){return[cd(cd.route.Link,{href:"/"+e.href,class:md.page==e.idModulo?"active":""},[e.label])]})]}},md={page:"",setPage:function(e){md.page=e},view:function(){return[cd(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[cd("div.sidebar-header",[cd("a[href=''][id='mainMenuOpen']",cd("i[data-feather='menu']")),cd("h5","Menu"),cd("a[href=''][id='sidebarMenuClose']",cd("i[data-feather='x']"))]),cd("div.sidebar-body",cd("ul.sidebar-nav",[cd("li.nav-label.mg-b-15","Contabilidad por Procesos"),cd("li.nav-item.show",[cd(cd.route.Link,{href:"/contabilidad",class:"nav-link with-sub"},[cd("i[data-feather='layout']")," Tarjeta Roja "]),cd("nav.nav",[cd(ud)])])]))])]}},pd=md,bd=wl(1360),fd={view:function(){return[bd("div.content.content-components",bd("div.TRojainer",{style:{"max-width":"100%"}},[bd("ol.breadcrumb.df-breadcrumbs.mg-b-10",[bd("li.breadcrumb-item",bd(bd.route.Link,{href:"/"},["Metroplus"])),bd("li.breadcrumb-item",bd(bd.route.Link,{href:"/contabilidad"},["Contabilidad"])),bd("li.breadcrumb-item.active[aria-current='page']","TARJETA ROJA")]),bd("h1.df-title.mg-t-20.mg-b-10","Tarjeta Roja:"),bd("div.row.tx-14",[d.isShow("contabilidad",32)?[bd("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){bd.route.set("/contabilidad/proceso/tarjeta-roja/nueva")}},[bd("div",{class:"media"},[bd("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},bd("i",{class:"fas fa-file tx-30 tx-white"})),bd("div",{class:"media-body mg-l-15"},[bd("p",{class:"tx-18 mg-b-0"},"Nueva Tarjeta Roja"),bd("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Nueva Tarjeta Roja")])])])]:[],d.isShow("contabilidad",32)?[bd("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){bd.route.set("/contabilidad/proceso/tarjeta-roja/autorizaciones")}},[bd("div",{class:"media"},[bd("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},bd("i",{class:"fas fa-user-edit tx-30 tx-white"})),bd("div",{class:"media-body mg-l-15"},[bd("p",{class:"tx-18 mg-b-0"},"Autorizaciones"),bd("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Autorizaciones")])])])]:[]])]))]}},hd={oninit:function(){o.page="",pd.page="",d.isAuth()},oncreate:function(){document.title="Tarjeta Roja | "+d.title},view:function(){return[bd(o,{oncreate:o.setPage("contabilidad")}),bd(pd),bd(fd)]}},gd={files:[],detalle:[],error:"",showFor:"",uploadService:function(e){var t=new FormData($("#uploadForm")[0]);fetch("https://api.hospitalmetropolitano.org/t/v1/procesos/tr/uploads?idTR="+M.id,{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){console.log("data = ",e),alert("Proceso realizado con éxito"),alert("Tarjeta Roja N°: HM-"+M.id),r().route.set("/contabilidad/proceso/tarjeta-roja/status/?tr="+M.id+"&track=view")}).catch(function(e){console.error(e)})},loadFile:function(e){Array.from(e.target.files).forEach(function(e){gd.files.push(e)})},view:function(){return[r()("div.mg-t-10.d-flex",{},[0==gd.files.length?[r()("p","No existe archivos.")]:0<gd.files.length?[gd.files.map(function(e,t,a){return[r()("div.col-6.col-sm-4.col-md-3.col-xl-3.mg-b-5.mg-t-5",r()("div.card.card-file",[r()("div.dropdown-file",[r()("a.dropdown-link[href=''][data-toggle='dropdown']",r()("svg.feather.feather-more-vertical[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("circle[cx='12'][cy='12'][r='1']"),r()("circle[cx='12'][cy='5'][r='1']"),r()("circle[cx='12'][cy='19'][r='1']")])),r()("div.dropdown-menu.dropdown-menu-right",[r()("a.dropdown-item.download[href='"+e.url+"'][target='_blank']",[r()("svg.feather.feather-download[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("path[d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4']"),r()("polyline[points='7 10 12 15 17 10']"),r()("line[x1='12'][y1='15'][x2='12'][y2='3']")]),"Descargar"])])]),r()("div.card-file-thumb.tx-danger",r()("i.far.fa-file-pdf")),r()("div.card-body",[r()(".d-inline.tx-5",e.name)])]))]})]:[]]),r()("form.mg-t-50",{enctype:"multipart/form-data",id:"uploadForm"},[r()("div.custom-file.mg-b-5",[r()("label.custom-file-label[for='uploadFiles']"," Subir Archivos "),r()("input.custom-file-input[autofocus][id='uploadFiles'][name='uploadFiles'][type='file'][multiple='true']",{onchange:function(e){gd.loadFile(e)}})])])]}},vd={view:function(e){return"ALMACENAR"==e.attrs.destino_final?r()("input",{class:"form-control tx-semibold tx-15",type:"text",placeholder:"Destino Final",oninput:function(e){M.data.destino_final=e.target.value}}):"ENTR_NUEVA_AREA"==e.attrs.destino_final?r()("input",{class:"form-control tx-semibold tx-15",type:"text",placeholder:"Nueva Área",oninput:function(e){M.data.destino_final=e.target.value}}):"PRO_LEGAL"==e.attrs.destino_final?r()("h4.tx-semibold",{oncreate:function(){M.data.destino_final="PRO_LEGAL"}},"Legalización"):"RET_COLABORADOR"==e.attrs.destino_final?r()("h4.tx-semibold",{oncreate:function(){M.data.destino_final="RET_COLABORADOR"}},"Entrega Colaborador"):"ENV_GES_AMB"==e.attrs.destino_final?r()("h4.tx-semibold",{oncreate:function(){M.data.destino_final="ENV_GES_AMB"}},"Envío a Gestor Ambiental"):r()("select.tx-semibold",{onchange:function(e){M.data.destino_final=e.target.value},class:"custom-select"},r()("option","Seleccione..."),["SISTEMAS","MANTENIMIENTO","INGENIERIA CLINICA"].map(function(e){return r()("option",e)}))}},M={id:null,data:[],activos:[],examenes:[],error:"",numeroNuevaTRoja:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,user:"",pass:"",loaderFirma:!1,oninit:function(){M.fetch()},fetch:function(){M.activos=[],M.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(M.loader=!1,M.activos=e.data):M.error=e.message}).catch(function(e){M.fetch()})},sendDataTR:function(){if(null==M.data.accion_sugerida||0==M.data.accion_sugerida.length)throw alert("Todos los campos son obligatorios (accion_sugerida)."),"Todos los campos son obligatorios (accion_sugerida).";if(null==M.data.categoria||0==M.data.categoria.length)throw alert("Todos los campos son obligatorios (categoria)."),"Todos los campos son obligatorios (categoria).";if(null==M.data.marca||0==M.data.marca.length)throw alert("Todos los campos son obligatorios (marca)."),"Todos los campos son obligatorios (marca).";if(null==M.data.modelo||0==M.data.modelo.length)throw alert("Todos los campos son obligatorios (modelo)."),"Todos los campos son obligatorios (modelo).";if(null==M.data.motivo_baja||0==M.data.motivo_baja.length)throw alert("Todos los campos son obligatorios (motivo_baja)."),"Todos los campos son obligatorios (motivo_baja).";if(null==M.data.nombre||0==M.data.nombre.length)throw alert("Todos los campos son obligatorios (nombre)."),"Todos los campos son obligatorios (nombre).";if(null==M.data.serie||0==M.data.serie.length)throw alert("Todos los campos son obligatorios (serie)."),"Todos los campos son obligatorios (serie).";if(null!=M.data.act_fijo&&0!=M.data.act_fijo.length||(alert("Todos los campos son obligatorios (activo fijo)."),alert("Todos los campos son obligatorios (activo fijo).")),null!=M.data.inf_tec&&0!=M.data.inf_tec.length||(alert("Todos los campos son obligatorios (informe técnico)."),alert("Todos los campos son obligatorios (informe técnico).")),null==M.data.sub_categoria||0==M.data.sub_categoria.length)throw alert("Todos los campos son obligatorios (sub_categoria)."),"Todos los campos son obligatorios (sub_categoria).";if(null==M.data.destino_final||0==M.data.destino_final.length)throw alert("Todos los campos son obligatorios (destino_final)."),"Todos los campos son obligatorios (destino_final).";if(null==M.data.usuario||0==M.data.usuario.length)throw alert("No existe firma de responsabilidad."),"No existe firma de responsabilidad";if(void 0!==gd.files&&0==gd.files)throw alert("Es necesario adjuntar la documentación requerida."),"Es necesario adjuntar la documentación requerida.";M.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/nueva",body:{fecha:moment().format("DD-MM-YYYY"),accion_sugerida:M.data.accion_sugerida,categoria:M.data.categoria,area:M.data.area,marca:M.data.marca,modelo:M.data.modelo,motivo_baja:M.data.motivo_baja,nombre:M.data.nombre,serie:M.data.serie,sub_categoria:M.data.sub_categoria,usuario:M.data.usuario,email:M.data.email,destino_final:M.data.destino_final,centro_costo:M.data.centro_costo,inf_tec:M.data.inf_tec,act_fijo:M.data.act_fijo},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(M.id=e.idTR,setTimeout(function(){gd.uploadService()},2e3)):M.error=e.message}).catch(function(e){M.fetch()})},firmarTR:function(){M.loaderFirma=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/login-user",body:{user:M.user,pass:M.pass},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){M.loaderFirma=!1,e.status&&0!==e.data.length?(alert("Usuario autenticado con éxito."),M.data.usuario=e.data.NOMBRE+" - "+e.data.CARGO+" - "+e.data.AREA+" - "+e.data.CENTRO_COSTO,M.data.email=e.data.EMAIL,M.data.centro_costo=e.data.CENTRO_COSTO):alert(e.message)}).catch(function(e){M.firmarTR()})},view:function(e){return[r()(Q),r()("div.content.content-components",{},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("h1.df-title.mg-b-10","Nueva Tarjeta Roja: "),r()("div.row.animated.fadeInUp",[r()("div.col-12",[M.loader?[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]:[],0!==M.activos.length?[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{class:M.loader?"d-none":""},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"FOR TARJETA ROJA"),r()("div.table-responsive",[r()("form",{},[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS SOLICITUD:")])),r()("tbody",[r()("tr",[r()("th.tx-semibold.tx-14[colspan='4'][width='20%']",{style:{"background-color":"#a8bed6"}},"Fecha de Solicitud:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{value:moment().format("dddd, DD-MM-Y"),class:"form-control tx-semibold tx-15 tx-danger",type:"text",disabled:"disabled"}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Categoría:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("select.tx-semibold",{onchange:function(e){M.data.categoria=e.target.options[e.target.options.selectedIndex].value,M.data.id_categoria=e.target.options[e.target.options.selectedIndex].id},class:"custom-select"},r()("option","Seleccione..."),M.activos.activos.map(function(e){return r()("option",{id:e.cod_class,value:e.class},e.class)})))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Sub. Categoría:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("select.tx-semibold",{onchange:function(e){M.data.id_sub_categoria=e.target.options[e.target.options.selectedIndex].id,M.data.sub_categoria=e.target.options[e.target.options.selectedIndex].value,M.data.area=e.target.options[e.target.options.selectedIndex].dataset.area},class:"custom-select"},r()("option","Seleccione..."),M.activos.subActivos.map(function(e){return e.cod_class==M.data.id_categoria?[r()("option",{value:e.class,id:e.cod_class,"data-area":e.area},e.class)]:[]})))])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL EQUIPO:")])),r()("tbody",[r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Nombre:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Nombre",oninput:function(e){M.data.nombre=e.target.value}}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Marca:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Marca",oninput:function(e){M.data.marca=e.target.value}}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Modelo:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Modelo",oninput:function(e){M.data.modelo=e.target.value}}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Serie:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Serie",oninput:function(e){M.data.serie=e.target.value}}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"N° de Informe Técnico:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"N° de Informe Técnico:",oninput:function(e){M.data.inf_tec=e.target.value}}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"N° de Activo Fijo:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"N° de Activo Fijo",oninput:function(e){M.data.act_fijo=e.target.value}}))]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","MOTIVO DE SOLICITUD:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Motivo de Solicitud:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[r()("select.tx-semibold",{onchange:function(e){M.data.id_motivo_baja=e.target.options[e.target.options.selectedIndex].id,M.data.motivo_baja=e.target.options[e.target.options.selectedIndex].value,console.log("data => ",M.data)},class:"custom-select"},r()("option","Seleccione..."),[{label:"NO SE UTILIZA",value:"NO_SE_UTILIZA"},{label:"RENOVACIÓN",value:"RENOVACION"},{label:"RENOVACIÓN EQUIPO DE COMPUTO",value:"RENOVACION_EQ_COMPUTO"},{label:"DAÑO",value:"DAÑO"},{label:"PERDIDA",value:"PERDIDA"}].map(function(e){return r()("option",{id:e.value,value:e.label},e.label)}))])]),r()("tr.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","ACCIÓN SUGERIDA:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Acción Sugerida:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[r()("select.tx-semibold",{onchange:function(e){M.data.accion_sugerida=e.target.value},class:"custom-select"},r()("option","Seleccione..."),M.activos.motivos.map(function(e){return e.motivo_baja==M.data.id_motivo_baja?[r()("option",{value:e.accion_sugerida},e.accion_sugerida.replace("_"," "))]:[]}))])]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","OBSERVACIÓN:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Observación:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},r()("div.tx-justify",{},M.activos.motivos.map(function(e){return e.motivo_baja==M.data.id_motivo_baja&&e.accion_sugerida==M.data.accion_sugerida?[r()("p.tx-15.tx-semibold.tx-danger",e.obs)]:[]})))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Destino Final:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},r()("div",{},M.activos.motivos.map(function(e){return e.motivo_baja==M.data.id_motivo_baja&&e.accion_sugerida==M.data.accion_sugerida?[r()(vd,{destino_final:e.destino_final})]:[]})))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Responsable:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("p.mg-b-0","*Ingrese Usuario y Contraseña de Directorio Activo (AD), THConmigo etc."),void 0!==M.data.usuario?[r()("div.input-group",[r()("textarea[rows='3']",{class:"form-control tx-semibold tx-14",disabled:"disabled"},M.data.usuario)]),r()("div.input-group.mg-t-5",r()("button.btn.btn-primary.btn-block.tx-semibold[type='button']",{onclick:function(e){M.sendDataTR()}},"Enviar"))]:[r()("div",M.autorizado?[r()("div.pd-t-10",{class:M.loaderFirma?"":"d-none"},[r()("div.placeholder-paragraph.wd-100p.pd-5",[r()("div.line")])]),r()("div.input-group",{class:M.loaderFirma?"d-none":""},[r()("input.form-control[type='text'][placeholder='Usuario'][autofocus='true']",{oninput:function(e){M.user=e.target.value}}),r()("input.form-control[type='password'][placeholder='Contraseña']",{oninput:function(e){M.pass=e.target.value}}),r()("div.input-group.mg-t-5",r()("button.btn.btn-primary.btn-block[type='button']",{onclick:function(e){0!==M.user.length&&0!==M.pass.length?M.firmarTR():alert("Usuario y Contraseña son obligatorios.")}},"Validar"))])]:[r()("button.btn.btn-xs.btn-block.btn-outline-light[type='button']",{onclick:function(e){M.autorizado=!0}},r()("i.fas.fa-edit.pd-1.mg-r-2"),"Firma de Responsabilidad")])])]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","ADJUNTOS:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos "))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(gd)])]))]),r()("tr.d-print-none",[])])])])])])])]:[]])])])),r()("div.section-nav",[r()("label.nav-label","Nueva Tarjeta Roja"),r()("div.mg-t-10.mg-b-10.bg-white",{},r()("a",{href:"/contabilidad/proceso/tarjeta-roja/consultar"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Consultar Status")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-search.tx-40.tx-success")),r()("div",[r()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),r()("a",{href:"/contabilidad/proceso/tarjeta-roja/nueva"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Nueva Tarjeta")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-file.tx-40.tx-primary")),r()("div",[r()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),r()("a",{href:"/contabilidad/proceso/tarjeta-roja/autorizaciones"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Autorizaciones")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-check.tx-40.tx-primary")),r()("div",[r()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),r()("br"))])]}},qo=M;var xd={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(xd.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?xd.start(e):xd.stop(e),e.isPaused=!e.isPaused}},yd={oncreate:function(){P.loadNSSImagen(),0!==P.searchField.length&&$("#table-NSSImagen").DataTable().search(P.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Farmacia:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==P.idFiltro&&(e.dom.innerHTML="NSSImagen de Hoy"),2==P.idFiltro&&(e.dom.innerHTML="NSSImagen entre Fechas"),3==P.idFiltro&&(e.dom.innerHTML="NSSImagen de Emergencia"),4==P.idFiltro&&(e.dom.innerHTML="NSSImagen de Hospitalización"),5==P.idFiltro&&(e.dom.innerHTML="NSSImagen de PB"),6==P.idFiltro&&(e.dom.innerHTML="NSSImagen de H1"),7==P.idFiltro&&(e.dom.innerHTML="NSSImagen de H2"),8==P.idFiltro&&(e.dom.innerHTML="NSSImagen de C2")},onupdate:function(e){1==P.idFiltro&&(e.dom.innerHTML="NSSImagen de Hoy"),2==P.idFiltro&&(e.dom.innerHTML="NSSImagen entre Fechas"),3==P.idFiltro&&(e.dom.innerHTML="NSSImagen de Emergencia"),4==P.idFiltro&&(e.dom.innerHTML="NSSImagen de Hospitalización"),5==P.idFiltro&&(e.dom.innerHTML="NSSImagen de PB"),6==P.idFiltro&&(e.dom.innerHTML="NSSImagen de H1"),7==P.idFiltro&&(e.dom.innerHTML="NSSImagen de H2"),8==P.idFiltro&&(e.dom.innerHTML="NSSImagen de C2")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==P.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==P.idFiltro?moment(moment(P.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){P.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetch(),r().route.set("/farmacia/NSSImagen/?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==P.idFiltro?moment(moment(P.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){P.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetch(),r().route.set("/farmacia/NSSImagen/?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=1"},["NSSImagen de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=2&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["NSSImagen entre Fechas"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=3&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["NSSImagen de Emergencia"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=4&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["NSSImagen de Hospitalización"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=5&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["NSSImagen de PB"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=6&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["NSSImagen de H1"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=7&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["NSSImagen de H2"]),r()(r().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=8&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["NSSImagen de C2"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==P.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){P.searchField=e.target.value},value:P.searchField}))]),r()("table.table.table-sm.tx-11[id='table-NSSImagen'][width='100%']")])])])}},P={notificaciones:[],pedidos:[],pendientes:0,despachos:0,showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){ci.page="",0==P.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),P.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),P.fechaHasta=moment().format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetch())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Farmacia")},loadNSSImagen:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-NSSImagen").DataTable({data:P.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:[{title:"Fecha Receta:"},{title:"Paciente:"},{title:"Status Despacho:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.FECHA_RECETA},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[3],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.tx-14",{style:{}},t.FECHA_RECETA),r()("td.wd-60p",{style:{}},[r()(".d-inline.tx-semibold.tx-14","NHC: "),r()(".d-inline.tx-14",t.CD_PACIENTE),r()("br"),r()(".d-inline.tx-semibold.tx-14","PTE: "),r()(".d-inline.tx-14",t.NM_PACIENTE),r()("br"),r()(".d-inline.tx-semibold.tx-14","N° ATENCIÓN: "),r()(".d-inline.tx-14",t.CD_ATENDIMENTO),r()(".d-inline.tx-semibold.tx-14"," UBICACIÓN: "),r()(".d-inline.tx-14",t.UBICACION+" - "+t.DS_UNID_INT)]),r()("td.tx-center.wd-10p.tx-white.tx-semibold",{style:{"background-color":0==t.STATUS_DESPACHO?"#fd7e14":"#0d9448"}},0==t.STATUS_DESPACHO?"Pendiente":"Despachado"),r()("td.tx-center.wd-10p.tx-semibold",{onclick:function(){r().route.set("/farmacia/receta/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.CD_ATENDIMENTO,numeroReceta:t.id,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver ",r()("br")," Receta ")]}})},drawCallback:function(e){P.loader=!1,P.despachos=0,P.pendientes=0,e.aoData.map(function(e,t){1==e._aData.STATUS_DESPACHO?P.despachos++:P.pendientes++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==P.idFiltro?"?idFiltro="+P.idFiltro:"?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/recetas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){P.loader=!1,P.pedidos=e.data}).catch(function(e){setTimeout(function(){P.fetch()},2e3)})},reproesarMensajeXML:function(e,t){P.loader=!0,r().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-NSSImagen").DataTable();e.clear(),e.rows.add(P.pedidos).draw()},view:function(e){return P.loader?[r()(ci,{oncreate:ci.setPage(35)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Imagen")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones de Imagen:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==P.error.length?[r()(ci,{oncreate:ci.setPage(35)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/farnacia"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Imagen")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones de Imagen:"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:P.loader||0===P.pedidos.length?P.loader||0!=P.pedidos.length?[r()(ci,{oncreate:ci.setPage(35)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),r()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(ci,{oncreate:ci.setPage(35)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Imagen")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones de Imagen:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(ci,{oncreate:ci.setPage(35)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/imagen"},[" Imagen "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Imagen")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones de Imagen:"),r()(yd)])),r()("div.section-nav",[r()("label.nav-label","Notificaciones de Imagen"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Notificaciones de Imagen:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",P.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Receta(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Pendientes:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",P.pendientes),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Receta(s)")])])]),r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Despachadas:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",P.despachos),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Receta(s)")])])])),r()("div.pd-20",r()(wd)))])]}};function wd(){var t={interval:null,seconds:100,isPaused:!1};return xd.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){xd.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){xd.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){xd.stop(t)}}}var _d=P,Ed=wl(1360),Ad={view:function(){var o=B.getDataUser();if(0!==o.length)return[Ed("li.nav-item",Ed(Ed.route.Link,{href:"/inicio",class:"nav-link"},[Ed("i[data-feather='layout']")," Inicio "])),Object.keys(o.modulesAccess).map(function(e,t,a){if(0!==o.modulesAccess[e].length)return"terapia-respiratoria"==e?[Ed("li.nav-item."+(Dd.page===e?"active":""),Ed(Ed.route.Link,{href:"/terapia-respiratoria/pedidos",class:"nav-link"},[Ed("i[data-feather='layout']"),"Terapia Respiratoria"]))]:"bco-sangre"==e?[Ed("li.nav-item."+(Dd.page===e?"active":""),Ed(Ed.route.Link,{href:"/bco-sangre/pedidos",class:"nav-link"},[Ed("i[data-feather='layout']"),"Bco. de Sangre"]))]:"neurofisiologia"==e?[Ed("li.nav-item."+(Dd.page===e?"active":""),Ed(Ed.route.Link,{href:"/neurofisiologia/pedidos",class:"nav-link"},[Ed("i[data-feather='layout']"),"Neurofisiología"]))]:[Ed("li.nav-item."+(Dd.page===e?"active":""),Ed(Ed.route.Link,{href:"/"+e,class:"nav-link"},[Ed("i[data-feather='layout']"),e.charAt(0).toUpperCase()+e.slice(1)]))]})]}},Dd={page:"",setPage:function(e){Dd.page=e},oncreate:function(){Td()},onupdate:function(){Td()},view:function(){return[Ed("header.navbar.navbar-header.navbar-header-fixed",[Ed("a.burger-menu.d-none[href=''][id='sidebarMenuOpen']",Ed("i[data-feather='arrow-left']")),Ed("a.burger-menu.d-lg-none[href=''][id='calendarSidebarShow']",Ed("i[data-feather='arrow-left']")),Ed("div.navbar-brand",Ed(Ed.route.Link,{href:"/",class:"df-logo"},["Metro",Ed("span","Plus+")])),Ed(".navbar-menu-wrapper[id='navbarMenu']",[Ed("div.navbar-menu-header",[Ed(Ed.route.Link,{href:"/",class:"df-logo"},["Metro",Ed("span","Plus+")]),Ed("a[id='mainMenuClose'][href='']",Ed("i[data-feather='x']"))]),Ed("ul.nav.navbar-menu",[Ed("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),Ed("div.d-lg-none",[Ed(Ad)])])]),Ed(ne)])]}};function Td(){var t;function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))})}var Md=Dd;var Pd={id:"",cita:[],citasDisponibles:[],citasAgendadas:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,loadDetalle:!1,nuevaCita:!1,error:"",oninit:function(e){Pd.id=e.attrs.id,Pd.loader=!0,Pd.fetchDetalleCita(),document.body.classList.add("app-calendar"),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")})},setSidebar:function(){$("#calendarInline").datepicker({showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:function(e){e=e.getDate();return console.log(e),[!0,e<10?"zero":""]}}),setTimeout(function(){new PerfectScrollbar("#calendarSidebarBody",{suppressScrollX:!0})},100),$('[data-toggle="tooltip"]').tooltip()},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Imagen-Agenda")},fetchDetalleCita:function(){r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/v2/medicos/mi-agenda/cita?id="+Pd.id,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Pd.loader=!1,Pd.cita=e.data,Pd.cita.horaInicio=moment(Pd.cita.start).format("dddd, DD-MM-YYYY HH:mm"),Pd.cita.horaFin=moment(Pd.cita.end).format("dddd, DD-MM-YYYY HH:mm"),console.log(1,Pd.cita),setTimeout(function(){Pd.setSidebar()},100)}).catch(function(e){setTimeout(function(){Pd.fetchDetalleCita()},2e3)})},agendarCita:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/medicos/agenda/crear-cita",body:{availableServiceId:0,covenantId:2,covenantPlanId:2,dateBirth:"1962-03-23",email:"mariobe7@hotmail.com",id:Pd.cita.id,isFitting:!0,markingTypeId:0,patientId:22706,patientName:"BERMEO CABEZAS MARIO GERMAN",phoneNumber:"0999721820",scheduleFormType:"PERSONALLY",schedulingItemId:428,sexType:"MALE",specialityId:66,statusScheduleType:"M"},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),e?(alert("Cita agendada con éxito."),window.location.reload()):alert(resul)}).catch(function(e){})},view:function(e){return Pd.loader?[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header"),r()("div.calendar-sidebar-body")]),r()("div.calendar-content",[r()("div.calendar-content-body.tx-center.mg-t-50","Procesando... por favor espere.")])])]:0!==Pd.error.length||Pd.loader||0===Pd.cita.length?[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header"),r()("div.calendar-sidebar-body")]),r()("div.calendar-content",[r()("div.calendar-content-body")])])]:[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header",[r()("i[data-feather='search']"),r()("div.search-form",[r()("input.form-control[type='search']")]),r()("a.btn btn-sm btn-primary btn-icon calendar-add",[r()("div[data-toggle='tooltip']",[r()("i.tx-white[data-feather='plus']")])])]),r()("div.calendar-sidebar-body[id='calendarSidebarBody']",[r()("div.calendar-inline",[r()("div[id='calendarInline']")])])]),r()("div.calendar-content",[r()("div.calendar-content-body.pd-5",r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th.tx-15.tx-semibold[scope='col'][colspan='12']",r()("small.pd-2.tx-15.tx-white ",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){r().route.set("/imagen/agendamiento/")}})),"DETALLE DE CITA:")])),r()("tbody",[r()("tr",[r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Id Cita:"),r()("td[colspan='2'].tx-13",{style:{"background-color":"#eaeff5"}},Pd.cita.id),r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Fecha Hora Inicio:"),r()("td.tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},Pd.cita.horaInicio),r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Fecha Hora Fin:"),r()("td.tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},Pd.cita.horaFin)]),r()("tr",[r()("th[colspan='3'].tx-13",{style:{"background-color":"#a8bed6"}},"Médico Prestador:"),r()("td[colspan='3'].tx-13",{style:{"background-color":"#eaeff5"}},Pd.cita.id),r()("th[colspan='3'].tx-13",{style:{"background-color":"#a8bed6"}},"Especialidad:"),r()("td[colspan='3'].tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},Pd.cita.horaFin)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th.tx-15.tx-semibold[scope='col'][colspan='12']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Pd.cita.title),r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Pd.cita.title)]),r()("tr",[]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th.tx-15.tx-semibold[scope='col'][colspan='10']","EXÁMENES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}})]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th.tx-15.tx-semibold[scope='col'][colspan='10']","OPCIONES DISPONIBLES:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",{},[r()("li.nav-item",r()("a.nav-link[id='home-editar'][data-toggle='tab'][href='#editar'][role='tab'][aria-controls='editar']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," EDITAR ")),r()("li.nav-item",r()("a.nav-link[id='home-cancelacion'][data-toggle='tab'][href='#cancelacion'][role='tab'][aria-controls='cancelacion']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," CANCELAR ")),r()("li.nav-item",r()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}}," COMENTARIOS "))]))]),r()("tr.d-print-none",[r()("td[colspan='10']",r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='editar'][role='tabpanel'][aria-labelledby='home-editar']",[[r()("div.form-group",[r()("label","Nuevo Horario"),r()("input.form-control[type='text'][placeholder='Nuevo Horario']"),r()("div.input-group-append",r()("button.btn.btn-outline-light.tx-semibold[type='button']","Nuevo Horario"))]),r()("div.form-group",[r()("label","Médico Prestador:"),r()("input.form-control[type='text'][placeholder='Médico Prestador']"),r()("div.input-group-append",r()("button.btn.btn-outline-light.tx-semibold[type='button']","Buscar"))]),r()("button.btn.btn-primary.tx-semibold","Editar Cita")]]),r()(".tab-pane.fade[id='cancelacion'][role='tabpanel'][aria-labelledby='home-cancelacion']",[r()("div.pd-5",[r()("div.form-group",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='customCheck0']"),r()("label.custom-control-label.tx-semibold[for='customCheck0']","¿Esta seguro de cancelar esta Cita?")])),r()("div.form-group",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='customCheckC']"),r()("label.custom-control-label.tx-semibold[for='customCheckC']","Enviar correo de notificación al paciente.")])),r()("button.btn.btn-danger.tx-semibold","Cancelar Cita")])]),r()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){Pd.loadDetalle=!Pd.loadDetalle}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),r()("tr.d-print-none",[])])]))])]),r()(".modal.calendar-modal-create.fade.effect-scale[id='modalCreateEvent'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered[role='document']",r()("div.modal-content",[r()("div.modal-body.pd-20.pd-sm-30",[r()("button.close.pos-absolute.t-20.r-20[type='button'][data-dismiss='modal'][aria-label='Close']",r()("span[aria-hidden='true']",r()("i[data-feather='x']"))),r()("h5.tx-18.tx-sm-20.mg-b-20.mg-sm-b-30","Nueva Cita"),r()("div",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Historia Clínica Paciente:"),r()("div.form-group",r()("input.form-control[type='text'][placeholder='Historia Clínica']")),r()("div.d-none",[r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='customRadio1'][name='customRadio'][checked]"),r()("label.custom-control-label[for='customRadio1']","Evento")]),r()("div.custom-control.custom-radio.mg-l-20",[r()("input.custom-control-input[type='radio'][id='customRadio2'][name='customRadio'][checked]"),r()("label.custom-control-label[for='customRadio2']","Reminder")])]),r()("div.form-group.mg-t-30",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha y Hora de Inicio:"),r()("div.row.row-xs",[r()("div.col-7",r()("input.form-control[id='eventStartDate'][type='text'][value=''][placeholder='Select date'][disabled='disabled']")),r()("div.col-5.d-none",r()("select.custom-select",r()("option[selected]","Select Time")))])]),r()("div.form-group",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha y Hora de Fin"),r()("div.row.row-xs",[r()("div.col-7",r()("input.form-control[id='eventEndDate'][type='text'][value=''][placeholder='Select date'][disabled='disabled']")),r()("div.col-5.d-none",r()("select.custom-select",r()("option[selected]","Select Time")))])]),r()("div.form-group",r()("textarea.form-control[rows='2'][placeholder='Comentarios']"))])]),r()("div.modal-footer",[r()("button.btn.btn-primary.mg-r-5",{onclick:function(){Pd.agendarCita()}},"Agendar Cita"),r()("a.btn.btn-secondary[href=''][data-dismiss='modal']","Cerrar")])]))),r()(".modal.calendar-modal-event.fade.effect-scale[id='modalCalendarEvent'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered[role='document']",r()("div.modal-content",[r()("div.modal-header",[r()("h6.event-title"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#']",r()("i[data-feather='external-link']")),r()("a.nav-link[href='#']",r()("i[data-feather='trash-2']")),r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("div.col-sm-6",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Start Date"),r()("p.event-start-date")]),r()("div.col-sm-6",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","End Date"),r()("p.event-end-date")])]),r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Description"),r()("p.event-desc.tx-gray-900.mg-b-40"),r()("a.btn.btn-secondary.pd-x-20[href=''][data-dismiss='modal']","Close")])])))]}},kd=Pd;var Sd={cita:[],citasDisponibles:[],citasAgendadas:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,loadDetalle:!1,nuevaCita:!1,error:"",oninit:function(e){0==ld.cita.length&&r().route.set("/imagen/agendamiento/"),Sd.cita=ld.cita,console.log(1,Sd.cita),document.body.classList.add("app-calendar"),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),setTimeout(function(){Sd.setSidebar()},20)},setSidebar:function(){$("#calendarInline").datepicker({showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:function(e){e=e.getDate();return console.log(e),[!0,e<10?"zero":""]}}),setTimeout(function(){new PerfectScrollbar("#calendarSidebarBody",{suppressScrollX:!0})},100),$("#calendarSidebarShow").on("click",function(e){e.preventDefault(),$("body").toggleClass("calendar-sidebar-show"),$(this).addClass("d-none"),$("#mainMenuOpen").removeClass("d-none")}),$(document).on("click touchstart",function(e){e.stopPropagation(),$(e.target).closest(".burger-menu").length||$(e.target).closest(".calendar-sidebar").length||($("body").removeClass("calendar-sidebar-show"),$("#mainMenuOpen").addClass("d-none"),$("#calendarSidebarShow").removeClass("d-none"))}),$('[data-toggle="tooltip"]').tooltip()},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Imagen-Agenda")},agendarCita:function(){r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/medicos/agenda/crear-cita",body:{availableServiceId:0,covenantId:2,covenantPlanId:2,dateBirth:"1962-03-23",email:"mariobe7@hotmail.com",id:Sd.cita.id,isFitting:!0,markingTypeId:0,patientId:22706,patientName:"BERMEO CABEZAS MARIO GERMAN",phoneNumber:"0999721820",scheduleFormType:"PERSONALLY",schedulingItemId:428,sexType:"MALE",specialityId:66,statusScheduleType:"M"},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),e?(alert("Cita agendada con éxito."),window.location.reload()):alert(resul)}).catch(function(e){})},view:function(e){return Sd.loader?[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header"),r()("div.calendar-sidebar-body")]),r()("div.calendar-content",[r()("div.calendar-content-body.tx-center.mg-t-50","Procesando... por favor espere.")])])]:0!==Sd.error.length||Sd.loader||0===Sd.cita.length?[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header"),r()("div.calendar-sidebar-body")]),r()("div.calendar-content",[r()("div.calendar-content-body[id='calendar']")])])]:[r()("div.calendar-wrapper",[r()("div.calendar-sidebar",[r()("div.calendar-sidebar-header",[r()("i[data-feather='search']"),r()("div.search-form",[r()("input.form-control[type='search']")]),r()("a.btn btn-sm btn-primary btn-icon calendar-add",[r()("div[data-toggle='tooltip']",[r()("i.tx-white[data-feather='plus']")])])]),r()("div.calendar-sidebar-body[id='calendarSidebarBody']",[r()("div.calendar-inline",[r()("div[id='calendarInline']")])])]),r()("div.calendar-content",[r()("div.calendar-content-body.pd-5",r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th.tx-15.tx-semibold[scope='col'][colspan='12']",r()("small.pd-2.tx-15.tx-white ",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){r().route.set("/imagen/agendamiento/")}})),"NUEVA CITA:")])),r()("tbody",[r()("tr",[r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Fecha Hora Inicio:"),r()("td[colspan='4'].tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},Sd.cita.horaInicio),r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Fecha Hora Fin:"),r()("td[colspan='4'].tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},Sd.cita.horaFin)]),r()("tr",[r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Médico Prestador"),r()("td[colspan='10'].tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Médico Prestador']"),r()("div.input-group-append",r()("button.btn.btn-outline-light.tx-semibold[type='button'][id='button-addon2']","Buscar"))]))])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th.tx-15.tx-semibold[scope='col'][colspan='12']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},r()("div.input-group",[r()("input.form-control[type='text'][placeholder='NHC']"),r()("div.input-group-append",r()("button.btn.btn-outline-light.tx-semibold[type='button'][id='button-addon2']","Buscar"))])),r()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},Sd.cita.title)]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th.tx-15.tx-semibold[scope='col'][colspan='10']","EXÁMENES:")]),r()("tr",[r()("th[colspan='2']",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("div.input-group",[r()("input.form-control[type='text'][placeholder='Exámenes']"),r()("div.input-group-append",r()("button.btn.btn-outline-light.tx-semibold[type='button'][id='button-addon2']","Buscar Examen"))]))]),r()("tr",[r()("th[colspan='2']",{style:{"background-color":"#a8bed6"}}),r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}})]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th.tx-15.tx-semibold[scope='col'][colspan='10']","OPCIONES DISPONIBLES:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",{},[r()("li.nav-item",r()("a.nav-link[id='home-confirmacion'][data-toggle='tab'][href='#confirmacion'][role='tab'][aria-controls='confirmacion']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," CONFIRMACIÓN ")),r()("li.nav-item",r()("a.nav-link[id='home-commentAgenda'][data-toggle='tab'][href='#commentAgenda'][role='tab'][aria-controls='commentAgenda']",{style:{color:"#476ba3"}}," COMENTARIOS "))]))]),r()("tr.d-print-none",[r()("td[colspan='10']",r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='confirmacion'][role='tabpanel'][aria-labelledby='home-confirmacion']",[[r()("div.pd-5",[r()("div.form-group",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='customCheck1']"),r()("label.custom-control-label.tx-semibold[for='customCheck1']","¿Esta seguro de agendar esta Cita?")])),r()("div.form-group",r()("div.custom-control.custom-checkbox",[r()("input.custom-control-input[type='checkbox'][id='customCheck2']"),r()("label.custom-control-label.tx-semibold[for='customCheck2']","Enviar correo de notificación al paciente.")])),r()("button.btn.btn-primary.tx-semibold","Agendar Cita")])]]),r()(".tab-pane.fade[id='commentAgenda'][role='tabpanel'][aria-labelledby='home-commentAgenda']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{},[r()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")]),r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),r()("tr.d-print-none",[])])]))])]),r()(".modal.calendar-modal-create.fade.effect-scale[id='modalCreateEvent'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered[role='document']",r()("div.modal-content",[r()("div.modal-body.pd-20.pd-sm-30",[r()("button.close.pos-absolute.t-20.r-20[type='button'][data-dismiss='modal'][aria-label='Close']",r()("span[aria-hidden='true']",r()("i[data-feather='x']"))),r()("h5.tx-18.tx-sm-20.mg-b-20.mg-sm-b-30","Nueva Cita"),r()("div",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Historia Clínica Paciente:"),r()("div.form-group",r()("input.form-control[type='text'][placeholder='Historia Clínica']")),r()("div.d-none",[r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='customRadio1'][name='customRadio'][checked]"),r()("label.custom-control-label[for='customRadio1']","Evento")]),r()("div.custom-control.custom-radio.mg-l-20",[r()("input.custom-control-input[type='radio'][id='customRadio2'][name='customRadio'][checked]"),r()("label.custom-control-label[for='customRadio2']","Reminder")])]),r()("div.form-group.mg-t-30",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha y Hora de Inicio:"),r()("div.row.row-xs",[r()("div.col-7",r()("input.form-control[id='eventStartDate'][type='text'][value=''][placeholder='Select date'][disabled='disabled']")),r()("div.col-5.d-none",r()("select.custom-select",r()("option[selected]","Select Time")))])]),r()("div.form-group",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha y Hora de Fin"),r()("div.row.row-xs",[r()("div.col-7",r()("input.form-control[id='eventEndDate'][type='text'][value=''][placeholder='Select date'][disabled='disabled']")),r()("div.col-5.d-none",r()("select.custom-select",r()("option[selected]","Select Time")))])]),r()("div.form-group",r()("textarea.form-control[rows='2'][placeholder='Comentarios']"))])]),r()("div.modal-footer",[r()("button.btn.btn-primary.mg-r-5",{onclick:function(){Sd.agendarCita()}},"Agendar Cita"),r()("a.btn.btn-secondary[href=''][data-dismiss='modal']","Cerrar")])]))),r()(".modal.calendar-modal-event.fade.effect-scale[id='modalCalendarEvent'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered[role='document']",r()("div.modal-content",[r()("div.modal-header",[r()("h6.event-title"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#']",r()("i[data-feather='external-link']")),r()("a.nav-link[href='#']",r()("i[data-feather='trash-2']")),r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("div.col-sm-6",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Start Date"),r()("p.event-start-date")]),r()("div.col-sm-6",[r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","End Date"),r()("p.event-end-date")])]),r()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Description"),r()("p.event-desc.tx-gray-900.mg-b-40"),r()("a.btn.btn-secondary.pd-x-20[href=''][data-dismiss='modal']","Close")])])))]}},Cd=Sd,Id={files:[],detalle:[],error:"",showFor:"",uploadService:function(e){var t=new FormData($("#uploadForm")[0]);fetch("https://api.hospitalmetropolitano.org/t/v1/procesos/tr/uploads?idTR="+k.id,{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){console.log("data = ",e),alert("Proceso realizado con éxito.")}).catch(function(e){console.error(e)})},loadFile:function(e){Array.from(e.target.files).forEach(function(e){Id.files.push(e)})},view:function(){return[r()("div.mg-t-10.d-flex",{},[0==Id.files.length?[r()("p","No existe archivos.")]:0<Id.files.length?[Id.files.map(function(e,t,a){return[r()("div.col-6.col-sm-4.col-md-3.col-xl-3.mg-b-5.mg-t-5",r()("div.card.card-file",[r()("div.dropdown-file",[r()("a.dropdown-link[href=''][data-toggle='dropdown']",r()("svg.feather.feather-more-vertical[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("circle[cx='12'][cy='12'][r='1']"),r()("circle[cx='12'][cy='5'][r='1']"),r()("circle[cx='12'][cy='19'][r='1']")])),r()("div.dropdown-menu.dropdown-menu-right",[r()("a.dropdown-item.download[href='"+e.url+"'][target='_blank']",[r()("svg.feather.feather-download[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("path[d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4']"),r()("polyline[points='7 10 12 15 17 10']"),r()("line[x1='12'][y1='15'][x2='12'][y2='3']")]),"Descargar"])])]),r()("div.card-file-thumb.tx-danger",r()("i.far.fa-file-pdf")),r()("div.card-body",[r()(".d-inline.tx-5",e.name)])]))]})]:[]]),r()("form.mg-t-50",{enctype:"multipart/form-data",id:"uploadForm",onsubmit:function(e){e.preventDefault(),Id.uploadService()}},[r()("div.custom-file.mg-b-5",[r()("label.custom-file-label[for='uploadFiles']"," Subir Archivos "),r()("input.custom-file-input[autofocus][id='uploadFiles'][name='uploadFiles'][type='file'][multiple='true']",{onchange:function(e){Id.loadFile(e)}})]),r()("button.btn.btn-primary.btn-block[type='submit']","Subir Archivo")])]}},Od={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return $.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:Od.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],width:"1%",orderable:!0},{mRender:function(e,t,a,o){return""},visible:!0,width:"99%",aTargets:[1],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[1],{view:function(){return r()("div.demo-static-toast.wd-100p",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observación"),r()("small.tx-white",moment.unix(e._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),r()("div.toast-body.small",e._aData.log)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(Od.data).draw()},fetch:function(){Od.data=k.data.comments,Od.loadObservaciones()}},k={id:"",status:0,data:[],activos:[],examenes:[],error:"",numeroAuthTR:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,oninit:function(e){d.isAuth("contabilidad",33),k.id=e.attrs.tr,k.fetch()},fetch:function(){k.activos=[],k.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/id",body:{idTR:k.id},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(k.loader=!1,k.data=e.data,!1!==k.data.files&&(Id.files=k.data.files),setTimeout(function(){Od.fetch()},100)):k.error=e.message}).catch(function(e){k.fetch()})},updateStatus:function(){k.activos=[],k.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/id-up",body:{idTR:k.id,status:k.status,obs:Od.observaciones},headers:{"Content-Type":"application/json; charset=utf-8",Authorization:localStorage.accessToken}}).then(function(e){e.status?(alert("Proceso realizado con éxito."),window.location.reload()):k.error=e.message}).catch(function(e){k.fetch()})},descargarInforme:function(){window.open("https://api.hospitalmetropolitano.org/t/v1/procesos/tr/informe?idTR="+k.id,"_blank")},view:function(e){return[r()(o,{oncreate:o.setPage("contabilidad")}),r()(pd,{oncreate:pd.setPage(32)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),r()("li.breadcrumb-item.active[aria-current='page']","Nueva Tarjeta Roja")]),r()("h1.df-title.mg-t-20.mg-b-10","Nueva Tarjeta Roja: "),r()("div.row.animated.fadeInUp",[r()("div.col-12",[0!==k.data.length?[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("span.pd-6.wd-100p.wd-md-20p.tx-15",{class:k.data.status<0?"badge badge-danger mg-b-2 mg-r-2":"badge badge-success mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],[1==k.data.status?"Ingresada":"",2==k.data.status?"Autorizado":"",3==k.data.status?"En Revisión Técnica":"",4==k.data.status?"En Revisión Contable":"",5<=k.data.status?"Aprobada":"",k.data.status<0?"Rechazada":""]),r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"FOR TARJETA ROJA"),r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS SOLICITUD:")])),r()("tbody",[r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6",width:"25%"}},"Fecha de Solicitud:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{value:k.data.fecha,class:"form-control tx-semibold tx-15 tx-danger",type:"text",disabled:"disabled"}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Categoría:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.categoria}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Sub. Categoría:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.sub_categoria}))])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL EQUIPO:")])),r()("tbody",[r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Nombre:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.nombre}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Marca:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.marca}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Modelo:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.modelo}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Serie:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.serie}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"N° de Informe Técnico:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.inf_tec}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"N° de Activo Fijo:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.act_fijo}))]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","MOTIVO DE BAJA:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Motivo de Baja:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.motivo_baja})])]),r()("tr.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","ACCIÓN SUGERIDA:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Acción Sugerida:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.accion_sugerida})])]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","OBSERVACIÓN:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Destino Final:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:k.data.destino_final}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Responsable:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("textarea[rows='3']",{class:"form-control tx-semibold tx-14",disabled:"disabled"},k.data.usuario))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","ADJUNTOS:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos ",0!==Id.files.length?[r()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",Id.files.length)]:[])),r()("li.nav-item",{},r()("a.nav-link[id='home-auth1'][data-toggle='tab'][href='#auth0'][role='tab'][aria-controls='auth0']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," Observaciones ",0!==k.data.comments.length?[r()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",k.data.comments.length)]:[])),r()("li.nav-item",{class:1==k.data.status?"":"d-none"},r()("a.nav-link[id='home-auth1'][data-toggle='tab'][href='#auth1'][role='tab'][aria-controls='auth1']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," Revisión ")),r()("li.nav-item",{class:2==k.data.status?"":"d-none"},r()("a.nav-link[id='home-auth2'][data-toggle='tab'][href='#auth2'][role='tab'][aria-controls='auth2']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," Revisión  ")),r()("li.nav-item",{class:3==k.data.status?"":"d-none"},r()("a.nav-link[id='home-auth3'][data-toggle='tab'][href='#auth3'][role='tab'][aria-controls='auth3']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," Revisión  ")),r()("li.nav-item",{class:4==k.data.status?"":"d-none"},r()("a.nav-link[id='home-auth4'][data-toggle='tab'][href='#auth4'][role='tab'][aria-controls='auth4']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," Revisión ")),r()("li.nav-item",{class:5<=k.data.status?"":"d-none"},r()("a.nav-link[id='home-auth5'][data-toggle='tab'][href='#auth5'][role='tab'][aria-controls='auth5']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," USSA ")),r()("li.nav-item",r()("a.nav-link",{style:{color:"#476ba3",cursor:"pointer"},onclick:function(e){e.preventDefault(),k.descargarInforme()}},r()("i.fas.fa-download.pd-1.mg-r-2")," Descargar Informe "))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(Id)]),r()(".tab-pane.fade[id='auth0'][role='tabpanel'][aria-labelledby='home-auth0']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])]),r()(".tab-pane.fade[id='auth1'][role='tabpanel'][aria-labelledby='home-auth1']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Status: ",1==k.data.status?"Ingresada":"",2==k.data.status?"Autorizado":"",3==k.data.status?"En Revisión Técnica":"",4==k.data.status?"En Revisión Contable":"",5<=k.data.status?"Aprobada":"",k.data.status<0?"Rechazada":""),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Od.observaciones=e.target.value},value:Od.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=2,k.updateStatus()}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Autorizado"),r()("button.btn.btn-xs.btn-danger.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=-2,k.updateStatus()}},[],"Rechazar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")])]),r()(".tab-pane.fade[id='auth2'][role='tabpanel'][aria-labelledby='home-auth2']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Status: ",1==k.data.status?"Ingresada":"",2==k.data.status?"Autorizado":"",3==k.data.status?"En Revisión Técnica":"",4==k.data.status?"En Revisión Contable":"",5<=k.data.status?"Aprobada":"",k.data.status<0?"Rechazada":""),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Od.observaciones=e.target.value},value:Od.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=3,k.updateStatus()}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Autorizado"),r()("button.btn.btn-xs.btn-danger.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=-3,k.updateStatus()}},[],"Rechazar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")])]),r()(".tab-pane.fade[id='auth3'][role='tabpanel'][aria-labelledby='home-auth3']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Status: ",1==k.data.status?"Ingresada":"",2==k.data.status?"Autorizado":"",3==k.data.status?"En Revisión Técnica":"",4==k.data.status?"En Revisión Contable":"",5<=k.data.status?"Aprobada":"",k.data.status<0?"Rechazada":""),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Od.observaciones=e.target.value},value:Od.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=4,k.updateStatus()}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Aprobado"),r()("button.btn.btn-xs.btn-danger.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=-4,k.updateStatus()}},[],"Rechazar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")])]),r()(".tab-pane.fade[id='auth4'][role='tabpanel'][aria-labelledby='home-auth4']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Status: ",1==k.data.status?"Ingresada":"",2==k.data.status?"Autorizado":"",3==k.data.status?"En Revisión Técnica":"",4==k.data.status?"En Revisión Contable":"",5<=k.data.status?"Aprobada":"",k.data.status<0?"Rechazada":""),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Od.observaciones=e.target.value},value:Od.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=5,k.updateStatus()}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Aprobado"),r()("button.btn.btn-xs.btn-danger.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=-5,k.updateStatus()}},[],"Rechazar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")])]),r()(".tab-pane.fade[id='auth5'][role='tabpanel'][aria-labelledby='home-auth5']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","USSA"),r()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Od.observaciones=e.target.value},value:Od.observaciones}),r()("div.mg-0.mg-t-5.text-right",[r()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){k.status=6,k.updateStatus()}},[r()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),r()("hr.wd-100p.mg-t-5.mg-b-5")])])]))]),r()("tr.d-print-none",[])])])])])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]])])]))]}},Rd=k;var Nd={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(Nd.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Nd.start(e):Nd.stop(e),e.isPaused=!e.isPaused}};function Fd(){var t={interval:null,seconds:100,isPaused:!1};return Nd.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Nd.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Nd.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Nd.stop(t)}}}var Ld={oncreate:function(){S.loadAutorizacionesTR(),0!==S.searchField.length&&$("#table-AutorizacionesTR").DataTable().search(S.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Tarjeta Roja:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==S.idFiltro&&(e.dom.innerHTML="Autorizaciones de Hoy"),2==S.idFiltro&&(e.dom.innerHTML="Autorizaciones Pendientes"),3==S.idFiltro&&(e.dom.innerHTML="En Revisión Técnica"),4==S.idFiltro&&(e.dom.innerHTML="En Revisión CT"),5==S.idFiltro&&(e.dom.innerHTML="En Revisión GC")},onupdate:function(e){1==S.idFiltro&&(e.dom.innerHTML="Autorizaciones de Hoy"),2==S.idFiltro&&(e.dom.innerHTML="Autorizaciones Pendientes"),3==S.idFiltro&&(e.dom.innerHTML="En Revisión Técnica"),4==S.idFiltro&&(e.dom.innerHTML="En Revisión CT"),5==S.idFiltro&&(e.dom.innerHTML="En Revisión GC")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==S.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==S.idFiltro?moment(moment(S.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){S.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),S.loader=!0,S.pedidos=[],S.fetch(),r().route.set("/laboratorio/autorizaciones?idFiltro="+S.idFiltro+"&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==S.idFiltro?moment(moment(S.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){S.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),S.loader=!0,S.pedidos=[],S.fetch(),r().route.set("/laboratorio/AutorizacionesTR?idFiltro="+S.idFiltro+"&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=1"},["Autorizaciones de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=2&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta},["Autorizaciones Pendientes"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=3&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta},["En Revisión Técnica"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=4&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta},["En Revisión CT"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=4&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta},["En Revisión GC"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==S.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){S.searchField=e.target.value},value:S.searchField}))]),r()("table.table.table-sm.tx-11[id='table-AutorizacionesTR'][width='100%']")])])])}},S={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){pd.page="",0==S.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),S.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),S.fechaHasta=moment().format("DD-MM-YYYY"),S.loader=!0,S.pedidos=[],S.fetch())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-TR")},loadAutorizacionesTR:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-AutorizacionesTR").DataTable({data:S.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"Motivo de Baja:"},{title:"Usuario:"},{title:"Status:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fecha},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.motivo_baja},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.usuario},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td",{class:"bg-danger"},[r()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1",o+1)]),r()("td",{style:{}},t.fecha),r()("td",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.motivo_baja)),r()("td",{style:{}},[t.usuario]),1==t.status?[r()("td.tx-white.tx-semibold.tx-center",{style:{"background-color":"#ffc107"}},"Pendiente")]:[r()("td.tx-white.tx-semibold.tx-center",{style:{"background-color":"#0d9448"}},"Gestionando")],r()("td.tx-center",{onclick:function(){r().route.set("/contabilidad/proceso/tarjeta-roja/id/",{tr:t.id.padStart(5,"0"),track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Detalle ")]}})},drawCallback:function(e){S.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==S.idFiltro?"?idFiltro="+S.idFiltro:"?idFiltro="+S.idFiltro+"&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){S.loader=!1,S.pedidos=e.data}).catch(function(e){setTimeout(function(){S.fetch()},2e3)})},reloadData:function(){var e=$("#table-AutorizacionesTR").DataTable();e.clear(),e.rows.add(S.pedidos).draw()},view:function(e){return S.loader?[r()(pd,{oncreate:pd.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "]))]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==S.error.length?[r()(pd,{oncreate:pd.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "]))]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones;"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:S.loader||0===S.pedidos.length?S.loader||0!=S.pedidos.length?[r()(pd,{oncreate:pd.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),r()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(pd,{oncreate:pd.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),r()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(pd,{oncreate:pd.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),r()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones:"),r()(Ld)])),r()("div.section-nav",[r()("label.nav-label","Pedidos Ingresados"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Autorizaciones")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",S.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(Fd)))])]}},Hd=S,Ud={files:[],detalle:[],error:"",showFor:"",uploadService:function(e){var t=new FormData($("#uploadForm")[0]);fetch("https://api.hospitalmetropolitano.org/t/v1/procesos/tr/uploads?idTR="+jd.id,{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){console.log("data = ",e),alert("Proceso realizado con éxito.")}).catch(function(e){console.error(e)})},loadFile:function(e){Array.from(e.target.files).forEach(function(e){Ud.files.push(e)})},view:function(){return[r()("div.mg-t-10.d-flex",{},[0==Ud.files.length?[r()("p","No existe archivos.")]:0<Ud.files.length?[Ud.files.map(function(e,t,a){return[r()("div.col-6.col-sm-4.col-md-3.col-xl-3.mg-b-5.mg-t-5",r()("div.card.card-file",[r()("div.dropdown-file",[r()("a.dropdown-link[href=''][data-toggle='dropdown']",r()("svg.feather.feather-more-vertical[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("circle[cx='12'][cy='12'][r='1']"),r()("circle[cx='12'][cy='5'][r='1']"),r()("circle[cx='12'][cy='19'][r='1']")])),r()("div.dropdown-menu.dropdown-menu-right",[r()("a.dropdown-item.download[href='"+e.url+"'][target='_blank']",[r()("svg.feather.feather-download[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("path[d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4']"),r()("polyline[points='7 10 12 15 17 10']"),r()("line[x1='12'][y1='15'][x2='12'][y2='3']")]),"Descargar"])])]),r()("div.card-file-thumb.tx-danger",r()("i.far.fa-file-pdf")),r()("div.card-body",[r()(".d-inline.tx-5",e.name)])]))]})]:[]]),r()("form.mg-t-50",{enctype:"multipart/form-data",id:"uploadForm",onsubmit:function(e){e.preventDefault(),Ud.uploadService()}},[r()("div.custom-file.mg-b-5",[r()("label.custom-file-label[for='uploadFiles']"," Subir Archivos "),r()("input.custom-file-input[autofocus][id='uploadFiles'][name='uploadFiles'][type='file'][multiple='true']",{onchange:function(e){Ud.loadFile(e)}})]),r()("button.btn.btn-primary.btn-block[type='submit']","Subir Archivo")])]}},Yd={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return $.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:Yd.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[1],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[1],{view:function(){return r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observación"),r()("small.tx-white",moment.unix(e._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),r()("div.toast-body.tx-14",e._aData.log)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(Yd.data).draw()},fetch:function(){Yd.data=jd.data.comments,Yd.loadObservaciones()}},jd={id:"",data:[],activos:[],examenes:[],error:"",numeroStatusTR:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,oninit:function(e){jd.id=e.attrs.tr,jd.fetch()},fetch:function(){jd.activos=[],jd.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/id",body:{idTR:jd.id},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(jd.loader=!1,jd.data=e.data,!1!==jd.data.files&&(Ud.files=jd.data.files),setTimeout(function(){Yd.fetch()},100)):jd.error=e.message}).catch(function(e){jd.fetch()})},view:function(e){return[r()(Q),r()("div.section-nav",[r()("label.nav-label","Nueva Tarjeta Roja"),r()("div.mg-t-10.mg-b-10.bg-white",{},r()("a",{href:"/contabilidad/proceso/tarjeta-roja/consultar"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Consultar Status")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-search.tx-40.tx-success")),r()("div",[r()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),r()("a",{href:"/contabilidad/proceso/tarjeta-roja/nueva"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Nueva Tarjeta")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-file.tx-40.tx-primary")),r()("div",[r()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),r()("a",{href:"/contabilidad/proceso/tarjeta-roja/autorizaciones"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Autorizaciones")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-check.tx-40.tx-primary")),r()("div",[r()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),r()("br"))]),r()("div.content.content-components",{style:{"margin-left":"0px"}},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("h1.df-title.mg-t-20.mg-b-10","Status Tarjeta Roja N°: HM-"+jd.id),r()("div.row.animated.fadeInUp",[r()("div.col-12",[0!==jd.data.length?[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("span.pd-6.wd-100p.wd-md-20p.tx-15",{class:jd.data.status<0?"badge badge-danger mg-b-2 mg-r-2":"badge badge-success mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],[1==jd.data.status?"Ingresada":"",2==jd.data.status?"Autorizado":"",3==jd.data.status?"En Revisón Técnica":"",4==jd.data.status?"En Revisón Contable":"",5<=jd.data.status?"Aprobada":"",jd.data.status<0?"Rechazada":""]),r()("div.",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS SOLICITUD:")])),r()("tbody",[r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6",width:"25%"}},"Fecha de Solicitud:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input.disabled",{value:jd.data.fecha,class:"form-control tx-semibold tx-15 tx-danger",type:"text",disabled:"disabled"}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Categoría:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.categoria}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Sub. Categoría:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.sub_categoria}))])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL EQUIPO:")])),r()("tbody",[r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Nombre:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.nombre}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Marca:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.marca}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Modelo:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.modelo}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Serie:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.serie}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"N° de Informe Técnico:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.inf_tec}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"N° de Activo Fijo:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.act_fijo}))]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","MOTIVO DE BAJA:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Motivo de Baja:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.motivo_baja})])]),r()("tr.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","ACCIÓN SUGERIDA:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Acción Sugerida:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.accion_sugerida})])]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","OBSERVACIÓN:")]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Destino Final:"),r()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:jd.data.destino_final}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Responsable:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("textarea[rows='3']",{class:"form-control tx-semibold tx-14",disabled:"disabled"},jd.data.usuario))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","ADJUNTOS:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos ",0!==Ud.files.length?[r()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",Ud.files.length)]:[])),r()("li.nav-item",{},r()("a.nav-link[id='home-auth1'][data-toggle='tab'][href='#auth1'][role='tab'][aria-controls='auth1']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," Observaciones ",0!==jd.data.comments.length?[r()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",jd.data.comments.length)]:[]))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(Ud)]),r()(".tab-pane.fade[id='auth1'][role='tabpanel'][aria-labelledby='home-auth1']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),r()("tr.d-print-none",[])])])])])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]])])]))]}},Bd=jd,Vd={id:null,data:[],activos:[],examenes:[],error:"",numeroInicioTR:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,oninit:function(){document.title="Nueva Tarjeta Roja - Inicio | "+d.title,Vd.fetch(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")})},fetch:function(){Vd.activos=[],Vd.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Vd.loader=!1,Vd.activos=e.data):Vd.error=e.message}).catch(function(e){Vd.fetch()})},sendDataTR:function(){Vd.loader=!0,console.log("dd => ",Vd.data),r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/nueva",body:{fecha:moment().format("DD-MM-YYYY"),accion_sugerida:Vd.data.accion_sugerida,categoria:Vd.data.categoria,marca:Vd.data.marca,modelo:Vd.data.modelo,motivo_baja:Vd.data.motivo_baja,nombre:Vd.data.nombre,serie:Vd.data.serie,sub_categoria:Vd.data.sub_categoria,usuario:Vd.data.usuario,destino_final:Vd.data.destino_final},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(alert("Proceso realizado con éxito"),alert("Tarjeta Roja N°: "+e.idTR),Vd.id=e.idTR,r().route.set("/contabilidad/proceso/tarjeta-roja/status/?tr="+Vd.id+"&track=view")):Vd.error=e.message}).catch(function(e){Vd.fetch()})},view:function(e){return[r()(Q),r()("div.content.content-components",{},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),r()("li.breadcrumb-item.active[aria-current='page']","Nueva Tarjeta Roja")]),r()("h1.df-title.mg-t-20.mg-b-10","Nueva Tarjeta Roja:"),r()("p.mg-t-20.mg-b-10","Inicio:"),r()("div",[r()("div.row.tx-14",[r()("div.col-sm-4",r()("div.bg-white.bd.pd-20.pd-lg-30.ht-sm-300.d-flex.flex-column.justify-content-end",[r()("div.mg-b-25",r()("i.fas.fa-search.tx-100.tx-success")),r()("h5.tx-inverse.mg-b-20","Consultar Status"),r()("p.mg-b-20","Nueva Tarjeta Roja Beta v1.0"),r()("a.tx-medium",{href:"/contabilidad/proceso/tarjeta-roja/consultar"},["Ir a Consultar Status",r()("i.icon.ion-md-arrow-forward.mg-l-5")])])),r()("div.col-sm-4",r()("div.bg-white.bd.pd-20.pd-lg-30.ht-sm-300.d-flex.flex-column.justify-content-end",[r()("div.mg-b-25",r()("i.fas.fa-file.tx-100.tx-primary")),r()("h5.tx-inverse.mg-b-20","Nueva Tarjeta"),r()("p.mg-b-20","Nueva Tarjeta Roja Beta v1.0"),r()("a.tx-medium",{href:"/contabilidad/proceso/tarjeta-roja/nueva"},["Ir a Nueva Tarjeta",r()("i.icon.ion-md-arrow-forward.mg-l-5")])])),r()("div.col-sm-4",r()("div.bg-white.bd.pd-20.pd-lg-30.ht-sm-300.d-flex.flex-column.justify-content-end",[r()("div.mg-b-25",r()("i.fas.fa-check.tx-100.tx-primary")),r()("h5.tx-inverse.mg-b-20","Autorizaciones"),r()("p.mg-b-20","Nueva Tarjeta Roja Beta v1.0"),r()("a.tx-medium",{href:"/contabilidad/proceso/tarjeta-roja/autorizaciones"},["Ir Autorizaciones",r()("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]),r()("h6.tx-light.mg-t-20.mg-b-10","MetroPlus Beta v1.0")]))]}},$d=Vd;var zd={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(zd.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?zd.start(e):zd.stop(e),e.isPaused=!e.isPaused}};function Jd(){var t={interval:null,seconds:100,isPaused:!1};return zd.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){zd.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){zd.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){zd.stop(t)}}}var qd={oncreate:function(){C.loadConsultarTr(),0!==C.searchField.length&&$("#table-ConsultarTr").DataTable().search(C.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Tarjeta Roja:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==C.idFiltro&&(e.dom.innerHTML="Autorizaciones de Hoy"),2==C.idFiltro&&(e.dom.innerHTML="Autorizaciones Pendientes"),3==C.idFiltro&&(e.dom.innerHTML="En Revisión Técnica"),4==C.idFiltro&&(e.dom.innerHTML="En Revisión CT"),5==C.idFiltro&&(e.dom.innerHTML="En Revisión GC")},onupdate:function(e){1==C.idFiltro&&(e.dom.innerHTML="Autorizaciones de Hoy"),2==C.idFiltro&&(e.dom.innerHTML="Autorizaciones Pendientes"),3==C.idFiltro&&(e.dom.innerHTML="En Revisión Técnica"),4==C.idFiltro&&(e.dom.innerHTML="En Revisión CT"),5==C.idFiltro&&(e.dom.innerHTML="En Revisión GC")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==C.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==C.idFiltro?moment(moment(C.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){C.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch(),r().route.set("/laboratorio/autorizaciones?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==C.idFiltro?moment(moment(C.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){C.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch(),r().route.set("/laboratorio/ConsultarTr?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=1"},["Autorizaciones de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=2&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Autorizaciones Pendientes"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=3&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["En Revisión Técnica"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=4&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["En Revisión CT"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=4&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["En Revisión GC"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==C.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){C.searchField=e.target.value},value:C.searchField}))]),r()("table.table.table-sm.tx-11[id='table-ConsultarTr'][width='100%']")])])])}},C={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){pd.page="",0==C.pedidos.length&&(C.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),C.fechaHasta=moment().format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-TR")},loadConsultarTr:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-ConsultarTr").DataTable({data:C.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"Motivo de Baja:"},{title:"Usuario:"},{title:"Status:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fecha},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.motivo_baja},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.usuario},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td",{class:"bg-danger"},[r()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1",o+1)]),r()("td",{style:{}},t.fecha),r()("td",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.motivo_baja)),r()("td",{style:{}},[t.usuario]),1==t.status?[r()("td.tx-white.tx-semibold.tx-center",{style:{"background-color":"#ffc107"}},"Pendiente")]:[r()("td.tx-white.tx-semibold.tx-center",{style:{"background-color":"#0d9448"}},"Gestionando")],r()("td.tx-center",{onclick:function(){r().route.set("/contabilidad/proceso/tarjeta-roja/status/",{tr:t.id.padStart(5,"0"),track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Detalle ")]}})},drawCallback:function(e){C.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==C.idFiltro?"?idFiltro="+C.idFiltro:"?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){C.loader=!1,C.pedidos=e.data}).catch(function(e){setTimeout(function(){C.fetch()},2e3)})},reloadData:function(){var e=$("#table-ConsultarTr").DataTable();e.clear(),e.rows.add(C.pedidos).draw()},view:function(e){return C.loader?[r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "]))]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==C.error.length?[r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja/inicio"},[" Tarjeta Roja "]))]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones;"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:C.loader||0===C.pedidos.length?C.loader||0!=C.pedidos.length?[r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja/inicio"},[" Tarjeta Roja "])),r()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja/inicio"},[" Tarjeta Roja "])),r()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),r()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad"},[" Contabilidad "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/contabilidad/proceso/tarjeta-roja/inicio"},[" Tarjeta Roja "])),r()("li.breadcrumb-item.active[aria-current='page']","Consultar Status:")]),r()("h1.df-title.mg-t-20.mg-b-10","Consultar Status:"),r()(qd)])),r()("div.section-nav",[r()("label.nav-label","Tarjeta Roja"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Autorizaciones")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",C.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Solicitud(es)")])])])),r()("div.pd-20",r()(Jd)))])]}},Xd=C,Gd=wl(1360),Zd={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess["terapia-fisica"].map(function(e,t,a){return[Gd(Gd.route.Link,{href:"/"+e.href,class:Kd.page==e.idModulo?"active":""},[e.label])]})]}},Kd={page:"",setPage:function(e){Kd.page=e},view:function(){return[Gd(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Gd("div.sidebar-header",[Gd("a[href=''][id='mainMenuOpen']",Gd("i[data-feather='menu']")),Gd("h5","Menu"),Gd("a[href=''][id='sidebarMenuClose']",Gd("i[data-feather='x']"))]),Gd("div.sidebar-body",Gd("ul.sidebar-nav",[Gd("li.nav-label.mg-b-15","Terapia Física"),Gd("li.nav-item.show",[Gd(Gd.route.Link,{href:"/terapia-fisica",class:"nav-link with-sub"},[Gd("i[data-feather='layout']")," Terapia Física "]),Gd("nav.nav",[Gd(Zd)])])]))])]}},Wd=Kd,Qd=wl(1360),es={view:function(){return[Qd("div.content.content-components",Qd("div.container",{style:{"max-width":"100%"}},[Qd("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Qd("li.breadcrumb-item",Qd(Qd.route.Link,{href:"/"},["MetroPlus"])),Qd("li.breadcrumb-item.active[aria-current='page']","Terapia Física")]),Qd("h1.df-title.mg-t-20.mg-b-10","Terapia Física:"),Qd("div.row.tx-14",[d.isShow("terapia-fisica",41)?[Qd("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Qd.route.set("/terapia-fisica/pedidos")}},[Qd("div",{class:"media"},[Qd("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Qd("i",{class:"fas fa-inbox tx-30 tx-white"})),Qd("div",{class:"media-body mg-l-15"},[Qd("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),Qd("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},ts={oninit:function(){o.page="",Wd.page="",d.isAuth()},oncreate:function(){document.title="Terapia Física | "+d.title},view:function(){return[Qd(o,{oncreate:o.setPage("terapia-fisica")}),Qd(Wd),Qd(es)]}},as=wl(1360),os={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.cardiologia.map(function(e,t,a){return[as(as.route.Link,{href:"/"+e.href,class:is.page==e.idModulo?"active":""},[e.label])]})]}},is={page:"",setPage:function(e){is.page=e},view:function(){return[as(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[as("div.sidebar-header",[as("a[href=''][id='mainMenuOpen']",as("i[data-feather='menu']")),as("h5","Menu"),as("a[href=''][id='sidebarMenuClose']",as("i[data-feather='x']"))]),as("div.sidebar-body",as("ul.sidebar-nav",[as("li.nav-label.mg-b-15","Cardiología"),as("li.nav-item.show",[as(as.route.Link,{href:"/cardiologia",class:"nav-link with-sub"},[as("i[data-feather='layout']")," Cardiología "]),as("nav.nav",[as(os)])])]))])]}},ns=is,rs=wl(1360),ds={view:function(){return[rs("div.content.content-components",rs("div.container",{style:{"max-width":"100%"}},[rs("ol.breadcrumb.df-breadcrumbs.mg-b-10",[rs("li.breadcrumb-item",rs(rs.route.Link,{href:"/"},["MetroPlus"])),rs("li.breadcrumb-item.active[aria-current='page']","Cardiología")]),rs("h1.df-title.mg-t-20.mg-b-10","Cardiología:"),rs("div.row.tx-14",[d.isShow("cardiologia",42)?[rs("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){rs.route.set("/cardiologia/pedidos")}},[rs("div",{class:"media"},[rs("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},rs("i",{class:"fas fa-inbox tx-30 tx-white"})),rs("div",{class:"media-body mg-l-15"},[rs("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),rs("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},ss={oninit:function(){o.page="",ns.page="",d.isAuth()},oncreate:function(){document.title="Cardiología | "+d.title},view:function(){return[rs(o,{oncreate:o.setPage("cardiologia")}),rs(ns),rs(ds)]}};var ls={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(ls.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?ls.start(e):ls.stop(e),e.isPaused=!e.isPaused}};function cs(){var t={interval:null,seconds:100,isPaused:!1};return ls.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){ls.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){ls.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ls.stop(t)}}}var us={oncreate:function(){I.loadPedidos(),0!==I.searchField.length&&$("#table-pedidos").DataTable().search(I.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Pedidos de Terapia Física:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==I.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==I.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==I.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==I.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==I.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==I.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==I.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==I.idFiltro?moment(moment(I.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){I.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),r().route.set("/terapia-fisica/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==I.idFiltro?moment(moment(I.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){I.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),r().route.set("/terapia-fisica/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/terapia-fisica/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/terapia-fisica/pedidos/?idFiltro=2&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos entre Fechas"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-fisica/pedidos/?idFiltro=3&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-fisica/pedidos/?idFiltro=4&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de C. Externa"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-fisica/pedidos/?idFiltro=5&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Hospitalización"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==I.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){I.searchField=e.target.value},value:I.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},I={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Wd.page="",0==I.pedidos.length&&(I.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),I.fechaHasta=moment().format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Terapia-Fisica")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:I.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[1,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Prescripción N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!0},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.wd-5p",{class:"EMERGENCIA"==t.SECTOR?"bg-danger":"bg-primary",title:"EMERGENCIA"==t.SECTOR?"Emergencia":"Hospitalización"},["EMERGENCIA"==t.SECTOR?r()("span.badge.badge-pill.badge-danger.mg-b-1","U"):r()("span.badge.badge-pill.badge-primary.mg-b-1","H")]),r()("td.wd-15p",{style:{}},r()(".d-inline.mg-r-5",{},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO)),r()("td.tx-center",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.CD_PRE_MED)),r()("td",{style:{}},[r()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.SECTOR?"tx-danger":"tx-primary"},t.SECTOR),r()("br"),t.NM_PACIENTE]),r()("td",{style:{}},t.MED_MV),r()("td.tx-center",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},r()(r().route.Link,{href:"/terapia-fisica/pedido/",class:"tx-dark",target:"_blank",params:{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"}},[" Ver Pedido "]))]}})},drawCallback:function(e){I.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==I.idFiltro?"?idFiltro="+I.idFiltro:"?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/terapia-fisica/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){I.loader=!1,I.pedidos=e.data}).catch(function(e){setTimeout(function(){I.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(I.pedidos).draw()},view:function(e){return I.loader?[r()(Wd,{oncreate:Wd.setPage(41)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==I.error.length?[r()(Wd,{oncreate:Wd.setPage(41)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("p","No existe infrmac dd ncin")])]))]:I.loader||0===I.pedidos.length?I.loader||0!=I.pedidos.length?[r()(Wd,{oncreate:Wd.setPage(41)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(Wd,{oncreate:Wd.setPage(41)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(Wd,{oncreate:Wd.setPage(41)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()(us)])),r()("div.section-nav",[r()("label.nav-label","RECEPCIÓN DE PEDIDOS"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","N° de Pedidos:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",I.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(cs)))])]}},ms=I;var ps={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(ps.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?ps.start(e):ps.stop(e),e.isPaused=!e.isPaused}};function bs(){var t={interval:null,seconds:100,isPaused:!1};return ps.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){ps.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){ps.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ps.stop(t)}}}var fs={oncreate:function(){O.loadPedidos(),0!==O.searchField.length&&$("#table-pedidos").DataTable().search(O.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Pedidos de Cardiología:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==O.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==O.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==O.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==O.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==O.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==O.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==O.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==O.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==O.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==O.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==O.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==O.idFiltro?moment(moment(O.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){O.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),O.loader=!0,O.pedidos=[],O.fetchPedidos(),r().route.set("/terapia-respiratoria/pedidos?idFiltro="+O.idFiltro+"&fechaDesde="+O.fechaDesde+"&fechaHasta="+O.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==O.idFiltro?moment(moment(O.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){O.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),O.loader=!0,O.pedidos=[],O.fetchPedidos(),r().route.set("/terapia-respiratoria/pedidos?idFiltro="+O.idFiltro+"&fechaDesde="+O.fechaDesde+"&fechaHasta="+O.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+O.fechaDesde+"&fechaHasta="+O.fechaHasta},["Pedidos entre Fechas"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+O.fechaDesde+"&fechaHasta="+O.fechaHasta},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+O.fechaDesde+"&fechaHasta="+O.fechaHasta},["Pedidos de C. Externa"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+O.fechaDesde+"&fechaHasta="+O.fechaHasta},["Pedidos de Hospitalización"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==O.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){O.searchField=e.target.value},value:O.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},O={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){ns.page="",0==O.pedidos.length&&(O.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),O.fechaHasta=moment().format("DD-MM-YYYY"),O.loader=!0,O.pedidos=[],O.fetchPedidos())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Terapia-Fisica")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:O.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[1,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Prescripción N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!0},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.wd-5p",{class:"EMERGENCIA"==t.SECTOR?"bg-danger":"bg-primary",title:"EMERGENCIA"==t.SECTOR?"Emergencia":"Hospitalización"},["EMERGENCIA"==t.SECTOR?r()("span.badge.badge-pill.badge-danger.mg-b-1","U"):r()("span.badge.badge-pill.badge-primary.mg-b-1","H")]),r()("td.wd-15p",{style:{}},r()(".d-inline.mg-r-5",{},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO)),r()("td.tx-center",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.CD_PRE_MED)),r()("td",{style:{}},[r()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.SECTOR?"tx-danger":"tx-primary"},t.SECTOR),r()("br"),t.NM_PACIENTE]),r()("td",{style:{}},t.MED_MV),r()("td.tx-center",{onclick:function(){r().route.set("/cardiologia/pedido/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]}})},drawCallback:function(e){O.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==O.idFiltro?"?idFiltro="+O.idFiltro:"?idFiltro="+O.idFiltro+"&fechaDesde="+O.fechaDesde+"&fechaHasta="+O.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/cardiologia/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){O.loader=!1,O.pedidos=e.data}).catch(function(e){setTimeout(function(){O.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(O.pedidos).draw()},view:function(e){return O.loader?[r()(ns,{oncreate:ns.setPage(42)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/cardiologia"},[" Cardiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==O.error.length?[r()(ns,{oncreate:ns.setPage(42)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/cardiologia"},[" Cardiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("p","No existe infrmac dd ncin")])]))]:O.loader||0===O.pedidos.length?O.loader||0!=O.pedidos.length?[r()(ns,{oncreate:ns.setPage(42)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/cardiologia"},[" Cardiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(ns,{oncreate:ns.setPage(42)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/cardiologia"},[" Cardiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(ns,{oncreate:ns.setPage(42)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/cardiologia"},[" Cardiología "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()(fs)])),r()("div.section-nav",[r()("label.nav-label","RECEPCIÓN DE PEDIDOS"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","N° de Pedidos:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",O.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(bs)))])]}},hs=O,gs=wl(1360),vs={view:function(){return[gs("div.content.content-components",gs("div.container",{style:{"max-width":"100%"}},[gs("ol.breadcrumb.df-breadcrumbs.mg-b-10",[gs("li.breadcrumb-item",gs(gs.route.Link,{href:"/"},["MetroPlus"])),gs("li.breadcrumb-item.active[aria-current='page']","Banco de Sangre")]),gs("h1.df-title.mg-t-20.mg-b-10","Banco de Sangre:"),gs("div.row.tx-14",[d.isShow("bco-sangre",19)?[gs("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){gs.route.set("/bco-sangre/pedidos")}},[gs("div",{class:"media"},[gs("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},gs("i",{class:"fas fa-inbox tx-30 tx-white"})),gs("div",{class:"media-body mg-l-15"},[gs("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),gs("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[],d.isShow("laboratorio",21)?[gs("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){gs.route.set("/bco-sangre/lisa/pedidos/ingresados")}},[gs("div",{class:"media"},[gs("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},gs("i",{class:"fas fa-sitemap tx-30 tx-white"})),gs("div",{class:"media-body mg-l-15"},[gs("p",{class:"tx-18 mg-b-0"},"LISA"),gs("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a LISA v1.0")])])])]:[]])]))]}},xs={oninit:function(){o.page="",bt.page="",d.isAuth()},oncreate:function(){document.title="Banco de Sangre | "+d.title},view:function(){return[gs(o,{oncreate:o.setPage("bco-sangre")}),gs(bt),gs(vs)]}};var ys={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(ys.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?ys.start(e):ys.stop(e),e.isPaused=!e.isPaused}};function ws(){var t={interval:null,seconds:100,isPaused:!1};return ys.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){ys.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){ys.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ys.stop(t)}}}var _s={oncreate:function(){R.loadPedidos(),0!==R.searchField.length&&$("#table-pedidos").DataTable().search(R.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Pedidos de Banco de Sangre:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==R.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==R.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==R.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==R.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==R.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==R.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==R.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==R.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==R.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==R.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==R.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==R.idFiltro?moment(moment(R.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){R.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),R.loader=!0,R.pedidos=[],R.fetchPedidos(),r().route.set("/terapia-respiratoria/pedidos?idFiltro="+R.idFiltro+"&fechaDesde="+R.fechaDesde+"&fechaHasta="+R.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==R.idFiltro?moment(moment(R.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){R.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),R.loader=!0,R.pedidos=[],R.fetchPedidos(),r().route.set("/terapia-respiratoria/pedidos?idFiltro="+R.idFiltro+"&fechaDesde="+R.fechaDesde+"&fechaHasta="+R.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/bco-sangre/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/bco-sangre/pedidos/?idFiltro=2&fechaDesde="+R.fechaDesde+"&fechaHasta="+R.fechaHasta},["Pedidos entre Fechas"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+R.fechaDesde+"&fechaHasta="+R.fechaHasta},["Pedidos de Emergencia"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+R.fechaDesde+"&fechaHasta="+R.fechaHasta},["Pedidos de C. Externa"]),r()(r().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+R.fechaDesde+"&fechaHasta="+R.fechaHasta},["Pedidos de Hospitalización"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==R.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){R.searchField=e.target.value},value:R.searchField}))]),r()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},R={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){bt.page="",0==R.pedidos.length&&(R.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),R.fechaHasta=moment().format("DD-MM-YYYY"),R.loader=!0,R.pedidos=[],R.fetchPedidos())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-Bco-Sangre")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:R.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[1,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Atención N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!0},{mRender:function(e,t,a){return""},visible:!1,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.wd-5p",{class:"EMERGENCIA"==t.SECTOR?"bg-danger":"bg-primary",title:"EMERGENCIA"==t.SECTOR?"Emergencia":"Hospitalización"},["EMERGENCIA"==t.SECTOR?r()("span.badge.badge-pill.badge-danger.mg-b-1","U"):r()("span.badge.badge-pill.badge-primary.mg-b-1","H")]),r()("td.wd-15p",{style:{}},r()(".d-inline.mg-r-5",{},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO)),r()("td.tx-center",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1","N°: "+t.AT_MV)),r()("td.tx-14",{style:{}},[r()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.SECTOR?"tx-danger":"tx-primary"},t.SECTOR),r()("br"),"Prescripción N°:"+t.CD_PRE_MED,r()("br"),"NHC: "+t.CD_PACIENTE,r()("br"),"PTE: "+t.NM_PACIENTE,r()("br"),r()("br"),"EXAMEN:",r()("br"),t.EXAMEN,r()("br"),null==t.OBS_EXAMEN?[]:[r()(".d-inline.mg-r-5",{class:"tx-danger"},"Observacion: ",r()("br"),t.OBS_EXAMEN)]]),r()("td.tx-14",t.MED_MV),r()("td.tx-center.tx-semibold.tx-14",{onclick:function(){r().route.set("/bco-sangre/pedido/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver 005 ")]}})},drawCallback:function(e){R.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==R.idFiltro?"?idFiltro="+R.idFiltro:"?idFiltro="+R.idFiltro+"&fechaDesde="+R.fechaDesde+"&fechaHasta="+R.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/bco-sangre/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){R.loader=!1,R.pedidos=e.data}).catch(function(e){setTimeout(function(){R.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(R.pedidos).draw()},view:function(e){return R.loader?[r()(bt,{oncreate:bt.setPage(19)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==R.error.length?[r()(bt,{oncreate:bt.setPage(19)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("p","No existe infrmac dd ncin")])]))]:R.loader||0===R.pedidos.length?R.loader||0!=R.pedidos.length?[r()(bt,{oncreate:bt.setPage(19)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(bt,{oncreate:bt.setPage(19)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(bt,{oncreate:bt.setPage(19)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),r()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),r()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),r()(_s)])),r()("div.section-nav",[r()("label.nav-label","RECEPCIÓN DE PEDIDOS"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","N° de Pedidos:")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",R.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),r()("div.pd-20",r()(ws)))])]}},Es=R,As={view:function(e){e=e.attrs.onClick;return r()("button",{class:"btn btn-primary",type:"button",onclick:e},"Check")}},Ds={view:function(e){var e=e.attrs,t=e.data,a=e.handleCheck;return r()("table",{class:"table"},[r()("thead",r()("tr",[r()("th",{scope:"col"},"Prescripción"),r()("th",{scope:"col"},"Hora Solicitada"),r()("th",{scope:"col"},"Hora Chequeo"),r()("th",{scope:"col"},"Usuario de Chequeo"),r()("th",{scope:"col"},"Tipo de Administración"),r()("th",{scope:"col"},"Justificación"),r()("th",{scope:"col"},"Observación")])),r()("tbody",t.map(function(e){return r()("tr",[r()("td",e.dsTipPresc),r()("td",new Date(e.dhMedicacao).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})),r()("td",e.dhChecagem?new Date(e.dhChecagem).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):r()(As,{onClick:function(){return a(e)}})),r()("td",e.nmUsuario),r()("td","S"===e.snSuspenso?"No Administrado":"N"===e.snSuspenso?"Administrado":e.snSuspenso),r()("td",e.justificacion),r()("td",e.observacion)])}))])}},Ts={view:function(e){var e=e.attrs,t=e.item,a=e.onConfirm,o=e.onCancel,e=e.onNoAdministration;return r()("div",{class:"modal show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},role:"dialog"},r()("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r()("div",{class:"modal-content"},[r()("div",{class:"modal-header"},[r()("h5",{class:"modal-title"},"Confirmación"),r()("button",{class:"close",type:"button",onclick:o},r()("span",{"aria-hidden":"true"},r().trust("&times;")))]),r()("div",{class:"modal-body"},["¿Está seguro de que desea confirmar la prescripción ",r()("strong",t.dsTipPresc)," del ",r()("strong",new Date(t.dhMedicacao).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})),"?"]),r()("div",{class:"modal-footer"},[r()("button",{class:"btn btn-secondary",type:"button",onclick:o},"Cancelar"),r()("button",{class:"btn btn-primary",type:"button",onclick:a},"Confirmar"),r()("button",{class:"btn btn-primary",type:"button",onclick:e},"No Administrar")])])))}},Ms={baseUrl:"https://metroplusapp.hospitalmetropolitano.org/api",getPhysicalTherapySessions:function(e){return r().request({method:"GET",url:"".concat(this.baseUrl,"/PhysicalTherapySession/").concat(e)})},postHritpreConsInsertRequest:function(e){return r().request({method:"POST",url:"".concat(this.baseUrl,"/HritpreConsInsertRequest"),body:e,headers:{"Content-Type":"application/json"}})},getJustificationForNoAdministered:function(){return r().request({method:"GET",url:"".concat(this.baseUrl,"/JustificationForNoAdministered")})}},Ps=wl(1360);function ks(e){return function(e){if(Array.isArray(e))return Ss(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ss(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ss(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var Cs={showConfirmModal:!1,showError:!1,view:function(e){var e=e.attrs,t=e.justification,a=e.observation,o=e.justifications,i=e.justificationLoading,n=e.onConfirm,r=e.onCancel,d=e.onJustificationChange,s=e.onObservationChange;return[Ps("div",{class:"modal show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},role:"dialog"},Ps("div",{class:"modal-dialog modal-dialog-centered",role:"document"},Ps("div",{class:"modal-content"},[Ps("div",{class:"modal-header"},[Ps("h5",{class:"modal-title"},"No Administrar"),Ps("button",{class:"close",type:"button",onclick:r},Ps("span",{"aria-hidden":"true"},Ps.trust("&times;")))]),Ps("div",{class:"modal-body"},[i?Ps("div.pd-10.wd-100p",Ps("div.placeholder-paragraph",[Ps("div.line"),Ps("div.line")])):0===o.length?Ps("div",{class:"alert alert-danger",role:"alert"},"Ocurrió un error, intenta de nuevo"):[Ps("div.form-group",[Ps("label","Justificación (requerida)"),Ps("select.form-control",{onchange:function(e){return d(e.target.value)},value:t},[Ps("option",{value:""},"Seleccione una justificación")].concat(ks(o.map(function(e){return Ps("option",{value:e.idChecagem},e.description)})))),Cs.showError&&!t&&Ps("div.text-danger","La justificación es requerida.")]),Ps("div.form-group",[Ps("label","Observación (opcional, máximo 100 caracteres)"),Ps("input.form-control",{type:"text",maxlength:100,value:a,oninput:function(e){e.target.value.length<=100&&s(e.target.value)}}),Cs.showError&&100<a.length&&Ps("div.text-danger","La observación no puede exceder ".concat(100," caracteres."))])]]),0<o.length&&Ps("div",{class:"modal-footer"},[Ps("button",{class:"btn btn-secondary",type:"button",onclick:r},"Cancelar"),Ps("button",{class:"btn btn-primary",type:"button",onclick:function(){t&&a.length<=100?(Cs.showError=!1,Cs.showConfirmModal=!0):Cs.showError=!0}},"Confirmar")])]))),Cs.showConfirmModal&&Ps("div",{class:"modal show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},role:"dialog"},Ps("div",{class:"modal-dialog modal-dialog-centered",role:"document"},Ps("div",{class:"modal-content"},[Ps("div",{class:"modal-header"},[Ps("h5",{class:"modal-title"},"Confirmación"),Ps("button",{class:"close",type:"button",onclick:function(){Cs.showConfirmModal=!1}},Ps("span",{"aria-hidden":"true"},Ps.trust("&times;")))]),Ps("div",{class:"modal-body"},[Ps("p","¿Está seguro de que desea registrar esta acción como 'No Administrado'?")]),Ps("div",{class:"modal-footer"},[Ps("button",{class:"btn btn-secondary",type:"button",onclick:function(){Cs.showConfirmModal=!1}},"Cancelar"),Ps("button",{class:"btn btn-primary",type:"button",onclick:function(){n(),Cs.showConfirmModal=!1}},"Confirmar")])])))]}},Is=Cs,t={data:[],loading:!0,error:!1,usuarioConectado:"",selectedItem:null,showModal:!1,showNoAdminModal:!1,justification:"",observation:"",showError:!1,justifications:[],justificationLoading:!0,oninit:function(){t.usuarioConectado=B.getDataUser(),t.loadData(Us.numeroPedido)},loadData:function(e){t.loading=!0,t.error=!1,Ms.getPhysicalTherapySessions(e).then(function(e){e.status?t.data=e.data:t.error=!0}).catch(function(){t.error=!0}).finally(function(){t.loading=!1,r().redraw()})},handleCheck:function(e){t.selectedItem=e,t.showModal=!0},confirmCheck:function(){t.loading=!0,t.error=!1,t.showModal=!1;var e={cdItpreMed:t.selectedItem.cdItpreMed,dhMedicacao:t.selectedItem.dhMedicacao,nmUsuario:t.usuarioConectado.user.user.toUpperCase(),snSuspenso:"N",dsJustificativa:null,cdJustificativaCheacagem:null};Ms.postHritpreConsInsertRequest(e).then(function(){t.loadData(Us.numeroPedido),t.observation="",t.justification=""}).catch(function(){t.error=!0,t.loading=!1}).finally(function(){return r().redraw()})},handleNoAdministration:function(){t.showModal=!1,t.showNoAdminModal=!0,t.justificationLoading=!0,Ms.getJustificationForNoAdministered().then(function(e){e.status?t.justifications=e.data:t.error=!0}).catch(function(){t.error=!0}).finally(function(){t.justificationLoading=!1,r().redraw()})},confirmNoAdministration:function(){var e;t.justification?(t.loading=!0,t.showNoAdminModal=!1,e={cdItpreMed:t.selectedItem.cdItpreMed,dhMedicacao:t.selectedItem.dhMedicacao,nmUsuario:t.usuarioConectado.user.user.toUpperCase(),snSuspenso:"S",dsJustificativa:t.observation,cdJustificativaCheacagem:parseInt(t.justification)},Ms.postHritpreConsInsertRequest(e).then(function(){t.loadData(Us.numeroPedido),t.observation="",t.justification=""}).catch(function(){t.error=!0}).finally(function(){t.loading=!1,r().redraw()})):t.showError=!0},closeModal:function(){t.showModal=!1,t.showNoAdminModal=!1,t.observation="",t.justification=""},view:function(){return[t.error&&r()("div",{class:"alert alert-danger",role:"alert"},"Ocurrió un error, intenta de nuevo"),t.loading?r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])):r()(Ds,{data:t.data,handleCheck:t.handleCheck}),t.showModal&&r()(Ts,{item:t.selectedItem,onConfirm:t.confirmCheck,onCancel:t.closeModal,onNoAdministration:t.handleNoAdministration}),t.showNoAdminModal&&r()(Is,{justification:t.justification,observation:t.observation,showError:t.showError,justifications:t.justifications,justificationLoading:t.justificationLoading,onConfirm:t.confirmNoAdministration,onCancel:t.closeModal,onJustificationChange:function(e){return t.justification=e},onObservationChange:function(e){return t.observation=e}})]}},Os=t,Rs={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==Ns.num&&setTimeout(function(){Ns.num=Ns.data.length,Ns.parseFetch(),r().redraw.sync()},2e3),0==Rs.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Ns.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[Rs.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Ns.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:Ns.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",Rs.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",Rs.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Rs.sexo)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Rs.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Rs.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",Rs.edad||Rs.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Rs.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Rs.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",Rs.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",Rs.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",Rs.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row'][width='50%']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row'][width='50%']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Ns={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Rs.secs.push(o.data[e])}),Rs.secs.map(function(e,t,a){"nombres"==e.name&&(Rs.nombres=e.answer),"apellidos_paciente"==e.name&&(Rs.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Rs.sexo=e.answer),"nhcl"==e.name&&(Rs.nhcl=e.answer),"numero_admision"==e.name&&(Rs.numero_admision=e.answer),"edad"==e.name&&(Rs.edad=e.answer),"edad_paciente"==e.name&&(Rs.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Rs.identificacion=e.answer),"fecha_admision"==e.name&&(Rs.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Rs.ubicacion=e.answer),"fecha_alta"==e.name&&(Rs.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Rs.medico_tratante=e.answer)})},parseFetch:function(){return Rs.secs=[],Ns.data.map(function(e,t,a){Ns.parseDoc(Ns.data[t])})},fetch:function(){Ns.data=[],Ns.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Ns.nhc+"&adm="+Ns.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Ns.data=e,Ns.num=0):Ns.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Ns.fetch()},5e3)})},view:function(){return Ns.error?[r()(".alert.alert-danger[role='alert']",Ns.error)]:0!==Ns.data.length?[r()(Rs)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},Fs={data:[],detalle:[],error:"",showFor:"",fetch:function(){Fs.data=[],Fs.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Hs.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Fs.data=e.data,Ns.adm=Fs.data[0].ADM,Ns.nhc=Fs.data[0].NHCL,Ns.fetch()):Fs.error=e.message}).catch(function(e){setTimeout(function(){Fs.fetch()},5e3)})},view:function(){return Fs.error?[r()(".alert.alert-danger[role='alert']",Fs.error)]:0!==Fs.data.length?[r()(Ns)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},Ls={view:function(){if(0!==Hs.examenes.length)return Hs.examenes.map(function(e,t,a){return[r()(".tx-14.tx-semibold.d-inline",e.EXAMEN),r()("br"),null!==e.OBS_EXAMEN?r()(".d-inline.tx-danger","Observaciones:"):"",null!==e.OBS_EXAMEN?r()("br"):"",null!==e.OBS_EXAMEN?r()(".d-inline",e.OBS_EXAMEN):"",r()("br")]})}},Hs={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){d.isAuth(),void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==Hs.data&&0==Hs.data.length||Hs.numeroPedido!==e.attrs.numeroPedido)&&(Hs.numeroPedido=e.attrs.numeroPedido,Hs.numeroAtencion=e.attrs.numeroAtencion,Hs.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,Hs.fetch()))},fetch:function(){Hs.data=[],Hs.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-tf",body:{numeroPedido:Hs.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Hs.loader=!1,Hs.data=e.data,Hs.examenes=e.examenes,Fs.fetch()):Hs.error=e.message}).catch(function(e){})},view:function(e){return[r()(o,{oncreate:o.setPage("imagen")}),r()(Wd,{oncreate:Wd.setPage(24)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/terapia-fisica"},["Terapia Física"])),r()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),r()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Hs.numeroPedido),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",{oncreate:function(e){Hs.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){Hs.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])]),r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){Hs.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){Hs.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-20",r()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){window.close()}}))),"N"==Hs.data.TIPO_PEDIDO?[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")]:[r()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[r()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")],r()("div.table-responsive",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° de PedidoTF:"),r()("td",{style:{"background-color":"#eaeff5"}},Hs.data.CD_PRE_MED),r()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Hs.data.FECHA_PEDIDO+" "+Hs.data.HORA_PEDIDO),r()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Hs.data.SECTOR)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Hs.data.MED_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),r()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Hs.data.ESPECIALIDAD)])]),r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Hs.data.NM_PACIENTE),r()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),r()("td",{style:{"background-color":"#eaeff5"}},Hs.data.EDAD),r()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),r()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Hs.data.CD_PACIENTE)]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),r()("td",{style:{"background-color":"#eaeff5"}},Hs.data.AT_MV),r()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),r()("td",{style:{"background-color":"#eaeff5"}},Hs.data.PESO),r()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),r()("td",{style:{"background-color":"#eaeff5"}},Hs.data.ALTURA),r()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),r()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Hs.data.SECTOR+" "+Hs.data.UBICACION)]),r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),r()("tr",[r()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),r()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},r()(Ls))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),r()("tr.d-print-none",[r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),r()("li.nav-item",r()("a.nav-link[id='home-terapia-fisica'][data-toggle='tab'][href='#terapiaFisica'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," Registro Terapia Física"))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(Fs)]),r()(".tab-pane.fade[id='terapiaFisica'][role='tabpanel'][aria-labelledby='recepcionmuestra-tab']",[r()("div#gestion-muestras"),r()(Os)])]))]),r()("tr.d-print-none",[])])])])])])])])]))]}},Us=Hs;var Ys={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(Ys.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Ys.start(e):Ys.stop(e),e.isPaused=!e.isPaused}};function js(){var t={interval:null,seconds:100,isPaused:!1};return Ys.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Ys.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Ys.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Ys.stop(t)}}}var Bs={oncreate:function(){N.loadNotificacionesPorEnviarLab(),0!==N.searchField.length&&$("#table-notificaciones").DataTable().search(N.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Notificaciones: ",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==N.idFiltro&&(e.dom.innerHTML="Por enviar Hoy"),2==N.idFiltro&&(e.dom.innerHTML="Por enviar entre Fechas"),3==N.idFiltro&&(e.dom.innerHTML="Por enviar PCR")},onupdate:function(e){1==N.idFiltro&&(e.dom.innerHTML="Por enviar Hoy"),2==N.idFiltro&&(e.dom.innerHTML="Por enviar entre Fechas"),3==N.idFiltro&&(e.dom.innerHTML="Por enviar PCR")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==N.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==N.idFiltro?moment(moment(N.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){N.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.NotificacionesPorEnviarLab=[],N.fetchNotificacionesPorEnviarLab(),r().route.set("/laboratorio/notificaciones/porenviar?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==N.idFiltro?moment(moment(N.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){N.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.NotificacionesPorEnviarLab=[],N.fetchNotificacionesPorEnviarLab(),r().route.set("/laboratorio/notificaciones/porenviar?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5"),r()("div.link-03",{title:"Filtros"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Filtros"))),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/porenviar/?idFiltro=1"},["Notificaciones por Enviar de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/porenviar/?idFiltro=2&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Notificaciones por Enviar entre Fechas"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/porenviar/?idFiltro=3&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Notificaciones por Enviar PCR"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==N.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){N.searchField=e.target.value},value:N.searchField}))]),r()("table.table.table-sm.tx-11[id='table-notificaciones'][width='100%']")])])])}},N={notificaciones:[],NotificacionesPorEnviarLab:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",totalEnviadas:0,totalPCR:0,oninit:function(e){i.page=""},oncreate:function(e){Ge.suscribirCanal("MetroPlus-NotificacionesPorEnviarLab")},loadNotificacionesPorEnviarLab:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({data:N.NotificacionesPorEnviarLab,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[1,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Pedido N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fechaExamen+" "+a.horaExamen},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.sc},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.numeroHistoriaClinica},visible:!0,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return a.apellidosPaciente+" "+a.nombresPaciente},visible:!0,aTargets:[4],orderable:!0},{mRender:function(e,t,a){return a.medico},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td.tx-13",{class:1==t._PCR?"bg-danger":"bg-primary",style:{width:"1%"},title:t.origen},[r()("span.tx-12.badge.badge-pill",{class:1==t._PCR?"badge-danger":"badge-primary"},1==t._PCR?"U":"R")]),r()("td.wd-20p.tx-13",r()(".d-inline.mg-r-5","Fecha Examen:"),r()("br"),r()(".d-inline.mg-r-5",t.fechaExamen+" "+t.horaExamen),r()("br"),r()(".d-inline.mg-r-5","Fecha Envío:"),r()("br"),r()(".d-inline.mg-r-5",t.fechaEnvio||"N/D")),r()("td.wd-5p.tx-center.tx-13",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.sc.slice(2))),r()("td.wd-20p.tx-13",{style:{}},[r()(".d-inline.mg-r-5.tx-uppercase",t.origen),r()("br"),t.apellidosPaciente+" "+t.nombresPaciente]),r()("td.wd-20p.tx-13",t.medico),r()("td.tx-center.tx-15.wd-15p",r()(".btn-group.btn-group-sm[role='group']",[r()("button.btn.btn-secondary.tx-12",{onclick:function(){$("#modalViewLogs").modal("show");var e={numeroHistoriaClinica:t.numeroHistoriaClinica,apellidosPaciente:t.apellidosPaciente,nombresPaciente:t.nombresPaciente,sc:t.sc,fechaExamen:t.fechaExamen,horaExamen:t.horaExamen,origen:t.origen,servicio:t.servicio,medico:t.medico,motivo:t.motivo,ultimaValidacion:t.ultimaValidacion,ultimoFiltrado:t.ultimoFiltrado,reglasFiltrosEnvio:t.reglasFiltrosEnvio,correosElectronicos:t.correosElectronicos,logsEnvio:t.logsEnvio};document.getElementById("logRes").innerHTML=at(e)}},[" Ver Logs "]),r()("button.btn.btn-secondary.tx-12",{onclick:function(){$("#modalViewQR").modal("show");var e=document.querySelector("canvas.qr");Ze.toCanvas(e,t.urlResultado)}},[" Ver QR "]),r()(r().route.Link,{href:t.urlResultado,class:"button btn btn-secondary tx-12",target:"_blank"},[" Link Resultado "])]))]}})},drawCallback:function(e){N.totalPCR=0,e.aoData.map(function(e,t){1==e._aData._PCR&&N.totalPCR++}),N.totalEnviadas=e.aoData.length-N.totalPCR,r().redraw()}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchNotificacionesPorEnviarLab:function(){var e;void 0!==N.idFiltro&&(N.reloadData(),e="",e=1==N.idFiltro?"&idFiltro="+N.idFiltro:"&idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta,r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=porenviar"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){N.loader=!1,0==e.data.length?N.error="No existe resultados.":(N.error="",N.NotificacionesPorEnviarLab=e.data)}).catch(function(e){N.error=e}))},reloadData:function(){var e=$("#table-notificaciones").DataTable();e.clear(),e.rows.add(N.NotificacionesPorEnviarLab).draw()},view:function(e){return N.loader||0===N.error.length?N.loader||0===N.NotificacionesPorEnviarLab.length?[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones por Enviar")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones por Enviar"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones por Enviar")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones por Enviar"),r()("table",{class:"table table-borderless table-sm tx-13 tx-nowrap mg-b-0"},[r()("thead",r()("tr",{class:"tx-10 tx-spacing-1 tx-color-03 tx-uppercase"},[r()("th","Enviadas"),r()("th",{class:"text-right"},"Total"),r()("th",{class:"text-right"},"ACTUALIZACIÓN EN")])),r()("tbody",[r()("tr",[r()("td",{class:"tx-medium"},"CONSULTA EXTERNA"),r()("td",{class:"text-right"},N.totalEnviadas),r()("td[rowspan='2']",{class:"text-right"},r()(js))]),r()("tr",[r()("td",{class:"tx-medium"},"PCR"),r()("td",{class:"text-right"},N.totalPCR)])])]),r()(Bs)])),r()(".modal.calendar-modal-event[id='modalViewQR'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-sm[role='document']",r()("div.modal-content",[r()("div.modal-header.bg-primary",[r()("h6.event-title","QR Resultado:"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("div.col-sm-12",[r()("label.tx-11.tx-medium.tx-spacing-1.tx-color-03","*Escanee con su teléfono para continuar."),r()("p.event-start-date.tx-center",[r()("canvas.qr.wd-100p")])])])])]))),r()(".modal.calendar-modal-event[id='modalViewLogs'][role='dialog'][aria-hidden='true']",r()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",r()("div.modal-content",[r()("div.modal-header.bg-primary",[r()("h6.event-title","Logs Resultado:"),r()("nav.nav.nav-modal-event",[r()("a.nav-link[href='#'][data-dismiss='modal']",r()("i[data-feather='x']"))])]),r()("div.modal-body",[r()("div.row.row-sm",[r()("pre.json-container[id='logRes']")])])])))]:[r()(o,{oncreate:o.setPage("laboratorio")}),r()(i,{oncreate:i.setPage(15)}),r()("div.content.content-components",{style:{"margin-right":"0px"}},r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},[" Laboratorio "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),r()("li.breadcrumb-item.active[aria-current='page']","Notificaciones por Enviar")]),r()("h1.df-title.mg-t-20.mg-b-10","Notificaciones por Enviar"),r()("table",{class:"table table-borderless table-sm tx-13 tx-nowrap mg-b-0"},[r()("thead",r()("tr",{class:"tx-10 tx-spacing-1 tx-color-03 tx-uppercase"},[r()("th","Enviadas"),r()("th",{class:"text-right"},"Total"),r()("th",{class:"text-right"},"ACTUALIZACIÓN EN")])),r()("tbody",[r()("tr",[r()("td",{class:"tx-medium"},"CONSULTA EXTERNA"),r()("td",{class:"text-right"},N.totalEnviadas),r()("td[rowspan='2']",{class:"text-right"},r()(js))]),r()("tr",[r()("td",{class:"tx-medium"},"PCR"),r()("td",{class:"text-right"},N.totalPCR)])])]),r()("div.d-flex.align-items-center.justify-content-between.mg-b-20.mg-t-10",[r()("h5.mg-b-0","Notificaciones: ",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==N.idFiltro&&(e.dom.innerHTML="Por enviar Hoy"),2==N.idFiltro&&(e.dom.innerHTML="Por enviar entre Fechas"),3==N.idFiltro&&(e.dom.innerHTML="Por enviar PCR")},onupdate:function(e){1==N.idFiltro&&(e.dom.innerHTML="Por enviar Hoy"),2==N.idFiltro&&(e.dom.innerHTML="Por enviar entre Fechas"),3==N.idFiltro&&(e.dom.innerHTML="Por enviar PCR")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==N.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==N.idFiltro?moment(moment(N.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){N.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.NotificacionesPorEnviarLab=[],N.fetchNotificacionesPorEnviarLab(),r().route.set("/laboratorio/notificaciones/porenviar?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==N.idFiltro?moment(moment(N.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){N.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.NotificacionesPorEnviarLab=[],N.fetchNotificacionesPorEnviarLab(),r().route.set("/laboratorio/notificaciones/porenviar?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5"),r()("div.link-03",{title:"Filtros"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Filtros"))),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/porenviar/?idFiltro=1"},["Notificaciones por Enviar de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/porenviar/?idFiltro=2&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Notificaciones por Enviar entre Fechas"]),r()(r().route.Link,{class:"dropdown-item",href:"/laboratorio/notificaciones/porenviar/?idFiltro=3&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Notificaciones por Enviar PCR"])])])])]),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]}},Vs=N,$s={secs:[],nombres:"",show:!1,view:function(){var o="",i="",n="";return 0==zs.num&&setTimeout(function(){zs.num=zs.data.length,zs.parseFetch(),r().redraw.sync()},2e3),0==$s.secs.length?[r()("div.pd-10.wd-100p",r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+zs.data.length+" formulario(s) encontrado(s)..."}}),r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]:[$s.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(i=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(n="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=zs.data.length+" formulario(s) encontrado(s)."}}),r()("table.table.table-bordered.wd-100p",{style:{zoom:zs.zoom}},[r()("thead",[r()("tr",r()("th[colspan='12'][scope='col']",[r()("i.tx-light.fas.fa-file-alt.mg-r-2."),r()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),r()("tr",[r()("th[colspan='10'][scope='col']",r()("div.m-0.p-0",r()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),r()("th.tx-right[colspan='2'][scope='col']",r()("a.tx-right.tx-semibold",{href:n,target:"_blank"},r()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),r()("tbody",[r()("tr",[r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ESTABLECIMIENTO")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NOMBRE")),r()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","APELLIDO")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","SEXO (M-F)")),r()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","NHCL.")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.tx-bold.text-center.","ADM."))]),r()("tr",[r()("th.text-center[colspan='3'][scope='row']",r()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",$s.nombres)),r()("td.text-center[colspan='3']",r()("div.m-0.p-0.text-center",$s.apellidos_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",$s.sexo)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",$s.nhcl)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",$s.numero_admision))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","EDAD")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),r()("tr",[r()("td.text-center[colspan='1'][scope='row']",r()("div.m-0.p-0.text-center",$s.edad||$s.edad_paciente)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",$s.identificacion)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",$s.fecha_admision)),r()("td.text-center[colspan='1']",r()("div.m-0.p-0.text-center",$s.fecha_admision)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",$s.ubicacion)),r()("td.text-center[colspan='4']",r()("div.m-0.p-0.text-center",$s.medico_tratante))]),r()("tr",[r()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),r()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},r()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",r()("br"),"CADA PRESCRIPCIÓN"]))]),r()("tr",[r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FECHA",r()("br"),"día/mes/año"])),r()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","HORA")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),r()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",r()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),r()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},r()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",r()("br"),"FÁRMACOS INSUMOS"]))]),r()("tr",[r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?r().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),r()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},r()("div.m-0.p-2.text-justify",null!==i&&0!==i.length?r().trust(i.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},zs={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){$s.secs.push(o.data[e])}),$s.secs.map(function(e,t,a){"nombres"==e.name&&($s.nombres=e.answer),"apellidos_paciente"==e.name&&($s.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&($s.sexo=e.answer),"nhcl"==e.name&&($s.nhcl=e.answer),"numero_admision"==e.name&&($s.numero_admision=e.answer),"edad"==e.name&&($s.edad=e.answer),"edad_paciente"==e.name&&($s.edad_paciente=e.answer),"identificacion_paciente"==e.name&&($s.identificacion=e.answer),"fecha_admision"==e.name&&($s.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&($s.ubicacion=e.answer),"fecha_alta"==e.name&&($s.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&($s.medico_tratante=e.answer)})},parseFetch:function(){return $s.secs=[],zs.data.map(function(e,t,a){zs.parseDoc(zs.data[t])})},fetch:function(){zs.data=[],zs.error="",r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+zs.nhc+"&adm="+zs.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(zs.data=e,zs.num=0):zs.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){zs.fetch()},5e3)})},view:function(){return zs.error?[r()(".alert.alert-danger[role='alert']",zs.error)]:0!==zs.data.length?[r()($s)]:[r()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},Js={data:[],detalle:[],error:"",showFor:"",fetch:function(){Js.data=[],Js.error="",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:qs.numeroHistoriaClinica+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Js.data=e.data,zs.adm=Js.data[0].ADM,zs.nhc=Js.data[0].NHCL,zs.fetch()):Js.error=e.message}).catch(function(e){setTimeout(function(){Js.fetch()},5e3)})},view:function(){return Js.error?[r()(".alert.alert-danger[role='alert']",Js.error)]:0!==Js.data.length?[r()(zs)]:[r()("div.pd-10.wd-100p",r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")]))]}},qs={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle Hoja 005 "+e.attrs.numeroPedido+" | "+d.title,(void 0!==qs.data&&0==qs.data.length||qs.numeroPedido!==e.attrs.numeroPedido)&&(qs.numeroPedido=e.attrs.numeroPedido,qs.numeroAtencion=e.attrs.numeroAtencion,qs.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,qs.fetch()))},fetch:function(){qs.data=[],qs.loader=!0,qs.loader=!1,qs.data=[],qs.examenes=[],Js.fetch()},view:function(e){return[r()(o,{oncreate:o.setPage("bco-sangre")}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("div.row.animated.fadeInUp",[r()(Js)])]))]}},Xs=qs;function Gs(e,t,a){(t=el(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function Zs(e){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ws(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,el(o.key),o)}}function Qs(e,t,a){t&&Ws(e.prototype,t),a&&Ws(e,a),Object.defineProperty(e,"prototype",{writable:!1})}function el(e){e=function(e,t){if("object"!==Zs(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Zs(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Zs(e)?e:String(e)}var tl=function(){function a(e){var t=this;Ks(this,a),this.div=document.getElementById(e),this.intervalo=setInterval(function(){return t.actualizar()},1e3)}return Qs(a,[{key:"actualizar",value:function(){var e=(new Date).getHours(),t=(new Date).getMinutes(),a=(new Date).getSeconds(),e=(e=e<10?"0"+e:e)+":"+(t=t<10?"0"+t:t)+":"+(a=a<10?"0"+a:a);this.div.textContent=e}},{key:"detener",value:function(){clearInterval(this.intervalo)}}]),a}(),al=function(){function e(){Ks(this,e)}return Qs(e,[{key:"view",value:function(){return[r()("div.content.content-components",r()("div.container",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/laboratorio"},["MetroPlus"])),r()("li.breadcrumb-item.active[aria-current='page']","Laboratorio")]),r()("div.d-flex",[r()("div.flex-grow-1",r()("h1.df-title.mg-t-20.mg-b-10",["Laboratorio: ",r()("span.tx-40.badge.bg-litecoin.pd-10.tx-white.mg-r-10",ol.idToma),r()("i",{title:" Editar ",class:"fas fa-edit tx-40 tx-light",style:"cursor:pointer",onclick:function(){ol.showConfigToma=!ol.showConfigToma}})])),r()("div.d-flex.mg-l-auto",r()("div[id='reloj'].df-title.mg-t-20.mg-b-10",{oncreate:function(){return new tl("reloj")}}),r()("i",{title:" Editar ",class:"fas fa-clock mg-l-4 mg-t-30 tx-32 tx-light"}))]),r()("div.mg-t-20.d.flex",{class:null==ol.showConfigToma||0==ol.showConfigToma?"d-none":""},[r()("fieldset.form-fieldset",[r()("legend.pd-2","MODIFICAR TOMA:"),r()("div.tx-30",[r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='customRadio1'][name='customRadio']",{checked:"TOMA1"==ol.idToma,onchange:function(e){ol.idToma="TOMA1",localStorage.setItem("peerId",ol.idToma)}}),r()("label.custom-control-label[for='customRadio1']","TOMA 1")]),r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='customRadio2'][name='customRadio']",{checked:"TOMA2"==ol.idToma,onchange:function(e){ol.idToma="TOMA2",localStorage.setItem("peerId",ol.idToma)}}),r()("label.custom-control-label[for='customRadio2']","TOMA  2")]),r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='customRadio3'][name='customRadio']",{checked:"TOMA3"==ol.idToma,onchange:function(e){ol.idToma="TOMA3",localStorage.setItem("peerId",ol.idToma)}}),r()("label.custom-control-label[for='customRadio3']","TOMA  3")]),r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='customRadio4'][name='customRadio']",{checked:"TOMA4"==ol.idToma,onchange:function(e){ol.idToma="TOMA4",localStorage.setItem("peerId",ol.idToma)}}),r()("label.custom-control-label[for='customRadio4']","TOMA  4")]),r()("div.custom-control.custom-radio",[r()("input.custom-control-input[type='radio'][id='customRadio5'][name='customRadio']",{checked:"TOMA5"==ol.idToma,onchange:function(e){ol.idToma="TOMA5",localStorage.setItem("peerId",ol.idToma)}}),r()("label.custom-control-label[for='customRadio5']","TOMA 5")])])])]),r()("div.row.mg-t-20",{class:null==ol.showConfigToma||0==ol.showConfigToma?"":"d-none"},[r()("li",{class:"list-item bg-success wd-100p",style:{cursor:"pointer"},onclick:function(){r().route.set("/laboratorio/flebotomista")}},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:"fas fa-flask tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-40 mg-b-0 tx-white"},"Pendientes")])])]),r()("li.d-none",{class:"list-item bg-white wd-100p"},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:"fas fa-file-alt tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-40 mg-b-0"},"Gestionados")])])]),r()("li",{class:"list-item bg-white wd-100p"},[r()("div",{class:"media"},[r()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},r()("i",{class:"fas fa-user tx-30 tx-white"})),r()("div",{class:"media-body mg-l-15"},[r()("p",{class:"tx-40 mg-b-0"},["Usuario: mchang "])])])])])]))]}}]),e}(),ol=function(){function e(){Ks(this,e),void 0!==localStorage.getItem("peerId")?e.idToma=localStorage.getItem("peerId"):localStorage.setItem("peerId",e.idToma)}return Qs(e,[{key:"getMenu",value:function(){return new Promise(function(e,t){setTimeout(function(){e("hello")},10)})}},{key:"vMain",value:function(){return[r()(al)]}},{key:"view",value:function(){return[r()(o,{oncreate:o.setPage("laboratorio")}),this.vMain()]}}]),e}(),il=(Gs(ol,"isConnect",!1),Gs(ol,"peer",null),Gs(ol,"otherPeer",void 0),Gs(ol,"peerMessage",void 0),Gs(ol,"showConfigToma",!1),Gs(ol,"idToma","TOMA1"),ol),nl=wl(1360),rl={menu:[{idModulo:32,label:"Nueva Contrato",href:"admisiones/contratos/nuevo"},{idModulo:33,label:"Contratos Digitalizados",href:"admisiones/contratos"}],view:function(){if(0!==rl.menu.length)return[rl.menu.map(function(e,t,a){return[nl(nl.route.Link,{href:"/"+e.href,class:dl.page==e.idModulo?"active":""},[e.label])]})]}},dl={page:"",setPage:function(e){dl.page=e},view:function(){return[nl(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[nl("div.sidebar-header",[nl("a[href=''][id='mainMenuOpen']",nl("i[data-feather='menu']")),nl("h5","Menu"),nl("a[href=''][id='sidebarMenuClose']",nl("i[data-feather='x']"))]),nl("div.sidebar-body",nl("ul.sidebar-nav",[nl("li.nav-label.mg-b-15","Contratos Digitalizados"),nl("li.nav-item.show",[nl(nl.route.Link,{href:"/admisiones",class:"nav-link with-sub"},[nl("i[data-feather='layout']")," Admisiones "]),nl("nav.nav",[nl(rl)])])]))])]}},sl=dl;var ll={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),r().redraw()},start:function(e){e.interval=setInterval(ll.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?ll.start(e):ll.stop(e),e.isPaused=!e.isPaused}};function cl(){var t={interval:null,seconds:100,isPaused:!1};return ll.start(t),{view:function(){return[r()("div.mg-b-0",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[r()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),r()("div.d-flex.justify-content-between.mg-b-5",[r()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),r()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",r()("small.pd-2.tx-15",t.isPaused?[r()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){ll.toggle(t)},style:{cursor:"pointer"}})]:[r()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){ll.toggle(t)},style:{cursor:"pointer"}})]))]),r()("div.progress.ht-4.mg-b-0.op-5",r()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ll.stop(t)}}}var ul={oncreate:function(){ml.loadContratosAd(),0!==ml.searchField.length&&$("#table-ContratosAd").DataTable().search(ml.searchField).draw()},view:function(){return r()("div.row.animated.fadeInUp",{},[r()("div.col-12",[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[r()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[r()("h5.mg-b-0","Todos los Contratos:",r()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==ml.idFiltro&&(e.dom.innerHTML="Contratos Digitalizados de Hoy"),2==ml.idFiltro&&(e.dom.innerHTML="Contratos Digitalizados entre fechas")},onupdate:function(e){1==ml.idFiltro&&(e.dom.innerHTML="Contratos Digitalizados de Hoy"),2==ml.idFiltro&&(e.dom.innerHTML="Contratos Digitalizados entre fechas")}})),r()("div.d-flex.tx-14",[r()(".",{class:1==ml.idFiltro?"d-none":"d-flex"},[r()("div.link-03",{title:"Desde"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},r()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==ml.idFiltro?moment(moment(ml.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){ml.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),ml.loader=!0,ml.pedidos=[],ml.fetch(),r().route.set("/laboratorio/Contratos Digitalizados?idFiltro="+ml.idFiltro+"&fechaDesde="+ml.fechaDesde+"&fechaHasta="+ml.fechaHasta)},style:{border:"transparent"}})),r()("div.link-03",{title:"Hasta"},r()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),r()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},r()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==ml.idFiltro?moment(moment(ml.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){ml.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),ml.loader=!0,ml.pedidos=[],ml.fetch(),r().route.set("/laboratorio/ContratosAd?idFiltro="+ml.idFiltro+"&fechaDesde="+ml.fechaDesde+"&fechaHasta="+ml.fechaHasta)},style:{border:"transparent"}}))]),r()("div.dropdown.dropleft",[r()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},r()("i.fas.fa-filter.tx-18.pd-5")),r()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[r()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),r()(r().route.Link,{class:"dropdown-item",href:"/admisiones/contratos/?idFiltro=1"},["Contratos Digitalizados de Hoy"]),r()(r().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/Contratos Digitalizados/?idFiltro=2&fechaDesde="+ml.fechaDesde+"&fechaHasta="+ml.fechaHasta},["Contratos Digitalizados entre fechas"])])])])]),r()("div.col-sm-12.filemgr-content-header",{class:1==ml.idFiltro?"mg-t-35":"mg-t-40"},[r()("i[data-feather='search']"),r()("div.search-form",r()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){ml.searchField=e.target.value},value:ml.searchField}))]),r()("table.table.table-sm.tx-11[id='table-ContratosAd'][width='100%']")])])])}},ml={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){sl.page="",0==ml.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),ml.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),ml.fechaHasta=moment().format("DD-MM-YYYY"),ml.loader=!0,ml.pedidos=[],ml.fetch())},oncreate:function(e){Ge.suscribirCanal("MetroPlus-TR")},loadContratosAd:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-ContratosAd").DataTable({data:ml.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"HC y Nro. de Admisión:"},{title:"Usuario:"},{title:"Status:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fecha},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return" Nhc:"+a.nhc+" Adm:"+a.adm},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.usuario},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){r().mount(e,{view:function(){return[r()("td",{class:"bg-primary"},[r()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1",o+1)]),r()("td",{style:{}},t.fecha),r()("td",{style:{}},r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.nhc+" Adm: "+t.adm)),r()("td",{style:{}},[r()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.usuario)]),r()("td.tx-center",{onclick:function(){r().route.set("/admisiones/contratos/status/",{id:t.id,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Detalle ")]}})},drawCallback:function(e){ml.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==ml.idFiltro?"?idFiltro="+ml.idFiltro:"?idFiltro="+ml.idFiltro+"&fechaDesde="+ml.fechaDesde+"&fechaHasta="+ml.fechaHasta;r().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/ad"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){ml.loader=!1,ml.pedidos=e.data}).catch(function(e){setTimeout(function(){ml.fetch()},2e3)})},reloadData:function(){var e=$("#table-ContratosAd").DataTable();e.clear(),e.rows.add(ml.pedidos).draw()},view:function(e){return ml.loader?[r()(sl,{oncreate:sl.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admisiones "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones/contratos"},[" Contratos Digitalizados "]))]),r()("h1.df-title.mg-t-20.mg-b-10","Contratos Digitalizados:"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("div.table-loader.wd-100p",[r()("div.placeholder-paragraph",[r()("div.line"),r()("div.line")])])])])]))]:0!==ml.error.length?[r()(sl,{oncreate:sl.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admisiones "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones/contratos"},[" Contratos Digitalizados "]))]),r()("h1.df-title.mg-t-20.mg-b-10","Contratos Digitalizados:"),r()("div.row.animated.fadeInUp",[r()("p","No existe información.")])]))]:ml.loader||0===ml.pedidos.length?ml.loader||0!=ml.pedidos.length?[r()(sl,{oncreate:sl.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admisiones "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones/contratos"},[" Contratos Digitalizados "])),r()("li.breadcrumb-item.active[aria-current='page']","Contratos Digitalizados:")]),r()("h1.df-title.mg-t-20.mg-b-10","Contratos Digitalizados"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()("p"," Error interno.")])])]))]:[r()(sl,{oncreate:sl.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admisiones "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones/contratos"},[" Contratos Digitalizados "])),r()("li.breadcrumb-item.active[aria-current='page']","Contratos Digitalizados:")]),r()("h1.df-title.mg-t-20.mg-b-10","Contratos Digitalizados"),r()("div.row.animated.fadeInUp",[r()("div.col-12",[r()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[r()(sl,{oncreate:sl.setPage(33)}),r()("div.content.content-components",r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[r()("li.breadcrumb-item",r()(r().route.Link,{href:"/"},[" MetroPlus "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones"},[" Admisiones "])),r()("li.breadcrumb-item",r()(r().route.Link,{href:"/admisiones/contratos"},[" Contratos Digitalizados "])),r()("li.breadcrumb-item.active[aria-current='page']","Contratos Digitalizados:")]),r()("h1.df-title.mg-t-20.mg-b-10","Contratos Digitalizados:"),r()(ul)])),r()("div.section-nav",[r()("label.nav-label","Contratos Digitalizados"),r()("div.mg-t-10.bg-white",{},r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5"," Contratos Digitalizados ")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",ml.pedidos.length),r()("div.tx-18",[r()("divv.lh-0.tx-gray-300","Contrato(s)")])])])),r()("div.pd-20",r()(cl)))])]}},pl=ml,bl={files:[],detalle:[],error:"",showFor:"",uploadService:function(e){var t=new FormData($("#uploadForm")[0]);fetch("https://api.hospitalmetropolitano.org/t/v1/procesos/ad/uploads?id="+fl.id,{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){console.log("data = ",e),alert("Proceso realizado con éxito"),r().route.set("/admisiones/contratos/status/?id="+fl.id+"&track=view")}).catch(function(e){console.error(e)})},loadFile:function(e){Array.from(e.target.files).forEach(function(e){bl.files.push(e)})},view:function(){return[r()("div.mg-t-10.d-flex",{},[0==bl.files.length?[r()("p","No existe archivos.")]:0<bl.files.length?[bl.files.map(function(e,t,a){return[r()("div.col-6.col-sm-4.col-md-3.col-xl-3.mg-b-5.mg-t-5",r()("div.card.card-file",[r()("div.dropdown-file",[r()("a.dropdown-link[href=''][data-toggle='dropdown']",r()("svg.feather.feather-more-vertical[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("circle[cx='12'][cy='12'][r='1']"),r()("circle[cx='12'][cy='5'][r='1']"),r()("circle[cx='12'][cy='19'][r='1']")])),r()("div.dropdown-menu.dropdown-menu-right",[r()("a.dropdown-item.download[href='"+e.url+"'][target='_blank']",[r()("svg.feather.feather-download[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("path[d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4']"),r()("polyline[points='7 10 12 15 17 10']"),r()("line[x1='12'][y1='15'][x2='12'][y2='3']")]),"Descargar"])])]),r()("div.card-file-thumb.tx-danger",r()("i.far.fa-file-pdf")),r()("div.card-body",[r()(".d-inline.tx-5",e.name)])]))]})]:[]]),r()("form.mg-t-50",{enctype:"multipart/form-data",id:"uploadForm"},[r()("div.custom-file.mg-b-5",[r()("label.custom-file-label[for='uploadFiles']"," Subir Archivos "),r()("input.custom-file-input[autofocus][id='uploadFiles'][name='uploadFiles'][type='file'][multiple='true']",{onchange:function(e){bl.loadFile(e)}})])])]}},fl={id:null,data:[],activos:[],examenes:[],error:"",numeroNuevoContrato:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,user:"",pass:"",loaderFirma:!1,oninit:function(){fl.fetch()},fetchPaciente:function(e){fl.data.pte="Procesando...",r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/buscar-paciente",body:{pte:e,tipoBusqueda:"nhc"},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(fl.data.pte=e.data[0].APELLIDOS+" "+e.data[0].NOMBRES)}).catch(function(e){alert(e)})},fetch:function(){fl.activos=[],fl.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(fl.loader=!1,fl.activos=e.data):fl.error=e.message}).catch(function(e){fl.fetch()})},sendContrato:function(){fl.loader=!0;var e=B.getDataUser();z.user=e.user,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/ad/nuevo-contrato",body:{fecha:moment().format("DD-MM-YYYY"),nhc:fl.data.nhc,adm:fl.data.adm,pte:fl.data.pte,user:void 0!==z.user.user?z.user.user.toLowerCase():""},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(fl.id=e.id,setTimeout(function(){bl.uploadService()},2e3)):fl.error=e.message}).catch(function(e){fl.fetch()})},firmarTR:function(){fl.loaderFirma=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/login-user",body:{user:fl.user,pass:fl.pass},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){fl.loaderFirma=!1,e.status&&0!==e.data.length?(alert("Usuario autenticado con éxito."),fl.data.usuario=e.data.NOMBRE+" - "+e.data.CARGO+" - "+e.data.AREA+" - "+e.data.CENTRO_COSTO,fl.data.email=e.data.EMAIL,fl.data.centro_costo=e.data.CENTRO_COSTO):alert(e.message)}).catch(function(e){fl.firmarTR()})},view:function(e){return[r()(Q),r()("div.content.content-components",{},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("h1.df-title.mg-b-10","Nuevo Contrato: "),r()("div.row.animated.fadeInUp",[r()("div.col-12",[fl.loader?[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]:[],0!==fl.activos.length?[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{class:fl.loader?"d-none":""},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("div.table-responsive",[r()("form",{},[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),r()("tbody",[r()("tr",[r()("th.tx-semibold.tx-14[colspan='1'][width='20%']",{style:{"background-color":"#a8bed6"}},"Historia Clínica:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"number",placeholder:"Historia Clínica",onkeypress:function(e){13==e.keyCode&&fl.fetchPaciente(fl.data.nhc)},oninput:function(e){fl.data.nhc=e.target.value}}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1'][width='20%']",{style:{"background-color":"#a8bed6"}},"Nro. de Admisión:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"number",placeholder:"Nro. de Admisión",onkeypress:function(e){13==e.keyCode&&fl.fetchPaciente(fl.data.nhc)},oninput:function(e){fl.data.adm=e.target.value}}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Paciente:"),r()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Paciente",disabled:"disabled",value:void 0!==fl.data&&void 0!==fl.data.pte?fl.data.pte:""}))]),r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","ADJUNTOS:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos "))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(bl)])]))]),r()("tr.d-print-none",[]),r()("tr",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("div.input-group.mg-t-5",r()("button.btn.btn-primary.btn-xs.btn-block.tx-semibold[type='button']",{onclick:function(e){fl.sendContrato()}},"Subir Contrato")))])])])])])])])]:[]])])])),r()("div.section-nav",[r()("label.nav-label","Nuevo Contrato"),r()("div.mg-t-10.mg-b-10.bg-white",{},r()("a",{href:"/admisiones/contratos"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Consultar Contratos")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-search.tx-40.tx-success")),r()("div",[r()("divv.lh-0.tx-gray-300","Contratos")])])]))]),r()("a",{href:"/admisiones/contratos/nuevo"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Nuevo Contrato")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-file.tx-40.tx-primary")),r()("div",[r()("divv.lh-0.tx-gray-300","Contratos")])])]))]))])]}},hl=fl,gl={files:[],detalle:[],error:"",showFor:"",uploadService:function(e){var t=new FormData($("#uploadForm")[0]);fetch("https://api.hospitalmetropolitano.org/t/v1/procesos/ad/uploads?idTR="+xl.id,{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){console.log("data = ",e),alert("Proceso realizado con éxito.")}).catch(function(e){console.error(e)})},loadFile:function(e){Array.from(e.target.files).forEach(function(e){gl.files.push(e)})},view:function(){return[r()("div.mg-t-10.d-flex",{},[0==gl.files.length?[r()("p","No existe archivos.")]:0<gl.files.length?[gl.files.map(function(e,t,a){return[r()("div.col-6.col-sm-4.col-md-3.col-xl-3.mg-b-5.mg-t-5",r()("div.card.card-file",[r()("div.dropdown-file",[r()("a.dropdown-link[href=''][data-toggle='dropdown']",r()("svg.feather.feather-more-vertical[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("circle[cx='12'][cy='12'][r='1']"),r()("circle[cx='12'][cy='5'][r='1']"),r()("circle[cx='12'][cy='19'][r='1']")])),r()("div.dropdown-menu.dropdown-menu-right",[r()("a.dropdown-item.download[href='"+e.url+"'][target='_blank']",[r()("svg.feather.feather-download[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[r()("path[d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4']"),r()("polyline[points='7 10 12 15 17 10']"),r()("line[x1='12'][y1='15'][x2='12'][y2='3']")]),"Descargar"])])]),r()("div.card-file-thumb.tx-danger",r()("i.far.fa-file-pdf")),r()("div.card-body",[r()(".d-inline.tx-5",e.name)])]))]})]:[]]),r()("form.mg-t-50",{enctype:"multipart/form-data",id:"uploadForm",onsubmit:function(e){e.preventDefault(),gl.uploadService()}},[r()("div.custom-file.mg-b-5",[r()("label.custom-file-label[for='uploadFiles']"," Subir Archivos "),r()("input.custom-file-input[autofocus][id='uploadFiles'][name='uploadFiles'][type='file'][multiple='true']",{onchange:function(e){gl.loadFile(e)}})]),r()("button.btn.btn-primary.btn-block[type='submit']","Subir Archivo")])]}},vl={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return $.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:vl.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[1],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){r().mount(e.anCells[1],{view:function(){return r()("div.demo-static-toast",r()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[r()("div.toast-header.bg-primary",[r()("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observación"),r()("small.tx-white",moment.unix(e._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),r()("div.toast-body.tx-14",e._aData.log)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(vl.data).draw()},fetch:function(){vl.data=xl.data.comments,vl.loadObservaciones()}},xl={id:"",data:[],activos:[],examenes:[],error:"",numeroStatusContrato:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,oninit:function(e){xl.id=e.attrs.id,xl.fetch()},fetch:function(){xl.activos=[],xl.loader=!0,r().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/ad",body:{id:xl.id},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(xl.loader=!1,xl.data=e.data,!1!==xl.data.files&&(gl.files=xl.data.files),setTimeout(function(){vl.fetch()},100)):xl.error=e.message}).catch(function(e){xl.fetch()})},view:function(e){return[r()(Q),r()("div.section-nav",[r()("label.nav-label","Nuevo Contrato"),r()("div.mg-t-10.mg-b-10.bg-white",{},r()("a",{href:"/admisiones/contratos"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Consultar Contratos")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-search.tx-40.tx-success")),r()("div",[r()("divv.lh-0.tx-gray-300","Contratos")])])]))]),r()("a",{href:"/admisiones/contratos/nuevo"},[r()("div.mg-t-10.bg-white",r()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[r()("h6.lh-5.mg-b-5","Nuevo Contrato")]),r()("div.card-body.pd-0",[r()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[r()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",r()("i.fas.fa-file.tx-40.tx-primary")),r()("div",[r()("divv.lh-0.tx-gray-300","Contratos")])])]))]))]),r()("div.content.content-components",{style:{"margin-left":"0px"}},r()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[r()("h1.df-title.mg-t-20.mg-b-10","Contrato Digital N°: HM-"+xl.id),r()("div.row.animated.fadeInUp",[r()("div.col-12",[0!==xl.data.length?[r()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{},[r()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[r()("div.",[r()("table.table.table-bordered.table-sm.tx-12",[r()("thead",r()("tr.bg-litecoin.op-9.tx-white",[r()("th[scope='col'][colspan='10']","DATOS:")])),r()("tbody",[r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6",width:"25%"}},"Fecha:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input.disabled",{value:xl.data.fecha,class:"form-control tx-semibold tx-15 tx-danger",type:"text",disabled:"disabled"}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Historia Clínica:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:xl.data.nhc}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Nro. de Admisión:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:xl.data.adm}))]),r()("tr",[r()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Paciente:"),r()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},r()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:xl.data.pte}))])]),r()("tbody",[r()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[r()("th[scope='col'][colspan='10']","ADJUNTOS:")]),r()("tr.d-print-none",[r()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},r()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[r()("li.nav-item",r()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},r()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos ",0!==gl.files.length?[r()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",gl.files.length)]:[])),r()("li.nav-item",{},r()("a.nav-link[id='home-auth1'][data-toggle='tab'][href='#auth1'][role='tab'][aria-controls='auth1']",{style:{color:"#476ba3"}},r()("i.fas.fa-edit.pd-1.mg-r-2")," Observaciones ",0!==xl.data.comments.length?[r()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",xl.data.comments.length)]:[]))]))]),r()("tr.d-print-none",[r()("td[colspan='9']",{},r()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[r()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[r()(gl)]),r()(".tab-pane.fade[id='auth1'][role='tabpanel'][aria-labelledby='home-auth1']",[r()("p.mg-5",[r()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),r()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),r()("tr.d-print-none",[])])])])])])]:[r()("div.pd-t-10",[r()("div.placeholder-paragraph.wd-100p",[r()("div.line"),r()("div.line")])])]])])]))]}},yl=xl,F=wl(1360),Ve=(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),{"/":d,"/subscribir/notificaciones":Ve,"/redir/mv/:idAtencion":e,"/inicio":ra,"/laboratorio":fe,"/laboratorio/lisa/pedidos/ingresados":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&(null==e.attrs.fechaDesde||null==e.attrs.fechaHasta))return F.route.set("/laboratorio/lisa/pedidos/ingresados/",{idFiltro:1});Ot.idFiltro=e.attrs.idFiltro,1===Ot.idFiltro&&0==Ot.pedidos.length&&(Ot.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Ot.fechaHasta=moment().format("DD-MM-YYYY"),Ot.loader=!0,Ot.pedidos=[],Ot.fetchPedidosIngresados()),1!==Ot.idFiltro&&0==Ot.pedidos.length&&(Ot.fechaDesde=e.attrs.fechaDesde,Ot.fechaHasta=e.attrs.fechaHasta,Ot.loader=!0,Ot.pedidos=[],Ot.fetchPedidosIngresados())},onremove:function(e){Ot.loader=!0,Ot.pedidos=[]},onupdate:function(e){Ot.idFiltro=e.attrs.idFiltro,1===Ot.idFiltro&&0==Ot.pedidos.length&&(Ot.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Ot.fechaHasta=moment().format("DD-MM-YYYY"),Ot.loader=!0,Ot.pedidos=[],Ot.fetchPedidosIngresados()),1!==Ot.idFiltro&&0==Ot.pedidos.length&&(Ot.fechaDesde=e.attrs.fechaDesde,Ot.fechaHasta=e.attrs.fechaHasta,Ot.loader=!0,Ot.pedidos=[],Ot.fetchPedidosIngresados())},view:function(e){return[F(o,{oncreate:o.setPage("laboratorio")}),F(Ot)]}},"/laboratorio/lisa/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido&&void 0!==e.idTimeRecord?$t:F.route.SKIP}},"/laboratorio/notificaciones":ge,"/laboratorio/notificaciones/filtros":Je,"/laboratorio/notificaciones/porenviar":{oninit:function(e){if(d.isAuth("laboratorio",15),document.title="Notificaciones por Enviar | "+d.title,null==e.attrs.idFiltro&&(null==e.attrs.fechaDesde||null==e.attrs.fechaHasta))return F.route.set("/laboratorio/notificaciones/porenviar/",{idFiltro:1});if(null==e.attrs.fechaDesde&&null==e.attrs.fechaHasta)Vs.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Vs.fechaHasta=moment().format("DD-MM-YYYY");else{if(void 0===e.attrs.fechaDesde||void 0===e.attrs.fechaHasta)return F.route.set("/laboratorio/notificaciones/enviadas/",{idFiltro:1});Vs.fechaDesde=e.attrs.fechaDesde,Vs.fechaHasta=e.attrs.fechaHasta,Vs.fechaDesde=e.attrs.fechaDesde,Vs.fechaHasta=e.attrs.fechaHasta}0==Vs.NotificacionesPorEnviarLab.length&&0==Vs.error.length&&(Vs.idFiltro=e.attrs.idFiltro,Vs.loader=!0,Vs.NotificacionesPorEnviarLab=[],Vs.fetchNotificacionesPorEnviarLab())},onupdate:function(e){null==e.attrs.fechaDesde&&null==e.attrs.fechaHasta?(Vs.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Vs.fechaHasta=moment().format("DD-MM-YYYY")):(Vs.fechaDesde=e.attrs.fechaDesde,Vs.fechaHasta=e.attrs.fechaHasta),e.attrs.idFiltro!==Vs.idFiltro&&(Vs.idFiltro=e.attrs.idFiltro,Vs.loader=!0,Vs.NotificacionesPorEnviarLab=[],Vs.fetchNotificacionesPorEnviarLab())},view:function(e){return[F(o,{oncreate:o.setPage("laboratorio")}),F(Vs)]}},"/laboratorio/notificaciones/enviadas":{oninit:function(e){if(d.isAuth("laboratorio",15),document.title="Notificaciones Enviadas | "+d.title,null==e.attrs.idFiltro&&(null==e.attrs.fechaDesde||null==e.attrs.fechaHasta))return F.route.set("/laboratorio/notificaciones/enviadas/",{idFiltro:1});if(null==e.attrs.fechaDesde&&null==e.attrs.fechaHasta)rt.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),rt.fechaHasta=moment().format("DD-MM-YYYY");else{if(void 0===e.attrs.fechaDesde||void 0===e.attrs.fechaHasta)return F.route.set("/laboratorio/notificaciones/enviadas/",{idFiltro:1});rt.fechaDesde=e.attrs.fechaDesde,rt.fechaHasta=e.attrs.fechaHasta,rt.fechaDesde=e.attrs.fechaDesde,rt.fechaHasta=e.attrs.fechaHasta}0==rt.NotificacionesEnviadasLab.length&&0==rt.error.length&&(rt.idFiltro=e.attrs.idFiltro,rt.loader=!0,rt.NotificacionesEnviadasLab=[],rt.fetchNotificacionesEnviadasLab())},onupdate:function(e){null==e.attrs.fechaDesde&&null==e.attrs.fechaHasta?(rt.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),rt.fechaHasta=moment().format("DD-MM-YYYY")):(rt.fechaDesde=e.attrs.fechaDesde,rt.fechaHasta=e.attrs.fechaHasta),e.attrs.idFiltro!==rt.idFiltro&&(rt.idFiltro=e.attrs.idFiltro,rt.loader=!0,rt.NotificacionesEnviadasLab=[],rt.fetchNotificacionesEnviadasLab())},view:function(e){return[F(o,{oncreate:o.setPage("laboratorio")}),F(rt)]}},"/laboratorio/notificaciones/pendientes":Lo,"/laboratorio/notificaciones/error":Yo,"/laboratorio/flebotomista/inicio":il,"/laboratorio/flebotomista":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/laboratorio/flebotomista/",{idFiltro:4});ct.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==ct.idFiltro&&1!==ct.idFiltro&&void 0!==ct.fechaDesde?(ct.idFiltro=e.attrs.idFiltro,ct.fechaDesde=e.attrs.fechaDesde,ct.fechaHasta=e.attrs.fechaHasta,ct.loader=!0,ct.pedidos=[],ct.fetchPedidos()):1==e.attrs.idFiltro&&(ct.idFiltro=e.attrs.idFiltro,ct.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),ct.fechaHasta=moment().format("DD-MM-YYYY"),0==ct.pedidos.length?(ct.loader=!0,ct.pedidos=[],ct.fetchPedidos()):ct.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("laboratorio")}),F(ct)]}},"/laboratorio/flebotomista/pedido":{onmatch:function(e){return void 0!==e.numeroPedido&&void 0!==e.idTimeRecord?Nr:F.route.SKIP}},"/laboratorio/etiquetas":{oninit:function(e){d.isAuth("laboratorio",28),document.title="Configuración de Etiquetas | "+d.title},view:function(e){return[F(o,{oncreate:o.setPage("laboratorio")}),F(Kr)]}},"/laboratorio/formularios":Xt,"/emergencia":pa,"/emergencia/auxiliar/pedidos/laboratorio":fa,"/emergencia/auxiliar/pedido/:idPedido":Da,"/emergencia/enfermeria/pedidos/laboratorio":Pa,"/emergencia/enfermeria/pedido/:idPedido":Ha,"/farmacia":za,"/farmacia/recetas":{oninit:function(e){if(d.isAuth("farmacia",5),document.title="Recetas de Alta | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/farmacia/recetas/",{idFiltro:1});$r.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==$r.idFiltro&&1!==$r.idFiltro&&void 0!==$r.fechaDesde?($r.idFiltro=e.attrs.idFiltro,$r.fechaDesde=e.attrs.fechaDesde,$r.fechaHasta=e.attrs.fechaHasta,$r.loader=!0,$r.pedidos=[],$r.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$r.idFiltro=e.attrs.idFiltro,$r.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),$r.fechaHasta=moment().format("DD-MM-YYYY"),0==$r.pedidos.length?($r.loader=!0,$r.pedidos=[],$r.fetch()):$r.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("laboratorio")}),F($r)]}},"/farmacia/receta/":{onmatch:function(e){return void 0!==e.numeroReceta?Xr:F.route.SKIP}},"/contabilidad":id,"/contabilidad/proceso/tarjeta-roja":hd,"/contabilidad/proceso/tarjeta-roja/nueva":qo,"/contabilidad/proceso/tarjeta-roja/id":Rd,"/contabilidad/proceso/tarjeta-roja/status":Bd,"/contabilidad/proceso/tarjeta-roja/inicio":$d,"/contabilidad/proceso/tarjeta-roja/autorizaciones":{oninit:function(e){if(d.isAuth("contabilidad",33),document.title="Autorizaciones | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/contabilidad/proceso/tarjeta-roja/autorizaciones/",{idFiltro:1});Hd.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Hd.idFiltro&&1!==Hd.idFiltro&&void 0!==Hd.fechaDesde?(Hd.idFiltro=e.attrs.idFiltro,Hd.fechaDesde=e.attrs.fechaDesde,Hd.fechaHasta=e.attrs.fechaHasta,Hd.loader=!0,Hd.pedidos=[],Hd.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Hd.idFiltro=e.attrs.idFiltro,Hd.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Hd.fechaHasta=moment().format("DD-MM-YYYY"),0==Hd.pedidos.length?(Hd.loader=!0,Hd.pedidos=[],Hd.fetch()):Hd.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("contabilidad")}),F(Hd)]}},"/contabilidad/proceso/tarjeta-roja/consultar":{oninit:function(e){if(document.title="Consultar Status | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/contabilidad/proceso/tarjeta-roja/consultar/",{idFiltro:1});Xd.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Xd.idFiltro&&1!==Xd.idFiltro&&void 0!==Xd.fechaDesde?(Xd.idFiltro=e.attrs.idFiltro,Xd.fechaDesde=e.attrs.fechaDesde,Xd.fechaHasta=e.attrs.fechaHasta,Xd.loader=!0,Xd.pedidos=[],Xd.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Xd.idFiltro=e.attrs.idFiltro,Xd.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Xd.fechaHasta=moment().format("DD-MM-YYYY"),0==Xd.pedidos.length?(Xd.loader=!0,Xd.pedidos=[],Xd.fetch()):Xd.loader=!1)},view:function(e){return[F(Q),F(Xd)]}},"/admisiones":Wa,"/admisiones/pre":oo,"/admisiones/contratos/nuevo":hl,"/admisiones/contratos/status":yl,"/admisiones/contratos":{oninit:function(e){if(document.title="Contratos Digitalizados | "+d.title,null==e.attrs.idFiltro)return F.route.set("/admisiones/contratos/",{idFiltro:1});pl.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==pl.idFiltro&&1!==pl.idFiltro&&void 0!==pl.fechaDesde?(pl.idFiltro=e.attrs.idFiltro,pl.fechaDesde=e.attrs.fechaDesde,pl.fechaHasta=e.attrs.fechaHasta,pl.loader=!0,pl.pedidos=[],pl.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),pl.idFiltro=e.attrs.idFiltro,pl.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),pl.fechaHasta=moment().format("DD-MM-YYYY"),0==pl.pedidos.length?(pl.loader=!0,pl.pedidos=[],pl.fetch()):pl.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("admisiones")}),F(pl)]}},"/admisiones/etiquetas":{oninit:function(e){if(d.isAuth("admisiones",7),document.title="Impresión de Etiquetas | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/admisiones/etiquetas/",{idFiltro:1});Yr.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Yr.idFiltro&&1!==Yr.idFiltro&&void 0!==Yr.fechaDesde?(Yr.idFiltro=e.attrs.idFiltro,Yr.fechaDesde=e.attrs.fechaDesde,Yr.fechaHasta=e.attrs.fechaHasta,Yr.loader=!0,Yr.pedidos=[],Yr.fetchEtiquetas()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Yr.idFiltro=e.attrs.idFiltro,Yr.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Yr.fechaHasta=moment().format("DD-MM-YYYY"),0==Yr.pedidos.length?(Yr.loader=!0,Yr.pedidos=[],Yr.fetchEtiquetas()):Yr.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("admisiones")}),F(Yr)]}},"/mantenimiento":mo,"/mantenimiento/higienizacion":bo,"/hospitalizacion":wo,"/hospitalizacion/pasaportes":Eo,"/hospitalizacion/control-camas":Ro,"/terapia-respiratoria/pedidos":{oninit:function(e){if(d.isAuth("terapia-respiratoria",18),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/terapia-respiratoria/pedidos/",{idFiltro:1});Wo.idFiltro=e.attrs.idFiltro,null==e.attrs.fechaDesde||null==e.attrs.fechaHasta?(Wo.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Wo.fechaHasta=moment().format("DD-MM-YYYY")):(Wo.fechaDesde=e.attrs.fechaDesde,Wo.fechaHasta=e.attrs.fechaHasta),Wo.loader=!0,Wo.pedidos=[],Wo.fetchPedidos()},onupdate:function(e){e.attrs.idFiltro!==Wo.idFiltro&&1!==Wo.idFiltro&&void 0!==Wo.fechaDesde?(Wo.idFiltro=e.attrs.idFiltro,Wo.fechaDesde=e.attrs.fechaDesde,Wo.fechaHasta=e.attrs.fechaHasta,Wo.loader=!0,Wo.pedidos=[],Wo.fetchPedidos()):null!=e.attrs.fechaDesde&&null!=e.attrs.fechaHasta||(Wo.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Wo.fechaHasta=moment().format("DD-MM-YYYY"))},view:function(e){return[F(o,{oncreate:o.setPage("terapia-respiratoria")}),F(Wo)]}},"/bco-sangre":xs,"/bco-sangre/pedidos":{oninit:function(e){if(d.isAuth("bco-sangre",19),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/bco-sangre/pedidos/",{idFiltro:1});Es.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Es.idFiltro&&1!==Es.idFiltro&&void 0!==Es.fechaDesde?(Es.idFiltro=e.attrs.idFiltro,Es.fechaDesde=e.attrs.fechaDesde,Es.fechaHasta=e.attrs.fechaHasta,Es.loader=!0,Es.pedidos=[],Es.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Es.idFiltro=e.attrs.idFiltro,Es.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Es.fechaHasta=moment().format("DD-MM-YYYY"),0==Es.pedidos.length?(Es.loader=!0,Es.pedidos=[],Es.fetchPedidos()):Es.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("bco-sangre")}),F(Es)]}},"/bco-sangre/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?Xs:F.route.SKIP}},"/bco-sangre/lisa/pedidos/ingresados":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&(null==e.attrs.fechaDesde||null==e.attrs.fechaHasta))return F.route.set("/bco-sangre/lisa/pedidos/ingresados/",{idFiltro:6});vt.idFiltro=e.attrs.idFiltro,6===vt.idFiltro&&0==vt.pedidos.length&&(vt.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),vt.fechaHasta=moment().format("DD-MM-YYYY"),vt.loader=!0,vt.pedidos=[],vt.fetchPedidosIngresados()),6!==vt.idFiltro&&0==vt.pedidos.length&&(vt.fechaDesde=e.attrs.fechaDesde,vt.fechaHasta=e.attrs.fechaHasta,vt.loader=!0,vt.pedidos=[],vt.fetchPedidosIngresados())},onremove:function(e){vt.loader=!0,vt.pedidos=[]},onupdate:function(e){vt.idFiltro=e.attrs.idFiltro,6===vt.idFiltro&&0==vt.pedidos.length&&(vt.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),vt.fechaHasta=moment().format("DD-MM-YYYY"),vt.loader=!0,vt.pedidos=[],vt.fetchPedidosIngresados()),6!==vt.idFiltro&&0==vt.pedidos.length&&(vt.fechaDesde=e.attrs.fechaDesde,vt.fechaHasta=e.attrs.fechaHasta,vt.loader=!0,vt.pedidos=[],vt.fetchPedidosIngresados())},view:function(e){return[F(o,{oncreate:o.setPage("laboratorio")}),F(vt)]}},"/bco-sangre/lisa/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido&&void 0!==e.idTimeRecord?kt:F.route.SKIP}},"/neurofisiologia":Ti,"/neurofisiologia/pedidos":{oninit:function(e){if(d.isAuth("neurofisiologia",20),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/neurofisiologia/pedidos/",{idFiltro:1});ri.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==ri.idFiltro&&1!==ri.idFiltro&&void 0!==ri.fechaDesde?(ri.idFiltro=e.attrs.idFiltro,ri.fechaDesde=e.attrs.fechaDesde,ri.fechaHasta=e.attrs.fechaHasta,ri.loader=!0,ri.pedidos=[],ri.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),ri.idFiltro=e.attrs.idFiltro,ri.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),ri.fechaHasta=moment().format("DD-MM-YYYY"),0==ri.pedidos.length?(ri.loader=!0,ri.pedidos=[],ri.fetchPedidos()):ri.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("neurofisiologia")}),F(ri)]}},"/neurofisiologia/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?Ii:F.route.SKIP}},"/cardiologia":ss,"/cardiologia/pedidos":{oninit:function(e){if(d.isAuth("cardiologia",42),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/cardiologia/pedidos/",{idFiltro:1});hs.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==hs.idFiltro&&1!==hs.idFiltro&&void 0!==hs.fechaDesde?(hs.idFiltro=e.attrs.idFiltro,hs.fechaDesde=e.attrs.fechaDesde,hs.fechaHasta=e.attrs.fechaHasta,hs.loader=!0,hs.pedidos=[],hs.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),hs.idFiltro=e.attrs.idFiltro,hs.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),hs.fechaHasta=moment().format("DD-MM-YYYY"),0==hs.pedidos.length?(hs.loader=!0,hs.pedidos=[],hs.fetchPedidos()):hs.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("cardiologia")}),F(hs)]}},"/terapia-fisica":ts,"/terapia-fisica/pedidos":{oninit:function(e){if(d.isAuth("terapia-fisica",41),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/terapia-fisica/pedidos/",{idFiltro:1});ms.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==ms.idFiltro&&1!==ms.idFiltro&&void 0!==ms.fechaDesde?(ms.idFiltro=e.attrs.idFiltro,ms.fechaDesde=e.attrs.fechaDesde,ms.fechaHasta=e.attrs.fechaHasta,ms.loader=!0,ms.pedidos=[],ms.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),ms.idFiltro=e.attrs.idFiltro,ms.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),ms.fechaHasta=moment().format("DD-MM-YYYY"),0==ms.pedidos.length?(ms.loader=!0,ms.pedidos=[],ms.fetchPedidos()):ms.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("terapia-fisica")}),F(ms)]}},"/terapia-fisica/pedido":{onmatch:function(e){return void 0!==e.numeroPedido?Us:F.route.SKIP}},"/terapia-respiratoria":Ni,"/terapia-respiratoria/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?dr:F.route.SKIP}},"/imagen":Ei,"/imagen/agendamiento":{oninit:function(e){d.isAuth("imagen",31),document.title="Agendamiento de Imagen | "+d.title},onupdate:function(e){},view:function(e){return[F(Md,{oncreate:Md.setPage("imagen")}),F(ld,{idFiltro:e.attrs.idFiltro})]}},"/imagen/agendamiento/cita":{oninit:function(e){d.isAuth("imagen",31),document.title="Detalle de Cita | "+d.title},view:function(e){return[F(Md,{oncreate:Md.setPage("imagen")}),F(kd,{id:e.attrs.id})]}},"/imagen/agendamiento/nueva-cita":{oninit:function(e){d.isAuth("imagen",31),document.title="Agendamiento de Imagen | "+d.title},onupdate:function(e){},view:function(e){return[F(Md,{oncreate:Md.setPage("imagen")}),F(Cd)]}},"/imagen/notificaciones":{oninit:function(e){if(d.isAuth("imagen",35),document.title="Notificaciones de Imagen | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/imagen/notificaciones/",{idFiltro:1});_d.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==_d.idFiltro&&1!==_d.idFiltro&&void 0!==_d.fechaDesde?(_d.idFiltro=e.attrs.idFiltro,_d.fechaDesde=e.attrs.fechaDesde,_d.fechaHasta=e.attrs.fechaHasta,_d.loader=!0,_d.pedidos=[],_d.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),_d.idFiltro=e.attrs.idFiltro,_d.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),_d.fechaHasta=moment().format("DD-MM-YYYY"),0==_d.pedidos.length?(_d.loader=!0,_d.pedidos=[],_d.fetch()):_d.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("imagen")}),F(_d)]}},"/imagen/pedidos":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/imagen/pedidos/",{idFiltro:1});bi.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==bi.idFiltro&&1!==bi.idFiltro&&void 0!==bi.fechaDesde?(bi.idFiltro=e.attrs.idFiltro,bi.fechaDesde=e.attrs.fechaDesde,bi.fechaHasta=e.attrs.fechaHasta,bi.loader=!0,bi.pedidos=[],bi.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),bi.idFiltro=e.attrs.idFiltro,bi.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),bi.fechaHasta=moment().format("DD-MM-YYYY"),0==bi.pedidos.length?(bi.loader=!0,bi.pedidos=[],bi.fetchPedidos()):bi.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("imagen")}),F(bi)]}},"/imagen/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?yi:F.route.SKIP}},"/endoscopia":br,"/endoscopia/pedidos":{oninit:function(e){if(d.isAuth("endoscopia",25),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return F.route.set("/endoscopia/pedidos/",{idFiltro:1});vr.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==vr.idFiltro&&1!==vr.idFiltro&&void 0!==vr.fechaDesde?(vr.idFiltro=e.attrs.idFiltro,vr.fechaDesde=e.attrs.fechaDesde,vr.fechaHasta=e.attrs.fechaHasta,vr.loader=!0,vr.pedidos=[],vr.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),vr.idFiltro=e.attrs.idFiltro,vr.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),vr.fechaHasta=moment().format("DD-MM-YYYY"),0==vr.pedidos.length?(vr.loader=!0,vr.pedidos=[],vr.fetchPedidos()):vr.loader=!1)},view:function(e){return[F(o,{oncreate:o.setPage("endoscopia")}),F(vr)]}},"/endoscopia/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?Ar:F.route.SKIP}},"/auth":ae,"/mi-perfil":ea,"/salir":K,"/notificaciones":Jt,"/:404...":aa}),e=wl(1360),ra=(e.route.prefix="",document.body.querySelector("#app"));document.body.style.zoom="100%",e.route(ra,"/",Ve)}()}();